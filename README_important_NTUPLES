test sample:

DATA: 

data16_hip8TeV.00313435.physics_Main.deriv.DAOD_MUON1.r11416_p3868_p3903_tid18723879_00/DAOD_MUON1.18723879._000001.pool.root.1

MC:

mc16_13TeV:mc16_13TeV.410470.PhPy8EG_A14_ttbar_hdamp258p75_nonallhad.deriv.DAOD_MUON1.e6337_s3126_r10724_p3613

pPb Monte Carlo is not available at the moment.

--> produced NTUPLES localy

Reco_tf.py −− inputAODFile <some DAOD_MUON1/AOD> −− outputNTUP_MCPTPFile
MCTP.root −− outputNTUP_MCPScaleFile SC.root

--> NTUPLES MC ttbar:
                            SC_MC_ttbar.root
                            MCTP_MC_ttbar.root
--> NTUPLES HIDATA:
                            MCTP_HIdata.root
                            SC_HIdata.root

--> other necesary information:

GRL: data16_hip8TeV.periodAllYear_DetStatus-v86-pro20-19_DQDefects-00-02-04_PHYS_HeavyIonP_All_Good.xml
PRW datafile: ilumicalc_histograms_None_313063-314170_OflLumi-HI-004.root
PRW: PileupReweightingMc15c-igb.root
Trigger: 

now using: 

1.)

    asetup AthAnalysis,21.2.81,here  asetup AthAnalysis,21.2.109,here
    ListDisc.py
    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903" -r CERN-PROD_PERF-MUONS

    I get:

    INFO : Rucio is set up properly.
    INFO : Read content of CERN-PROD_PERF-MUONS
    INFO : Write dataset group.perf-muons:group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT0
    INFO : Write dataset group.perf-muons:group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT1
    INFO : Datasets written to file /eos/home-p/pebaron/TutorialMUON/runPostProc/CERN-PROD_PERF-MUONS_2019-10-29_data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903.txt

    in the list name of ntuples, I have downloaded by rucio

2.)

    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/RucioListBuilder.py -d CERN-PROD_PERF-MUONS_2019-10-29_data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903.txt -r CERN-PROD_PERF-MUONS

    created: 

    group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT0.txt
    group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT1.txt




3.) 
    I had to recompile:
     ../MuonTPPostProcessing/CMakeLists.txt 
        add lines to CMakeLists:

        # Petr Baron edited after getting error: python: symbol lookup error: /cvmfs/atlas.cern.ch/repo/sw/software/21.2/sw/lcg/releases/ROOT/6.16.00-f8770/x86_64-slc6-gcc62-opt/lib/libNetxNG.so: undefined symbol: _ZN5XrdCl3URLC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE
        # fixed in jira: https://its.cern.ch/jira/browse/ATLINFR-2951
        find_package( AthAnalysisExternals REQUIRED )
        find_package( Xrootd )
        find_package( GSL )
        find_package( Davix )
        find_package( PNG )
        find_package( BLAS )
        find_package( VDT )

    potom recompile:

    cd build
    asetup AthAnalysis,21.2.81,here
    cmake ../MuonTPPostProcessing make -j
    source ../build/x86*/setup.sh        

    lsetup rucio
    localSetupPyAMI

    source ../buildPostProc/x86_64-centos7-gcc62-opt/env_setup.sh

    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/CreateInputConfigs.py --engine LOCAL --jobName PetrBaron_creating_confings -i CERN-PROD_PERF-MUONS_2019-10-29_data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903.txt -o /eos/user/p/pebaron/TutorialMUON/runPostProc/configs -r CERN-PROD_PERF-MUONS

    vyprodukoval v config/data_2016_C_grp16_v01_p3903.conf

4.)

    WriteTagProbeHistos -i data_2016_C_grp16_v01_p3903.conf -h Histo.conf -r Selection.conf -nevents 100 -o out.root
 



TED MONTE CARLO:

1.)

    asetup AthAnalysis,21.2.81,here
    ListDisc.py
     python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "361107.PowhegPythia8EvtGen_Zmumu" -r CERN-PROD_PERF-MUONS

    
    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "mc15_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.DAOD_MUON1.e6430_d1460_r10136_r9647_p3716" -r CERN-PROD_PERF-MUONS

    I get:

    INFO : Rucio is set up properly.
    INFO : Read content of CERN-PROD_PERF-MUONS
    INFO : Write dataset group.perf-muons:group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT0
    INFO : Write dataset group.perf-muons:group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT1
    INFO : Datasets written to file /eos/home-p/pebaron/TutorialMUON/runPostProc/CERN-PROD_PERF-MUONS_2019-10-29_data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903.txt

    in the list name of ntuples, I have downloaded by rucio

2.)

    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/RucioListBuilder.py -d CERN-PROD_PERF-MUONS_2019-10-29_.361107.PowhegPythia8EvtGen_Zmumu..txt -r CERN-PROD_PERF-MUONS

    created: 

    group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT0.txt
    group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v61_EXT1.txt




3.) 
    I had to recompile:
     ../MuonTPPostProcessing/CMakeLists.txt 
        add lines to CMakeLists:

        # Petr Baron edited after getting error: python: symbol lookup error: /cvmfs/atlas.cern.ch/repo/sw/software/21.2/sw/lcg/releases/ROOT/6.16.00-f8770/x86_64-slc6-gcc62-opt/lib/libNetxNG.so: undefined symbol: _ZN5XrdCl3URLC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE
        # fixed in jira: https://its.cern.ch/jira/browse/ATLINFR-2951
        find_package( AthAnalysisExternals REQUIRED )
        find_package( Xrootd )
        find_package( GSL )
        find_package( Davix )
        find_package( PNG )
        find_package( BLAS )
        find_package( VDT )

    potom recompile:

    cd build
    asetup AthAnalysis,21.2.81,here
    cmake ../MuonTPPostProcessing make -j
    source ../build/x86*/setup.sh        

    lsetup rucio
    localSetupPyAMI

    source ../buildPostProc/x86_64-centos7-gcc62-opt/env_setup.sh

    python ../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/CreateInputConfigs.py --engine LOCAL --jobName PetrBaron_creating_confings -i CERN-PROD_PERF-MUONS_2019-10-29_data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903.txt -o /eos/user/p/pebaron/TutorialMUON/runPostProc/configs -r CERN-PROD_PERF-MUONS

    vyprodukoval v config/data_2016_C_grp16_v01_p3903.conf




INPUT 

data15_13TeV.00280520.physics_Main.deriv.DAOD_MUON1.r9264_p3083_p3402
mc15_13TeV.410000.PowhegPythiaEvtGen_P2012_ttbar_hdamp172p5_nonallhad.merge.DAOD_MUON1.e3698_s2608_s2183_r7725_r7676_p2927

INPUT



# for the muon selection studies, we are only interested in producing probe plots to check Data/MC agreement
# thus, we only misuse the TP ntuples to produce probe distributions, accordingly, we need to define a dummy match selection

New_MatchSelection
    MatchName Nothing
    Cut float probe_eta > -100
End_MatchSelection

# Let's import some detector regions which can be useful, e.g. All, AllPt20 or noCrack
#Import MuonTPPostProcessing/RunConf/DetectorRegionsForZmumuReco.conf

# add the standard weights to use
GlobalWeight PileUp
GlobalWeight TagTrigger
GlobalWeight TagSF Medium
GlobalWeight TagSF LooseIso

# this keyword adds a cutflow to the output, you can also comment it to make the code faster
##DoCutFlow


# in any case, we are only interested in combined muons
GlobalCut bool probe_matched_CombinedMuons = 1


# now we can do the muon selection studies either using CaloTagged muons as a starting point, or MS tracks

# since we use a Divide reader on isolation variables here, we need to create these Readers first
# the syntax is always: 
# Reader datatype branchname
# (floatGeV means the code already translates MeV into GeV for you)
##Reader floatGeV probe_ptvarcone30_TightTTVA_pt1000
Reader floatGeV probe_topoetcone20

New_TPSelection ZmumuTPMerged OC MuonProbes
    ######################
	# define cuts here, e.g. the FCTight isolation of the probe
    ProbeCut Divide probe_ptvarcone30_TightTTVA_pt1000 probe_pt < 0.060000
    ProbeCut Divide probe_topoetcone20 probe_pt < 0.100000
    ######################
    Matches Nothing
    DetRegion All AllPt20 noCrack
End_TPSelection


New_TPSelection ZmumuTPMerged OC MuonProbes
    ######################
	# define cuts here, e.g. the FCTight isolation of the probe
    #ProbeCut Divide probe_ptvarcone30_TightTTVA_pt1000 probe_pt < 0.060000
    #ProbeCut Divide probe_topoetcone20 probe_pt < 0.100000
    ProbeCut bool probe_matched_MediumMuons = 1
    ######################
    NameProbeSel CaloProbes_withMedium
    Matches Nothing
    DetRegion All AllPt20 noCrack
End_TPSelection


New_TPSelection ZmumuTPMerged OC MuonProbes
    ######################
	# define cuts here, e.g. the FCTight isolation of the probe
    ProbeCut Divide probe_ptvarcone30_TightTTVA_pt1000 probe_pt < 0.060000
    ProbeCut Divide probe_topoetcone20 probe_pt < 0.100000
    ProbeCut Ushort probe_author != 2
    ProbeCut Uchar probe_combinedTrackOutBoundsPrecisionHits = 0
    #ProbeCut math qOp_significance < 7
    ProbeCut Uchar probe_numberOfPrecisionLayers > 1
    ######################
    NameProbeSel CaloProbes_withMedium_manual
    Matches Nothing
    DetRegion All AllPt20 noCrack
End_TPSelection


New_TPSelection ZmumuTPMerged OC MuonProbes
    ######################
	# define cuts here, e.g. the FCTight isolation of the probe
    ProbeCut Divide probe_ptvarcone30_TightTTVA_pt1000 probe_pt < 0.060000
    ProbeCut Divide probe_topoetcone20 probe_pt < 0.100000
    ProbeCut Ushort probe_author != 2
    ProbeCut Uchar probe_combinedTrackOutBoundsPrecisionHits = 0
    ProbeCut Uchar probe_numberOfPrecisionLayers > 1
    ######################
    NameProbeSel CaloProbes_withMedium_noQoPsig
    Matches Nothing
    DetRegion All AllPt20 noCrack
End_TPSelection




New_TPSelection ZmumuTPMerged OC MEProbes
    ######################
	# define cuts here, e.g. a check for the truth origin of the muon, obviously only for MC, thus we put an ifdef
	ifdef MC
	# let's do a logical OR between different cuts
	GlobalCombCut OR
    	ProbeCut int probe_truth_origin = 9 # tau
    	ProbeCut int probe_truth_origin = 10 # top
    	ProbeCut int probe_truth_origin = 12 # W
    	ProbeCut int probe_truth_origin = 13 # Z
    	ProbeCut int probe_truth_origin = 43 # dibson
	End_CombCut
	endif
    ######################
    Matches Nothing
    DetRegion All AllPt20 noCrack
End_TPSelection




1 den CERN
Johannes doporucil jiny config:

takze bezim:

WriteTagProbeHistos -i data_2016_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r ZReco_CaloProbes_LooseMuons.conf -o out.root

a musel jsem upravit v data_2016_C_grp16_v01_p3903:

run number range a trigger: 
Trigger 313063 314170 HLT_mu20

a dostal jsem efficiency a histogramy

vylistoval jsem vse take pro periodB

a pridal jsem jeho configuraci do 


Reco_tf.py --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/group.phys-hi.19601830.EXT2._000001.AOD.pool.root --outputNTUP_MCPTPFile group.phys-hi.19601830.EXT2._000001.MCPTP.root --outputNTUP_MCPScaleFile group.phys-hi.19601830.EXT2._000001.SC.root  


produce vlastnich ntuplu MCsignal v cyklu :

  for i in `ls ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2`;do echo Reco_tf.py --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/$i --outputNTUP_MCPTPFile $i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile $i.ntuple.SC.root;done;

produkce vlastnich ntuplu MCoverlay :

    Reco_tf.py --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputNTUP_MCPTPFile group.phys-hi.19601830.EXT2._000001.MCPTP.root --outputNTUP_MCPScaleFile group.phys-hi.19601830.EXT2._000001.SC.root --maxEvents 100
    nefunguje -- errors

    produkce vlastnich MUON1 MCoverlay :
        Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputDAODFile group.phys-hi.19601786.EXT3._000001.AOD.pool.root.MUON1.root --reductionConf MUON1 --maxEvents 100



running:
    WriteTagProbeHistos -i MC_signal_Zmumu_localy_produced.conf -h BasicHistosForZmumuReco.conf -r ZReco_CaloProbes_LooseMuons.conf -o h_MC_signal_Zmumu.root




NormalizationDataBase::PromptMCMetaDataTree()      -- INFO:                     Prompt Monte Carlo meta data
######################################################################################################################################################
  DSID  | Name | TotEvents | ProcEv |     SumW    |      SumW2     | xSection | k-Factor | FilterEff | FilterEffxSecTimesEff
 361107 |      |    100    |   100  | 114372.9980 | 130811826.8223 |  0.0000  |  0.0000  |   0.0000  | 0.0000
######################################################################################################################################################
TPAnalysis::Process()                              -- INFO:  ===== STARTING LOOP OVER TP PAIRS ===========
EventService::setupTree()                          -- INFO: Add MuonTP_CommonTree as friend of the analysis tree TPTree_MuonProbes_OC
SglVarReader::init()                               -- ERROR: There is no Branch prwWeight in the input tree TPTree_MuonProbes_OC.
EventService::setupTree()                          -- ERROR: Could not setup the weights
TPAnalysis::Process()                              -- ERROR: Failed to run on /eos/user/p/pebaron/TutorialMUON/runNTuplesMC/group.phys-hi.19601830.EXT2._000001.AOD.pool.root.ntuple_MCPTP.root


last command:
for i in `ls ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2`;do Reco_tf.py --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/$i --outputNTUP_MCPTPFile $i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile $i.ntuple.SC.root;done;



last command:
setupATLAS

cd build/

asetup AthDerivation,21.2.67.0,here

cd ../run/

source ../build/x86_64-centos7-gcc62-opt/setup.sh

for i in `ls ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2`;do Reco_tf.py --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/$i --outputNTUP_MCPTPFile $i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile $i.ntuple.SC.root;done;


snaha produkce PRW filu pro nove MC:

        https://twiki.cern.ch/twiki/bin/view/AtlasProtected/ExtendedPileupReweightingMC15#Generating_PRW_config_files
        
        asetup AthAnalysis,21.2,latest
        athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/temp/group.phys-hi.19601830.EXT2._000001.AOD.pool.root'
        athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/temp/*.root'


povedlo se, zkousim opet:
        asetup AthAnalysis,21.2.81,here
        WriteTagProbeHistos -i MC_signal_Zmumu_localy_produced.conf -h BasicHistosForZmumuReco.conf -r ZReco_CaloProbes_LooseMuons.conf -o h_MC_signal_Zmumu.root
         nefunguje

venuji se pp hijing:
    produkce ntuplu lokalne:
    Reco_tf.py --inputAODFile ../mc15_valid.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.AOD.e7092_s3164_r11436_r11437_tid18182571_00/AOD.18182571._000001.pool.root.1 --outputNTUP_MCPTPFile AOD.18182571._000001.pool.root.1.MCPTP.root --outputNTUP_MCPScaleFile AOD.18182571._000001.pool.root.1.SC.root 
    Reco_tf.py --inputAODFile ../mc15_valid.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.AOD.e7092_s3164_r11436_r11437_tid18182571_00/AOD.18182571._000002.pool.root.1 --outputNTUP_MCPTPFile AOD.18182571._000002.pool.root.1.MCPTP.root --outputNTUP_MCPScaleFile AOD.18182571._000002.pool.root.1.SC.root 


Johanes asi zravil kos, cekam na merge, pobezim tedy pPb MCPTP
mezitim jsem vygeneroval ntuply pro pp MC a pileup, pileup radeji vyprodukuji sam.

    athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/mc15_valid.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.AOD.e7092_s3164_r11436_r11437_tid18182571_00/AOD.18182571._00000*.pool.root.1'


produkce HIJING pp ntuplu:

    Reco_tf.py --inputAODFile ../mc15_valid.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.AOD.e7092_s3164_r11436_r11437_tid18182571_00/AOD.18182571._000001.pool.root.1 --outputNTUP_MCPTPFile AOD.18182571._000001.pool.root.1.MCPTP.root --outputNTUP_MCPScaleFile AOD.18182571._000001.pool.root.1.SC.root
    Reco_tf.py --inputAODFile ../mc15_valid.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.AOD.e7092_s3164_r11436_r11437_tid18182571_00/AOD.18182571._000002.pool.root.1 --outputNTUP_MCPTPFile AOD.18182571._000002.pool.root.1.MCPTP.root --outputNTUP_MCPScaleFile AOD.18182571._000002.pool.root.1.SC.root


Johaness spravil kod, dokoncim produkci pPb signal MC ntuplu a budu produkovat PRW file:

    athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/*.root'


pote zmenim config a zbehnu.

    
snazim se o plotting:

     python ../../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./ -p CaloProbes -m LooseMuons -r All


usage: GeneratePlots [-h] [-v VAR [VAR ...]] [-c CONFIG [CONFIG ...]]
                     [-t {EffPlots,ProbePlots,SysPlots,ClosurePlots,MasterEffPlots} [{EffPlots,ProbePlots,SysPlots,ClosurePlots,MasterEffPlots} ...]]
                     [-a {MuonSelectionStudies,JPsiTPIso,YmumuTPTTVA,JPsiTPReco,JPsiTPTrig,ZmumuTPBadMuon,ZmumuTPTrig,ZmumuTPHighEta,ZmumuTPTTVA,ZmumuTPReco,ZmumuTPIso}]
                     [-o OUTPUTDIR] [-p PROBES [PROBES ...]]
                     [-m MATCHES [MATCHES ...]] [-r REGIONS [REGIONS ...]]
                     [--sqrts SQRTS] [-f OUTFILETYPE [OUTFILETYPE ...]]
                     [--noIDCorr] [--noCaloBias] [--noSyst] [--label LABEL]
                     [--bonusstr BONUSSTR] [--noDDBkg] [--DoFancyIsoBkgSub]
                     [--DoMllSideBand] [--DoLogY] [--DoLogX] [--noTRTCut]
                     [--noTruth] [--DoQuadCanvas] [--Show2DText]
                     [--mergeStatErrors] [--saveFitTemplates]
                     [--saveAllFitTemplates] [-w] [-i]
                     [--LegendXCoords LEGENDXCOORDS LEGENDXCOORDS]
                     [--LegendYCoords LEGENDYCOORDS LEGENDYCOORDS]
                     [--combineSystematics]


    

lastly worked:

    python ../../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./ -p CaloProbes -m LooseMuons --noIDCorr --noSyst --noDDBkg

    but it needed fixes PremedeHistos.py two lines L688

    fixed by add truthcaloprobes to MC

    I had to run:


TUTORIAL FIXES:

python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "v61" -r CERN-PROD_PERF-MUONS - does not work

Do not use EXT1


python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "data17" -r CERN-PROD_PERF-MUONS

do not use ...EXT1 - calibration ntuples

python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/RucioListBuilder.py -d CERN-PROD_PERF-MUONS_2019-11-07_group.perf-muons\:group.perf-muons.mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.NTUP_MCP.e3601_a875_r9364_p3482_v61_E.txt -r CERN-PROD_PERF-MUONS

group.perf-muons.data17_13TeV.00341294.physics_Main.NTUP_MCP.r10803_p3630_p3653_v61_EXT0.txt
group.perf-muons.mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.NTUP_MCP.e3601_a875_r9364_p3482_v61_EXT0.txt



finally run:

ListDisc:

python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "data17_13TeV.00341294.physics_Main.NTUP_MCP.r10803_p3630_p3653_v61_EXT0" -r CERN-PROD_PERF-MUONS
python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/ListDisk.py -p "mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.NTUP_MCP.e3601_a875_r9364_p3482_v61_EXT0" -r CERN-PROD_PERF-MUONS 

RucioListBuilder:

python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/RucioListBuilder.py -d CERN-PROD_PERF-MUONS_2019-11-07_data17_13TeV.00341294.physics_Main.NTUP_MCP.r10803_p3630_p3653_v61_EXT0.txt -r CERN-PROD_PERF-MUONS
python ../buildPostProc/x86_64-centos7-gcc62-opt/python/ClusterSubmission/RucioListBuilder.py -d CERN-PROD_PERF-MUONS_2019-11-07_mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.NTUP_MCP.e3601_a875_r9364_p3482_v61_EXT0.txt -r CERN-PROD_PERF-MUONS

CreateInputConfigs:

python ../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/CreateInputConfigs.py --engine LOCAL --jobName PetrBaron_creating_data_conf_tutorial -i CERN-PROD_PERF-MUONS_2019-11-07_data17_13TeV.00341294.physics_Main.NTUP_MCP.r10803_p3630_p3653_v61_EXT0.txt -o /eos/user/p/pebaron/TutorialMUON/HandsOn -r CERN-PROD_PERF-MUONS
python ../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/CreateInputConfigs.py --engine LOCAL --jobName PetrBaron_creating_mc_conf_tutorial -i CERN-PROD_PERF-MUONS_2019-11-07_mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.NTUP_MCP.e3601_a875_r9364_p3482_v61_EXT0.txt -o /eos/user/p/pebaron/TutorialMUON/HandsOn -r CERN-PROD_PERF-MUONS

nfo in <CP::TPileupReweighting::GetIntegratedLumi>: Initializing the subtool..
WARNING: No file matches ilumicalc_histograms_2015_I
WARNING : No lumi calc files could be extracted for period 2015_I
ERROR: Could not get the first and last runs from: 2015_K and 
WARNING: No file matches ilumicalc_histograms_2015_K
WARNING : No lumi calc files could be extracted for period 2015_K
ERROR: Could not get the first and last runs from: 2015_L and 
WARNING: No file matches ilumicalc_histograms_2015_L
WARNING : No lumi calc files could be extracted for period 2015_L
WARNING: No file matches ilumicalc_histograms_2016_J
WARNING : No lumi calc files could be extracted for period 2016_J
WARNING: No file matches ilumicalc_histograms_2015_DEF
WARNING : No lumi calc files could be extracted for period 2015_DEF
WARNING: No file matches ilumicalc_histograms_2015_H23J
WARNING : No lumi calc files could be extracted for period 2015_H23J

Created config files:
        
        -choosing further

        2016_Zmmu_a875_r9364_p3482.conf
        data_2017_N_r10803_p3630_p3653.conf

napsal jsem configy a sbehl:

WriteTagProbeHistos -i 2016_Zmumu_a875_r9364_p3482.conf -h HistosForTutorial.conf -r DetectorAndSelectionTutorial.conf -o out_tutorialMC.root
WriteTagProbeHistos -i data_2017_I_grp17_v01_p3481.conf -h HistosForTutorial.conf -r DetectorAndSelectionTutorial.conf -o out_tutorialData.root

will new to run:

WriteTagProbeHistos -i 2016_Zmumu_a875_r9364_p3482.conf -h HistosForTutorial.conf -r DetectorAndSelectionTutorialSecond.conf -o out_tutorialMC.root
WriteTagProbeHistos -i data_2017_I_grp17_v01_p3481.conf -h HistosForTutorial.conf -r DetectorAndSelectionTutorialSecond.conf -o out_tutorialData.root

Plotting - prepsan kod trochu ZmumuTPReco na ZmumuTPMerged podle nazvu selekce a slozky

26.11.2019

Dnes se pokusim vzprodukovat ntuply pro overlay, nejprve vsak DAODs.

uprava MUON1.py - potreba pote dat zase zpet
geany ../build/x86_64-centos7-gcc62-opt/jobOptions/DerivationFrameworkMuons/../../../../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/DerivationFramework/DerivationFrameworkMuons/share/MUON1.py &
 zakomentoval jsem liny L262-273

v /eos/user/p/pebaron/TutorialMUON/runDAODs_old_overlay_modified_MUON1

bezim
Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputDAODFile="group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.pool.root" --reductionConf MUON1 --maxEvents 100
error CalibrationTag: ERROR Tag BTagCalibRUN12-08-47 cannot be resolved for folder /GLOBAL/Onl/BTagCalib/RUN12")


bezim novy command:
 Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputDAODFile="group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.pool.root" --reductionConf MUON1 --maxEvents 100
 funguje, bezim v cyklu:

for i in `ls ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/`;do Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/$i --outputDAODFile="group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.${i}" --reductionConf MUON1;done


meanwhile, trying to add detector region, 

WriteTagProbeHistos -i data_2016_C_grp16_v01_p3903.conf -h Histo.conf -r Selection.conf -nevents 100 -o out.root

upravena luminosita a energie v kodu PlotUtils.py
dnes dobehla produkce starych DAODs, snaha vyprodukovat ntuply.

for i in `ls *.root`;do Reco_tf.py --inputAODFile $i --outputNTUP_MCPTPFile ../runNTUPLES_old_overlay_modified_MUON1/$i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile ../runNTUPLES_old_overlay_modified_MUON1/$i.ntuple.SC.root;done;

nastava chyba:
    Reco_tf.py --inputAODFile DAOD_MUON1.group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputNTUP_MCPTPFile ../runNTUPLES_old_overlay_modified_MUON1/DAOD_MUON1.group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000001.AOD.pool.root.ntuple_MCPTP.root --outputNTUP_MCPScaleFile ../runNTUPLES_old_overlay_modified_MUON1/DAOD_MUON1.group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000001.AOD.pool.root.ntuple.SC.root



downloaduji novy overlay https://its.cern.ch/jira/browse/ATLHI-255

        rucio download group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02t_EXT3

        stazeno, snaha produkce NTUPLu straight away: 

             for i in `ls *.root`;do Reco_tf.py --inputAODFile $i --outputNTUP_MCPTPFile ../runNTUPLESs_trigger_overlay/$i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile ../runNTUPLESs_trigger_overlay/$i.ntuple.SC.root;done;
             nefunguje, musim jit pres DAODs modified ones:

             for i in `ls *.root`;do Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile $i --outputDAODFile="../runDAODs_trigger_overlay/group.phys-hi.19601786.EXT3._000001.MC.pPB.trigger.overlay.DAOD.${i}" --reductionConf MUON1;done

ntuply nejdou vyprodukovat:

Reco_tf.py --inputAODFile DAOD_MUON1.group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000001.AOD.pool.root --outputNTUP_MCPTPFile group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000001.AOD.pool.root.ntuple_MCPTP.root --outputNTUP_MCPScaleFile group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.group.phys-hi.19601786.EXT3._000001.AOD.pool.root.ntuple.SC.root

        problem v tag_info chybel klic project_name, tak jsem ho dodal a nastavil IS_SIMULATION podle signalu

        fix in /eos/user/p/pebaron/TutorialMUON/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/CommonMuonTPConfig.py
        Line 133 - 136

        130         if 'project_name' not in af.fileinfos['tag_info']:
        131             print "WARNING: Petr Baron added line: af.fileinfos['tag_info'].update({'project_name':'IS_SIMULATION'})"
        132             af.fileinfos['tag_info'].update({'project_name':'IS_SIMULATION'})
        133         self.__isData = "data" in af.fileinfos['tag_info']['project_name']

nyni stary overlay funguje a produkuji ntuply v:
    runDAODs_old_overlay_modified_MUON1
    command: for i in `ls *.root`;do Reco_tf.py --inputAODFile $i --outputNTUP_MCPTPFile $i.ntuple_MCPTP.root --outputNTUP_MCPScaleFile $i.ntuple.SC.root;done;
    ale ERROR 


novy Muon1_modified overlay trigger produkuji v /eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02t_EXT3
    pote spustim ntuple production asi
    
Trva vse dlouho:
 snazim se zrychlit v test_runDAODs_fast - trigger overlay DAODs production - povedlo se 
                      test_RunNTupes_old_overlay_fast - zde rychle ntuply ze stareho overlay


error 

AODtoDPD 15:07:17 ToolSvc.ZmumuTPTool_IDProbes                        FATAL Something strange happens
AODtoDPD 15:07:17 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_IDProbes reported a FATAL, but returned a StatusCode "SUCCESS"
AODtoDPD 15:07:17 Error policy described in https://twiki.cern.ch/twiki/bin/view/AtlasComputing/ReportingErrors
AODtoDPD 15:07:18 Error in <ScalarBranch()>: The variable mcChannelNumber must always be filled
AODtoDPD 15:07:18 Error in <MuonAnalysisTree::fill()>: Failed to fill branch mcChannelNumber in tree MuonTP_CommonTree



after fix IsData = True - need to be uncomment later

I have produced NTUPLES for old overlay /eos/user/p/pebaron/TutorialMUON/runDAODs_old_overlay_modified_MUON1/DAOD_MUON1.group.phys-hi.19601786.EXT3._000001.MC.pPB.old.overlay.DAOD.group.phys-hi.19601786.EXT3._000all.AOD.pool.root.MCPTP.root

i have canceled: for i in `ls g*.root`;do Reco_tf.py --preExec 'rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTagging_Fixer", Containers = [ "BTagging_AntiKt4EMTopoAux.", "BTagging_AntiKt4HIAux." ] )' --inputAODFile $i --outputDAODFile="trigger.overlay.DAOD.${i}" --reductionConf MUON1;done
      in /eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02t_EXT3

ct. 28.11.2019

ted se ti nezabyvam, soustredim se na produkovane ntuply, a prw pro stary runDAODs_old_overlay_modified_MUON1

v /eos/user/p/pebaron/TutorialMUON/runDAODs_old_overlay_modified_MUON1/pwrfile

bezim

    athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3/*.root'
    vyprodukovano a zkopirovano do PRW_generation 
    cp group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3_overlay1.prw.root ../../PRW_generation/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02_EXT3_overlay1.prw.root

    upravil jsem conf: MC_overlay1_Zmumu_localy_produced.conf

    a bezim :
    WriteTagProbeHistos -i MC_overlay1_Zmumu_localy_produced.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -nevents 100 -o h_MC_overlay1_Zmumu.root
    pouze 5 eventu proslo:
        plotim :

        python ../../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/GeneratePlots.py -t EffPlots --config DSConfigpPb_overlay1.py -o ./Plots_det_reg1_overlay1 --noSyst --noDDBkg



Vidend nova produkce DAODs, Andrejs's overlay new samples https://its.cern.ch/jira/browse/ATLHI-255:

Prabis's recommended preExec, and version asetup AthDerivation,21.2.84.0,here, stahnutp a zkompilovano opet, Daods are modified. Line cca 261-273 , double cross


asetup AthDerivation,21.2.84.0,here

Reco_tf.py --preExec='rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../*.root --outputDAODFile="group.phys-hi.19899317.EXT3._000all.DAOD.pool.root" --reductionConf MUON1 


zde: /eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02tc_EXT3/FinalOverlayDAODs
 
ve finalOveray DAODs - vyprodukovano ok

po 2.12.2019

tvorim z DAODs ntuply, overlay 10k events new production

/eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_02tc_EXT3/FinalOverlayNtuples

Reco_tf.py --inputAODFile ../FinalOverlayDAODs/*.root --outputNTUP_MCPTPFile MCPTPFile_DAOD_MUON1.group.phys-hi.19899317.EXT3._000all.DAOD.pool.root


uprava kvuli overlay /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/CommonMuonTPConfig.py
line 117 cca double cross , overlay detect as data

Error:

PyJobTransforms.trfExe.validate 2019-12-02 09:09:53,645 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2019-12-02 09:09:53,650 INFO Metadata generator called to obtain nentries for ('MCPTPFile_DAOD_MUON1.group.phys-hi.19899317.EXT3._000all.DAOD.pool.root',)
PyJobTransforms.trfValidation.decide 2019-12-02 09:09:53,895 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2019-12-02 09:09:53,896 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2019-12-02 09:09:53,917 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,297 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5376 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,396 WARNING Found message number 11 at level ERROR - this and further messages will be supressed from the report
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,397 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8230 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,411 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8490 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,413 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8518 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,452 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9543 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-02 09:09:54,485 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10467 (structured match)
PyJobTransforms.trfExe.validate 2019-12-02 09:09:54,675 ERROR Fatal error in athena logfile (level ERROR)
PyJobTransforms.transform.execute 2019-12-02 09:09:54,676 CRITICAL Transform executor raised TransformLogfileErrorException: Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "ToolSvc.TrigMuonMatching                            ERROR TrigMuonMatching::matchL1 : could not retrieve LVL1MuonRoIs""
PyJobTransforms.transform.execute 2019-12-02 09:09:58,008 WARNING Transform now exiting early with exit code 68 (Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "ToolSvc.TrigMuonMatching                            ERROR TrigMuonMatching::matchL1 : could not retrieve LVL1MuonRoIs"")

ut 3.12
 testing samples, creating daod of testing same discussed on jira
 Reco_tf.py --preExec='rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile AOD.pool.root --outputDAODFile="test.DAOD.pool.root" --reductionConf MUON1 


AODtoDPD 12:37:37 CoralApplication Info Delete the COOL CoralApplication... DONE
AODtoDPD 12:37:37 CORAL/Services/ConnectionService Info Deleting the ConnectionPool
PyJobTransforms.trfExe.execute 2019-12-03 12:37:37,722 INFO AODtoDPD executor returns 0
PyJobTransforms.trfExe.postExecute 2019-12-03 12:37:37,724 WARNING Failed to load JSON memory summmary file mem.summary.AODtoDPD.json: [Errno 2] No such file or directory: 'mem.summary.AODtoDPD.json'
PyJobTransforms.trfExe.validate 2019-12-03 12:37:37,724 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2019-12-03 12:37:37,729 INFO Metadata generator called to obtain nentries for ('MCPTPFile_DAOD_MUON1.test.DAOD.pool.root',)
PyJobTransforms.trfValidation.decide 2019-12-03 12:37:37,882 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2019-12-03 12:37:37,882 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2019-12-03 12:37:37,907 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfExe.validate 2019-12-03 12:37:38,387 INFO Executor AODtoDPD has validated successfully
PyJobTransforms.transform.validateOutFiles 2019-12-03 12:37:38,387 INFO Validating output files
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,387 INFO Starting legacy (serial) file validation
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,387 INFO Validating data type NTUP_MCPTP...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,388 INFO Validating file MCPTPFile_DAOD_MUON1.test.DAOD.pool.root...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,388 INFO MCPTPFile_DAOD_MUON1.test.DAOD.pool.root: Testing corruption...
PyJobTransforms.trfArgClasses._readMetadata 2019-12-03 12:37:38,388 INFO Metadata generator called to obtain integrity for ('MCPTPFile_DAOD_MUON1.test.DAOD.pool.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,656 INFO Corruption test passed.
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,656 INFO MCPTPFile_DAOD_MUON1.test.DAOD.pool.root: Testing event count...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,656 INFO Event counting test passed (UNDEFINED events).
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,656 INFO MCPTPFile_DAOD_MUON1.test.DAOD.pool.root: Checking if guid exists...
PyJobTransforms.trfArgClasses._readMetadata 2019-12-03 12:37:38,656 INFO Metadata generator called to obtain file_guid for ('MCPTPFile_DAOD_MUON1.test.DAOD.pool.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,657 INFO Guid is 8C58A88C-C4D3-49A8-B39A-4A003A92D6D7
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-03 12:37:38,657 INFO Stopping legacy (serial) file validation
PyJobTransforms.main 2019-12-03 12:37:41,974 INFO /cvmfs/atlas.cern.ch/repo/sw/software/21.2/AthDerivation/21.2.84.0/InstallArea/x86_64-slc6-gcc62-opt/share/Reco_tf.py stopped at Tue Dec  3 12:37:41 2019, trf exit code 0


4.12 unfolding, bug fix, etc.
yakomentovana produkce posterioru z paths, zmenit

5.12.
Andrej novy sample MC overlay, proces stejny, stahnout, DAODs, ntuples, zkusim v nover release.

group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3/

asetup AthDerivation,21.2.84.0,here

/eos/user/p/pebaron/TutorialMUON/runDAODs_overlay_final
source ../MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/setup.sh 

bezim daodcka

Reco_tf.py --preExec='rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3/*.root --outputDAODFile="group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3_all_DAOD.root" --reductionConf MUON1


6.12. porad chybi container innerdetector,,,
cp do 
/eos/user/p/pebaron/TutorialMUON/runDAOD_test_no_modof
/afs/cern.ch/user/o/olszewsk/workspace/public/HeavyIon/Tests/2018/21/Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack/AOD.pool.root

Reco_tf.py --preExec='rec.doApplyAODFix.set_Value_and_Lock(True); from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile AOD.pool.root --outputDAODFile="DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack/AOD.pool.root" --reductionConf MUON1

AODtoDAOD 08:42:21 CORAL/Services/ConnectionService Info Deleting the ConnectionPool
PyJobTransforms.trfExe.execute 2019-12-06 08:42:22,205 INFO AODtoDAOD executor returns 64
PyJobTransforms.trfExe.validate 2019-12-06 08:42:23,134 ERROR Validation of return code failed: Non-zero return code from AODtoDAOD (64) (Error code 65)
PyJobTransforms.trfExe.validate 2019-12-06 08:42:23,152 INFO Scanning logfile log.AODtoDAOD for errors in substep a2da
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:42:23,413 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm StreamDAOD_MUON1 reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6114 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:42:23,413 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm StreamDAOD_MUON1 reported a FATAL, but returned a StatusCode "SUCCESS"" was ignored at line 6116 (structured match)
PyJobTransforms.transform.execute 2019-12-06 08:42:23,636 CRITICAL Transform executor raised TransformValidationException: Non-zero return code from AODtoDAOD (64); Logfile error in log.AODtoDAOD: "StreamDAOD_MUON1                                    FATAL  Standard std::exception is caught"
PyJobTransforms.transform.execute 2019-12-06 08:42:26,933 WARNING Transform now exiting early with exit code 65 (Non-zero return code from AODtoDAOD (64); Logfile error in log.AODtoDAOD: "StreamDAOD_MUON1                                    FATAL  Standard std::exception is caught")



zaroven sbehnu analyzu s modifikovanymi DAODs

Reco_tf.py --inputAODFile DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3_all_DAOD.root --outputNTUP_MCPTPFile MCPTPFile_DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3_all_DAOD.root

errors: 

PyJobTransforms.trfExe.validate 2019-12-06 08:51:39,994 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2019-12-06 08:51:40,005 INFO Metadata generator called to obtain nentries for ('MCPTPFile_DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3_all_DAOD.root',)
PyJobTransforms.trfValidation.decide 2019-12-06 08:51:40,382 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2019-12-06 08:51:40,382 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2019-12-06 08:51:40,412 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,051 WARNING Found message number 11 at level ERROR - this and further messages will be supressed from the report
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,052 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 4655 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,078 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5065 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,082 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5120 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,086 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5190 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,094 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5346 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,097 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5388 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,100 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5424 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,102 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5456 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,103 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5475 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,106 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5565 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,113 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5682 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,113 WARNING Found message number 11 at level IGNORED - this and further messages will be supressed from the report
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,114 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5710 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,116 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5729 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,117 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 5750 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,128 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6061 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,133 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6196 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,138 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6293 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,140 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6329 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,142 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6361 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,155 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6714 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,158 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6789 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,160 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6820 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,165 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 6931 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,169 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7070 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,172 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7115 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,174 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7151 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,177 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7193 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,179 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7227 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,188 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7388 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,212 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 7938 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,217 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8029 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,219 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8104 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,221 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8123 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,222 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8145 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,225 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8228 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,226 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8245 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,229 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8284 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,231 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8316 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,240 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8578 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,244 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8668 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,246 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8700 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,247 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8721 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,250 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8795 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,255 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 8888 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,270 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9121 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,276 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9232 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,279 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9281 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,281 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9316 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,285 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9387 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,287 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9416 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,289 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9440 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,293 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9531 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,297 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9563 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,299 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9598 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,301 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9624 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,302 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9631 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,303 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9648 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,306 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9683 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,311 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9763 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,314 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9798 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,315 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9815 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,316 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9832 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,318 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9864 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,320 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9884 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,323 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9925 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,324 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 9951 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,331 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10201 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,333 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10221 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,335 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10253 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,344 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10421 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,347 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10447 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,349 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10518 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,357 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10692 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,360 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10746 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,364 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10871 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,366 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10897 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,367 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10915 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,368 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10932 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,369 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10950 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,372 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 10984 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,373 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11010 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,377 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11084 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,379 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11116 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,382 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11148 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,385 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11192 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,387 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11224 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,389 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11256 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,395 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11361 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,397 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11393 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,400 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11428 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,401 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11445 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,408 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11595 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,409 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11602 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,413 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11691 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,415 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11723 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,419 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11786 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,421 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 11821 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,438 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12126 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,440 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12143 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,442 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12175 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,443 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12195 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,445 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12227 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,447 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12259 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,449 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12291 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,451 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12323 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,453 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12340 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,455 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12371 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,457 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12402 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,464 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12517 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,467 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12552 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,470 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12630 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,473 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12720 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,475 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12739 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,477 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12771 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,484 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12864 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,485 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12881 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,486 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12898 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,487 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12915 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,488 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12932 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,490 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12952 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,492 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 12987 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,494 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13019 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,497 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13064 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,499 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13096 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,500 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13113 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,502 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13130 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,504 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13164 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,508 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13249 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,510 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13281 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,512 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13298 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,513 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13324 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,515 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13344 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,517 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13376 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,520 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13465 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,521 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13482 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,523 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13514 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,526 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13584 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,527 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13601 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,528 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13618 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,530 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13638 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,531 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13661 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,533 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13693 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,536 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13767 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,537 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13787 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,540 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13820 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,541 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13837 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,543 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13869 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,544 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13889 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,548 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 13962 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,551 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14051 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,554 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14083 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,555 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14100 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,559 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14172 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,564 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14346 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,566 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14378 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,569 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14413 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,570 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14430 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,573 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14514 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,576 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14546 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,578 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14569 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,580 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14604 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,582 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14636 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,587 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14701 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,589 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14736 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,591 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 14753 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,605 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15243 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,610 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15381 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,610 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_MuonProbes_JPsi reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15388 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,611 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15405 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,613 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15425 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,616 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15513 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,618 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15530 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,619 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15547 (structured match)
PyJobTransforms.trfValidation.scanLogFile 2019-12-06 08:51:41,620 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_MuonProbes reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 15567 (structured match)
PyJobTransforms.trfExe.validate 2019-12-06 08:51:41,787 ERROR Fatal error in athena logfile (level ERROR)
PyJobTransforms.transform.execute 2019-12-06 08:51:41,788 CRITICAL Transform executor raised TransformLogfileErrorException: Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "ToolSvc.TrigMuonMatching                            ERROR TrigMuonMatching::matchL1 : could not retrieve LVL1MuonRoIs""
PyJobTransforms.transform.execute 2019-12-06 08:51:45,466 WARNING Transform now exiting early with exit code 68 (Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "ToolSvc.TrigMuonMatching                            ERROR TrigMuonMatching::matchL1 : could not retrieve LVL1MuonRoIs"")


error test file no mofdif, produce daods:

AODtoDPD 09:01:11 CORAL/Services/ConnectionService Info Deleting the ConnectionPool
PyJobTransforms.trfExe.execute 2019-12-06 09:01:11,391 INFO AODtoDPD executor returns 0
PyJobTransforms.trfExe.validate 2019-12-06 09:01:12,309 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2019-12-06 09:01:12,312 INFO Metadata generator called to obtain nentries for ('MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root',)
PyJobTransforms.trfValidation.decide 2019-12-06 09:01:12,418 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2019-12-06 09:01:12,418 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2019-12-06 09:01:12,434 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfExe.validate 2019-12-06 09:01:12,901 INFO Executor AODtoDPD has validated successfully
PyJobTransforms.transform.validateOutFiles 2019-12-06 09:01:12,901 INFO Validating output files
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:12,901 INFO Starting legacy (serial) file validation
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:12,901 INFO Validating data type NTUP_MCPTP...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:12,901 INFO Validating file MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:12,902 INFO MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root: Testing corruption...
PyJobTransforms.trfArgClasses._readMetadata 2019-12-06 09:01:12,902 INFO Metadata generator called to obtain integrity for ('MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO Corruption test passed.
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root: Testing event count...
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO Event counting test passed (UNDEFINED events).
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root: Checking if guid exists...
PyJobTransforms.trfArgClasses._readMetadata 2019-12-06 09:01:13,153 INFO Metadata generator called to obtain file_guid for ('MCPTPFile_DAOD_MUON1.DAOD_Reco_DataOver_MC16b_pPb_Zmumu_trigsep_forwtrack.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO Guid is 63716C4C-4E6E-41FA-9B3A-48124FAC707E
PyJobTransforms.trfValidation.performStandardFileValidation 2019-12-06 09:01:13,153 INFO Stopping legacy (serial) file validation
PyJobTransforms.main 2019-12-06 09:01:16,537 INFO /cvmfs/atlas.cern.ch/repo/sw/software/21.2/AthDerivation/21.2.84.0/InstallArea/x86_64-slc6-gcc62-opt/share/Reco_tf.py stopped at Fri Dec  6 09:01:16 2019, trf exit code 0


modified: 

    from xAOD to DAODmodif: 10 000 -> 6 423 -> 244

    pracuji s modified:

    /eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3/prw
    
     athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03_EXT3/*.root'

po 9.12.2019

v Krakowe, nove samply s conteinery, snaha zbehnout opet.

asetup AthAnalysis,21.2.81,here

WriteTagProbeHistos -i MC_signal_Zmumu_localy_produced.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o signal_last_update.root
I have commented all with IsoFCLoose = 1 tag and probe in order to find bug in epsilon(ID|MS)


downloaded B and C DAODs

Reco_tf.py --inputAODFile ../*.root.1 --outputNTUP_MCPTPFile data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_MCPTPFile.root

problem vytvorit DAODs

19:52:31 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_IDProbes_JPsi reported a FATAL, but returned a StatusCode "SUCCESS"
19:52:31 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm ZmumuTPAlg_IDProbes reported a FATAL, but returned a StatusCode "SUCCESS"
19:52:31 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_IDProbes_JPsi reported a FATAL, but returned a StatusCode "SUCCESS"


data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903
data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903

downloading test sample: 
group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03a_EXT3/

new preExec:
Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../group.phys-hi.20003385.EXT3._000085.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100

09:36:56 Error in <ScalarBranch()>: The variable mcChannelNumber must always be filled
09:36:56 Error in <MuonAnalysisTree::fill()>: Failed to fill branch mcChannelNumber in tree MuonTP_CommonTree
09:36:56 ToolSvc.JPsiTPTool_IDProbes_JPsi                    FATAL Something strange happens
09:36:56 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_IDProbes_JPsi reported a FATAL, but returned a StatusCode "SUCCESS"
09:36:56 Error policy described in https://twiki.cern.ch/twiki/bin/view/AtlasComputing/ReportingErrors
09:36:56 Error in <ScalarBranch()>: The variable mcChannelNumber must always be filled

CHANGES:
adding triggers to the TriggerLists.py
../../MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/TriggerLists.py 
  2 def GetTriggerList_Zmumu():
  3     TriggerList_HLT = [
  4         "HLT_2mu6_bJpsimumu",
  5         "HLT_2mu6_bJpsimumui_noL2",
  6         "HLT_AllTriggers",  # this is needed, if you want to have combined (inclusive) efficiency of all HLT triggers
  7         "HLT_mu10",
  8         "HLT_mu10_idperf",
  9         "HLT_mu10_msonly",
 10         "HLT_mu14",
 11         "HLT_mu15",  # Added by Petr Barons HI
 12         "HLT_mu15_L1MU6", #Added by Petr Baron HI
 13         "HLT_mu15_L1MU10", # Added by Petr Baron HI

OVERLAY Problems:
166         self.__isData = "data" in af.fileinfos['tag_info']['project_name'] ## this line comment for MC overlay


175     def isData(self):
176         #return False
177         return self.__isData

201 def isData():
202     #return False
203     return getFlags().isData()


lsetup panda

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903" --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root

Traceback (most recent call last):
  File "/cvmfs/atlas.cern.ch/repo/ATLASLocalRootBase/x86_64/PandaClient/1.4.8/bin/pathena", line 1753, in <module>
    True,False,usePfnList)
  File "/cvmfs/atlas.cern.ch/repo/ATLASLocalRootBase/x86_64/PandaClient/1.4.8/lib/python2.6/site-packages/pandatools/PsubUtils.py", line 692, in convertParamStrToJediParam
    tmpDict['dataset'] = inputMap[tmpHolder]
KeyError: 'IN'



andrejs missing containers:

egammaTopoSeededClusters
egammaTopoSeededClustersAux
HLT_xAOD__MuonContainer_MuonEFInfo
HLT_xAOD__MuonContainer_MuonEFInfoAux
HLT_xAOD__TrackParticleContainer_InDetTrigTrackingxAODCnv_Muon_EFID
HLT_xAOD__TrackParticleContainer_InDetTrigTrackingxAODCnv_Muon_EFIDAux
HLT_xAOD__MuonContainer_MuonEFInfo_FullScan
HLT_xAOD__MuonContainer_MuonEFInfo_FullScanAux
SecVtxContainer_Electrons
SecVtxContainer_ElectronsAux
SecVtx_ConvVtxContainer_Electrons
SecVtx_ConvVtxContainer_ElectronsAux
SecVtxContainer_Muons
SecVtxContainer_MuonsAux

trying to create ntuples:
Reco_tf.py --inputAODFile DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03a_EXT3_DAOD.root --outputNTUP_MCPTPFile MCPTPFile_DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03a_EXT3_DAOD.root --outputNTUP_MCPScaleFile SC_DAOD_MUON1.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_03a_EXT3_DAOD.root

fixing error:
12:33:45 AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm JPsiTPAlg_IDProbes_JPsi reported a FATAL, but returned a StatusCode "SUCCESS"
regarding jpsi - maybe one of the missing containers
 
./MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/CommonMuonTPConfig.py
 L540
 did not help

 now:
 ./MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/CommonMuonTPConfig.py
 commented
 L540
 L245
 L246

 fix 
 ./MuonPerformanceAnalysis_21.2.84/build/x86_64-centos7-gcc62-opt/python/MuonPerformanceAlgs/JPsiTPAnalysis.py
  L371

upraveno do puvodni verze, Adrejovi zase chybu kontejnery
bezim test sample:

Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100


trying johannes submit to grid:

python MuonPerformanceAnalysis/MuonPerformanceAlgs/scripts/SubmitToGrid.py --ProdNumber PetrBaron_pPb_data_new_triggers -i data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903
all datasets>

this worked: 
lsetup rucio panda pyami

PERIOD B:

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root

INFO : using CMTCONFIG=x86_64-slc6-gcc62-opt
INFO : extracting run configuration
WARNING : argument of --trf doesn't contain any %OUT
INFO : archiving source files
INFO : The build directory is /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/build
INFO : archiving source files
INFO : archiving InstallArea
INFO : checking symbolic links
INFO : uploading source/jobO files
INFO : submit user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root/
INFO : succeeded. new jediTaskID=20033774

https://bigpanda.cern.ch/task/20033774/

PERIOD C:

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root


INFO : using CMTCONFIG=x86_64-slc6-gcc62-opt
INFO : extracting run configuration
WARNING : argument of --trf doesn't contain any %OUT
INFO : archiving source files
INFO : The build directory is /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/build
INFO : archiving source files
INFO : archiving InstallArea
INFO : checking symbolic links
INFO : uploading source/jobO files
INFO : submit user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root/
INFO : succeeded. new jediTaskID=20033820


group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2

InDetForwardTrackParticles
InDetForwardTrackParticlesAux
egammaTopoSeededClusters
egammaTopoSeededClustersAux
InDetForwardTrackParticles
InDetForwardTrackParticlesAux
SecVtxContainer_Electrons
SecVtxContainer_ElectronsAux
SecVtx_ConvVtxContainer_Electrons
SecVtx_ConvVtxContainer_ElectronsAux
SecVtxContainer_Muons
SecVtxContainer_MuonsAux


egammaTopoSeededClusters
egammaTopoSeededClustersAux
HLT_xAOD__MuonContainer_MuonEFInfo
HLT_xAOD__MuonContainer_MuonEFInfoAux
HLT_xAOD__TrackParticleContainer_InDetTrigTrackingxAODCnv_Muon_EFID
HLT_xAOD__TrackParticleContainer_InDetTrigTrackingxAODCnv_Muon_EFIDAux
HLT_xAOD__MuonContainer_MuonEFInfo_FullScan
HLT_xAOD__MuonContainer_MuonEFInfo_FullScanAux
SecVtxContainer_Electrons
SecVtxContainer_ElectronsAux
SecVtx_ConvVtxContainer_Electrons
SecVtx_ConvVtxContainer_ElectronsAux
SecVtxContainer_Muons
SecVtxContainer_MuonsAux


I run again:
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT_v1.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root
INFO : succeeded. new jediTaskID=20034648

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT_v1.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root
INFO : succeeded. new jediTaskID=20034713


Andrej
AOD->ntules

[pebaron@lxplus759 test_ntuples]$ less log.AODtoDPD | grep ERROR
17:00:00 AthenaEventLoopMgr                                  ERROR Terminating event processing loop due to errors
17:00:08  AthenaEventLoopMgr          |   ERROR |        1
[pebaron@lxplus759 test_ntuples]$ less log.AODtoDPD | grep FATAL
17:00:00 TruthVtxDecorAlg_CalibratedMuons                    FATAL Not running on simulation...
17:00:08  TruthVtxDecorAlg_CalibratedMuons|   FATAL |        1

trying to fix pathena, before was wrong output name, now:

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT_v5_

INFO : succeeded. new jediTaskID=20036360

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT_v5_

INFO : succeeded. new jediTaskID=20036954

downloading:
user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT_v3__EXT0/

ToolSvc.TrackIsolation_Loose_500TTVA              WARNING  No TrackParticle found for muon
ToolSvc.TrackIsolation_Loose_500TTVA              WARNING Failed to obtain reference particle
IsoBuilder_TightTTVA_pt500                        WARNING Call to custom TrackIsolationTool failed
ToolSvc.UmumuTPSelectionTool_OC_VeryLooseProbes...WARNING Unable to find a track particle to cut on!
ToolSvc.UmumuTPSelectionTool_OC_VeryLooseProbes...  ERROR TrackParticle is null!

19:14:53 =====================================================
19:14:53  Message Source              |   Level |    Count
19:14:53 -----------------------------+---------+-------------
19:14:53  AlgErrorAuditor             |   ERROR |        2
19:14:53  DetectorStore               | WARNING |        4
19:14:53  HistogramPersistencySvc     | WARNING |        1
19:14:53  IOVDbSvc                    | WARNING |       11
19:14:53  IsoBuilder_LooseTTVA_pt500  | WARNING |       66
19:14:53  IsoBuilder_TightTTVA_pt1000 | WARNING |       66
19:14:53  IsoBuilder_TightTTVA_pt500  | WARNING |       66
19:14:53  NavigationCore              |    INFO |     1078
19:14:53  PixelDetectorManager        | WARNING |        2
19:14:53  PoolSvc                     | WARNING |        2
19:14:53  TRT_GeoModel                | WARNING |        3
19:14:53  ToolSvc.JPsiTPSelectionTool_OC_IDProbes_JPsi| WARNING |      145
19:14:53  ToolSvc.JPsiTPSelectionTool_OC_MuonProbes_JPsi| WARNING |        6
19:14:53  ToolSvc.JPsiTPSelectionTool_SC_IDProbes_JPsi| WARNING |       89
19:14:53  ToolSvc.TagProbeMuonSelectionToolSctCutOff_PixCutOff_SiHolesCutOff_TRTCutOn| WARNING |        3
19:14:53  ToolSvc.TightTrackVertexAssociationTool| WARNING |        1
19:14:53  ToolSvc.TrackIsolation_Loose_1000TTVA| WARNING |      132
19:14:53  ToolSvc.TrackIsolation_Loose_500TTVA| WARNING |      132
19:14:53  ToolSvc.TrackIsolation_Loose_500_30| WARNING |      132
19:14:53  ToolSvc.UmumuTPSelectionTool_OC_VeryLooseProbes_MuonProbe_Upsilon| WARNING |        4
19:14:53  ToolSvc.UmumuTPSelectionTool_OC_VeryLooseProbes_MuonProbe_Upsilon|   ERROR |        1
19:14:53  ToolSvc.UmumuTPSelectionTool_SC_VeryLooseProbes_MuonProbe_Upsilon| WARNING |        1
19:14:53  ToolSvc.UmumuTPSelectionTool_SC_VeryLooseProbes_MuonProbe_Upsilon|   ERROR |        1
19:14:53 =====================================================
19:14:53 Py:Athena            INFO leaving with code 0: "successful run"
19:14:53 CoralApplication Info Delete the COOL CoralApplication...
19:14:53 CoralApplication Info Delete the COOL database service
19:14:53 RalDatabaseSvc Info Delete the RalDatabaseSvc...
19:14:53 RalDatabaseSvc Info Purge the connection pool
19:14:53 RalDatabaseSvc Info Reset the ICS pointer
19:14:53 RalDatabaseSvc Info Delete the RalDatabaseSvc... DONE
19:14:53 CoralApplication Info Delete the CORAL connection service
19:14:53 CoralApplication Info Delete the COOL CoralApplication... DONE
19:14:54 CORAL/Services/ConnectionService Info Deleting the ConnectionPool

Wednesday:

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903_PETR_PRODUCTION_extra_triggers.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_B_extra_trig_last_update.root

python ../../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb_overlay_extra_trig.py -o ./plots_extra_trig --noSyst --noDDBkg --noIDCorr -w

new test sample, running:

Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100


egammaTopoSeededClusters
egammaTopoSeededClustersAux
SecVtxContainer_Electrons
SecVtxContainer_ElectronsAux
SecVtx_ConvVtxContainer_Electrons
SecVtx_ConvVtxContainer_ElectronsAux
SecVtxContainer_Muons
SecVtxContainer_MuonsAux

fixing efficiencies:
using for now trigger mu20

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_HLT_mu20.root
WriteTagProbeHistos -i MC_overlay1_Zmumu_localy_produced.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_HLT_mu20.root

python ../../buildPostProc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb_mu20.py -o ./plots_mu20 --noSyst --noDDBkg --noIDCorr -w

-> Johannes chce abych to gitnul the run config

Resubmitnuti jobu, ktere faily:

Petr Hamal help:

lsetup rucio panda pyami
pbook
show() 
retry(cislo jobu)

retry(20036954)

created branch pebaron



checkxAOD DAOD_MUON1.DAOD_test_whole_stat.root > checkxAOD_DAOD_muon_test.txt


dnes 16.12. 
zkousim Adrejovy samply

rucio download group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3/

local test:
Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../group.phys-hi.20060275.EXT3._000125.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100

../MuonPerformanceAnalysis/MuonTPTools/Root/JetBranch.cxx



Reco_tf.py --inputAODFile DAOD_MUON1.DAOD_test.root --outputNTUP_MCPTPFile="ntuple_test.root" 

hack fix due to the overlay sample:

/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx
L79
and recompiled


13:25:45 ToolSvc.TruthTPTool_TruthProbes                     FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTool.cxx:128 (StatusCode MuonTPTool::runTagAndProbe(const TruthParticleContainer*, const IParticleContainer*)): code 0: trees->fill(*probe, tpSelTool)
13:25:45 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:130 (StatusCode MuonTPAlg::FillTagAndProbes() [with ProbeType = DataVector<xAOD::TruthParticle_v1>]): code 0: tool->runTagAndProbe(truth_tag_container, probeContainer)
13:25:45 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:79 (StatusCode MuonTPAlg::execute()): code 0: FillTagAndProbes<xAOD::TruthParticleContainer>()


fix hack:

../../MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/TruthVertexAlg.cxx
no running on simulation commented out

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3 --outDS user.pebaron.group.phys-hi.pPb8TeV.361107.overlay_Zmumu_o2016pPbTrig_rel21103_04_EXT3_ntuples_MCTPT_v4
INFO : succeeded. new jediTaskID=20092298


PyJobTransforms.trfValidation.scanLogFile 2019-12-16 21:41:28,700 INFO Error message "AlgErrorAuditor                                     ERROR Illegal Return Code: Algorithm AthOutSeq reported an ERROR, but returned a StatusCode "SUCCESS"" was ignored at line 60331 (structured match)
PyJobTransforms.trfExe.validate 2019-12-16 21:41:28,907 ERROR Fatal error in athena logfile (level ERROR)
PyJobTransforms.transform.execute 2019-12-16 21:41:28,907 CRITICAL Transform executor raised TransformLogfileErrorException: Fatal error in athena logfile: "Long ERROR message at line 7170 (see jobReport for further details)"
PyJobTransforms.transform.execute 2019-12-16 21:41:32,289 WARNING Transform now exiting early with exit code 68 (Fatal error in athena logfile: "Long ERROR message at line 7170 (see jobReport for further details)")


ntuples produced localy

 Reco_tf.py --inputAODFile=../*.root --outputNTUP_MCPTPFile MCPTP_ntuple_group.phys-hi.20060275.EXT3._000all.AOD.pool.root
 some errors, but ntuples produced

genereta prw:

athena PileupReweighting/generatePRW_jobOptions.py --filesInput='/eos/user/p/pebaron/TutorialMUON/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3/*.root'
  cp my.prw.root ../../PRW_generation/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3.prw.root


 test
 Reco_tf.py --inputAODFile=../*.root --outputNTUP_MCPTPFile MCPTP_ntuple_group.phys-hi.20060275.EXT3._000all.AOD.pool.root --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'


 eddited and run:

 WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903_PETR_PRODUCTION_extra_triggers.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_HLT_mu15.root


download about 80% of, rest is processing:
group.perf-muons.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v062_EXT0
group.perf-muons.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_v062_EXT0

28.12.
JK running HION6 
testing:
Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile /afs/cern.ch/work/q/qitek/HI/group.phys-hi.mc.PhPy8EG_A14_ttbar_hdamp258p75_nonallhad_Pbp8TeV_o2016pPbTrig_rel21103_04_EXT3/group.phys-hi.20126546.EXT3._000001.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf HION6 --maxEvents 100


writing jira ticket:

Dear experts,

I would like to produce ntuples in order to derive scale factors for ttbar proton-lead analysis.

We are using Monte Carlo samples with data overlay, here is the sample with 10 000 events produced by Andrzej Olszewski

group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3


The sample is tagged as isData and therefore is treated as data. The tag which can be used in order to modify code is IsEventOverlayInputSim. So the ntuples can be produced properly.


https://gitlab.cern.ch/atlas-mcp/MuonPerformanceAnalysis

AthDerivation,21.2.84.0

Reco_tf.py --inputAODFile= .root --outputNTUP_MCPTPFile ntuples.root

asetup AthDerivation,21.2.84.0,here

New branch to overlay samples pebaron

trying to generate ntuples
Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 100

17.1.2020 snaha produkce ntuplu: https://its.cern.ch/jira/browse/ATLASMCP-86

Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10

nutno upravit kod take zde:


s vykricniky se zmenily

!!!../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/CommonMuonTPConfig.py

!!!../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/TruthVertexAlg.cxx L42 - L46
!!!../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx ... changes by double \\\\
!!!../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/EvtInfo.cxx dva radky did not helped - zatim
!!!../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPMetaDataAlg.cxx L77, L79, L131
!!!../eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx L79
dalsi problemy:
!!!../MuonPerformanceAnalysis/MuonTPTools/Root/DiMuonTPTreeTool.cxx L215, L227 
!!!../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPSelectionTool.cxx L105, L106 
!!!../MuonPerformanceAnalysis/MuonPerformanceCore/Root/MuonAnalysisBranch.cxx L172, L181-183


/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTool.cxx:128
/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:129
/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:79

podle mne:
/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:79
/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:129
/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTool.cxx:128

11:21:43 Error in <ScalarBranch()>: The variable mcChannelNumber must always be filled
11:21:43 Error in <MuonAnalysisTree::fill()>: Failed to fill branch mcChannelNumber in tree MuonTP_CommonTree
11:21:43 ToolSvc.TruthTPTool_TruthProbes                     FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTool.cxx:128 (StatusCode MuonTPTool::runTagAndProbe(const TruthParticleContainer*, const IParticleContainer*)): code 0: trees->fill(*probe, tpSelTool)
11:21:43 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:129 (StatusCode MuonTPAlg::FillTagAndProbes() [with ProbeType = DataVector<xAOD::TruthParticle_v1>]): code 0: tool->runTagAndProbe(truth_tag_container, probeContainer)
11:21:43 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:79 (StatusCode MuonTPAlg::execute()): code 0: FillTagAndProbes<xAOD::TruthParticleContainer>()


need to check if xAOD::TruthParticleContainer is present.

20.1.2020

08:45:36 FILLTAGANDPROBE
08:45:36 Error in <ScalarBranch()>: The variable mcChannelNumber must always be filled
08:45:36 Error in <MuonAnalysisTree::fill()>: Failed to fill branch mcChannelNumber in tree MuonTP_CommonTree
08:45:36 ToolSvc.TruthTPTool_TruthProbes                     FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTool.
cxx:128 (StatusCode MuonTPTool::runTagAndProbe(const TruthParticleContainer*, const IParticleContainer*)): code 0: trees->fill(*probe, tpSelTool)
08:45:36 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/Muon
TPAlg.cxx:132 (StatusCode MuonTPAlg::FillTagAndProbes() [with ProbeType = DataVector<xAOD::TruthParticle_v1>]): code 0: tool->runTagAndProbe(truth_tag_container, probeContainer)
08:45:36 TruthTPAlgReconstruction                            FATAL /eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/MuonPerformanceAlgs/src/Muon
TPAlg.cxx:80 (StatusCode MuonTPAlg::execute()): code 0: FillTagAndProbes<xAOD::TruthParticleContainer>()

09:29:33 FILLTAGANDPROBE
09:29:33 CRASH1
09:29:33 CRASH2
09:29:33 CRASH3
09:29:33 CRASH4
09:29:33 CRASH5
09:29:33 CRASH6
09:29:33 CRASH9
09:29:33 CRASH10
09:29:33 CRASH11
09:29:33 CRASH12
09:29:33 CRASH13
09:29:33 CRASH20
09:29:33 CRASH21
09:29:33 CRASH22
09:29:33 CRASH23
09:29:33 CRASH26


odpoved mozna bude znde:

../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPMetaDataAlg.cxx

testoval jsem

../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/EvtInfo.cxx

something like:

const xAOD::EventInfo* evtInfo = nullptr;
CHECK(evtStore()->retrieve(evtInfo, "EventInfo"));

bool IsOverlay(){
    const xAOD::FileMetaData* fmd = nullptr;
    if (inputMetaStore()->contains<xAOD::FileMetaData>("FileMetaData")) ATH_CHECK(inputMetaStore()->retrieve(fmd, "FileMetaData"));
    if (!fmd) {
        ATH_MSG_WARNING("FileMetaData not found in input file, setting IsOverlay=false.");
        return false;
    } else {
        std::string dataType;
        if (!(fmd->value(xAOD::FileMetaData::MetaDataType::dataType, dataType))) {
            ATH_MSG_WARNING("MetaDataType::dataType not found in xAOD::FileMetaData, setting IsOverlay=false.");
            return false;
        }
        if (dataType.find("IsEventOverlayInputSim") == true){
            return true;
        } else{
            return false;
        }; 
    }   

}
//#include "/eos/user/p/pebaron/TutorialMUON/MuonPerformanceAnalysis_21.2.84/MuonPerformanceAnalysis/athena_21.2/Event/xAOD/xAODMetaData/xAODMetaData/FileMetaData.h"
 review:

IS_SIMULATION -> 8 files -> 4 packeges (add dependence of xAODMetaData and xAODMetaDataCnv xAODMetaDataAthenaPool pakage -> 4 CMakeLists.txt changed )

cmakelist by mel byt ok originalni. Pote ne chyba, moyna pridat do dalsich tri baliku

-> IS_SIMULATION or IsEventOverlayInputSim

MuonPerformanceAlgs/python/CommonMuonTPConfig.py   - ok cca

try to put labels, so I would know the order:

1    MuonPerformanceAlgs/src/TruthVertexAlg.cxx         - trying to fix it now
2    MuonPerformanceAlgs/src/MuonTPAlg.cxx 
3    MuonPtCalibNtupleMaker/src/EvtInfo.cxx             - dal by se prida pointer do funkce 
4    MuonPerformanceAlgs/src/MuonTPMetaDataAlg.cxx 
5    MuonTPTools/Root/DiMuonTPTreeTool.cxx 
6    MuonTPTools/Root/MuonTPSelectionTool.cxx 
7    MuonPerformanceCore/Root/MuonAnalysisBranch.cxx


const xAOD::FileMetaData* fmd = nullptr;
if (inputMetaStore()->contains<xAOD::FileMetaData>("FileMetaData")) ATH_CHECK(inputMetaStore()->retrieve(fmd, "FileMetaData"));
if (!fmd) {
ATH_MSG_WARNING("FileMetaData not found in input file, setting IsOverlay=false.");
} else {
        std::string dataType;
        if (!(fmd->value(xAOD::FileMetaData::MetaDataType::dataType, dataType))) {
            ATH_MSG_WARNING("MetaDataType::dataType not found in xAOD::FileMetaData, setting IsOverlay=false.");
            return false;
        }
        std::cout << "NOW: " << dataType.find("IsEventOverlayInputSim") << endl;
    }

#include <EventBookkeeperMetaData/EventBookkeeperCollection.h>
#include <EventInfo/EventStreamInfo.h>
#include <GaudiKernel/ITHistSvc.h>
#include <PileupReweighting/TPileupReweighting.h>
#include <xAODCutFlow/CutBookkeeperContainer.h>
#include <xAODEventInfo/EventInfo.h>
#include <xAODMetaData/FileMetaData.h>

../MuonPerformanceAnalysis/athena_21.2/Event/xAOD/xAODTruthCnv/src/xAODTruthCnvAlg.h:    ServiceHandle<StoreGateSvc> inputMetaStore;
ServiceHandle<StoreGateSvc> inputMetaStore;

EXTRA:
            packagefilters asi

23.1.2020

thParticles, AthSequencer/MuonTPAlgSequence_Truth, JobInfo
16:48:34 MuonTPMetaDataAlg_MUONTP                             INFO Initializing MuonTPMetaDataAlg_MUONTP...
16:48:56 IOVSvcTool                                           INFO Still in initialize phase, not tiggering callback for xAODMaker::FileMetaDataCreatorTool[0x14885e00]+7ff0d0c590c0 bound to CondAttrListCollection[/TagInfo]
16:48:56 ToolSvc.FileMetaDataCreatorTool                      INFO Processing file with no /Simulation/Parameters
16:48:56 PoolSvc                                              INFO Failed to find container MetaDataHdrDataHeader to get Token.
16:48:56 ToolSvc.ByteStreamMetadataTool                       INFO handle() BeginInputFile, filename = group.phys-hi.20060275.EXT3._000003.AOD.pool.root
16:48:56 ToolSvc.LumiBlockMetaDataTool                        INFO handle() BeginInputFile
16:48:56 ToolSvc.LumiBlockMetaDataTool                        INFO  Contains xAOD::LumiBlockRangeContainer SuspectLumiBlocks
16:48:56 ToolSvc.LumiBlockMetaDataTool                        INFO xAOD::LumiBlockRangeContainer size10
16:48:56 ToolSvc.FileMetaDataCreatorTool                     DEBUG Creating output objects
16:48:56 ToolSvc.FileMetaDataCreatorTool                     DEBUG DetectorStore contents:
16:48:56 POSITION 2b StatusCode MuonTPMetaDataAlg::beginInputFile()
16:48:56 MuonTPMetaDataAlg_MUONTP                          WARNING FileMetaData not found in input file, setting m_isDerivedAOD=false.
16:48:56 MuonTPMetaDataAlg_MUONTP                          WARNING No CutBookKeeper information could be extracted
16:49:08 ToolSvc.FileMetaDataCreatorTool                     DEBUG update() invoked for key(s): [/TagInfo]
16:49:08 ToolSvc.FileMetaDataCreatorTool                     DEBUG Retrieved object: /TagInfo
16:49:10 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:13 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:14 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:14 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:14 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 POSITION 2 StatusCode MuonTPMetaDataAlg::execute()
16:49:15 ToolSvc.FileMetaDataCreatorTool                     DEBUG Recoding file level metadata


checkMetaSG -f group.phys-hi.20060275.EXT3._000090.AOD.pool.root &> metadata_overlay.txt
IsEventOverlayInputSim
Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10 --verbose --steering="doOverlay"
print("af.fileinfos:", af.fileinfos['metadata']['/Simulation/Parameters']['IsEventOverlayInputSim'])
asetup AthDerivation,21.2.84.0,here
Reco_tf.py --preInclude 'EventOverlayJobTransforms/custom.py,EventOverlayJobTransforms/recotrfpre.py, MuonPerformanceAlgs/BTaggingPreInclude.py' --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10 --verbose 

[pebaron@lxplus788 run]$ grep -R "IS_SIMU" ../MuonPerformanceAnalysis/Muon* 
7 FILES: check position
std::cout << "POSITION 1" << std::endl;
1 ../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx:    ////} else if (info->eventType(xAOD::EventInfo::IS_SIMULATION)) {
2 ../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPMetaDataAlg.cxx:    //bool isData = !evtInfo->eventType(xAOD::EventInfo::IS_SIMULATION);
3 ../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/TruthVertexAlg.cxx:    //if (!ev_info->eventType(xAOD::EventInfo::IS_SIMULATION)) {
4 ../MuonPerformanceAnalysis/MuonPerformanceCore/Root/MuonAnalysisBranch.cxx:        ////if (ev_info->eventType(xAOD::EventInfo::IS_SIMULATION)) {
NOT HAPPENING 5 ../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/EvtInfo.cxx:    //ChannelNumber = (ei->eventType(xAOD::EventInfo::IS_SIMULATION)) ? ei->mcChannelNumber() : 0;
6 ../MuonPerformanceAnalysis/MuonTPTools/Root/DiMuonTPTreeTool.cxx:   ////if (info->eventType(xAOD::EventInfo::IS_SIMULATION)) {
NOT HAPPENING 7 ../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPSelectionTool.cxx:    //if (info->eventType(xAOD::EventInfo::IS_SIMULATION)) { w = info->mcEventWeight(); }

function inputMetaStore() is in ../MuonPerformanceAnalysis/athena_21.2/Control/AthAnalysisBaseComps/AthAnalysisBaseComps/AthAnalysisAlgorithm.h


je tridy ServiceHandle< StoreGateSvc > & inputMetaStore() const;

last command: grep -R "/Simulation/Parameters" ../MuonPerformanceAnalysis/*

ToolSvc.FileMetaDataCreatorTool

--steering="doOverlay"


after MuonTPAlg.cxx 
StatusCode MuonTPAlg::initialize()
potom neco...
Processing file with no /Simulation/Parameters
L282 v CommonMuonTPConfig.py add vypis a zbehnout znovu
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10 --verbose 




09:29:38 def AddTagProbeAlg(name, ProbeCont, FilterReco=True, AddShallowAlg=False, ShallowCopyContainer=""): in CommonMuonTPConfig

09:29:30 here I get the pointer to IsEventOverlayInputSim in CommonMuonTPConfig.py
09:29:38 overlay -- -- -- ???
09:30:18 PoolSvc                                              INFO Failed to find container MetaDataHdrDataHeader to get Token.

09:30:19 IOVDbSvc                                             INFO Folder /GLOBAL/BField/Maps will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/HLT/HltConfigKeys will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/HLT/Menu will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/HLT/PrescaleKey will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/HLT/Prescales will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/LVL1/BunchGroupKey will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/LVL1/ItemDef will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/LVL1/Lvl1ConfigKey will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/LVL1/Menu will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TRIGGER/LVL1/Prescales will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Folder /TagInfo will be taken from file metadata
09:30:19 IOVDbSvc                                             INFO Found 13 metadata containers in input file, 11 will be used 

Maybe try to find two more.

09:30:30 here I stopped probably...

09:31:11 PATHIS: TruthTPReco/Trees/SingleTruthProbes_OC
09:31:11 What I need 

09:31:11 PATHIS: TruthTPReco/Trees/SingleTruthProbes_OC
09:31:11 Info in <MuonAnalysisTree()>: Successfully initialized TPTree_SingleTruthProbes_OC stored in TruthTPReco/Trees/SingleTruthProbes_OC


09:31:11 TruthTPAlgReconstruction                             INFO TruthTPAlgReconstruction successfully initialized running on SelectedTruthTPMuons as probes.
09:31:11 AthOutSeq                                            INFO Member list: xAODMaker::ElementLinkResetAlg/ELReset
09:31:11 ELReset                                              INFO Initialising - Package version: xAODCoreCnv-00-00-00
09:31:11 HistogramPersistencySvc                           WARNING Histograms saving not required.
09:31:11 AthenaEventLoopMgr                                   INFO Setup EventSelector service EventSelector
09:31:11 ActiveStoreSvc                                       INFO Initializing ActiveStoreSvc - package version StoreGate-00-00-00
09:31:11 ApplicationMgr                                       INFO Application Manager Initialized successfully
09:31:11 ClassIDSvc                                           INFO  getRegistryEntries: read 13085 CLIDRegistry entries for module ALL
09:31:11 IOVSvcTool                                           INFO Still in initialize phase, not tiggering callback for xAODMaker::FileMetaDataCreatorTool[0x15615e00]+7efcc55060c0 bound to CondAttrListCollection[/TagInfo]

2 minutes later:

09:31:11 ToolSvc.FileMetaDataCreatorTool                      INFO Processing file with no /Simulation/Parameters WHY???

BINGO ../MuonPerformanceAnalysis/athena_21.2/Event/xAOD/xAODMetaDataCnv/src/FileMetaDataCreatorTool.cxx:

zde mi chybi overlay sample> /cvmfs/atlas.cern.ch/repo/sw/software/21.2/AthDerivation/21.2.84.0/InstallArea/x86_64-slc6-gcc62-opt/python/PATJobTransforms/

problem je take zde: FileMetaDataCreatorTool.cxx 
 if (detStore()->contains< AthenaAttributeList >(SIMFOLDER_NAME) )

 musim zjistit detStore()


09:31:33 CRASH
09:31:33 RUNTAG


[pebaron@lxplus722 run]$ grep -R "\* detStore()" ../MuonPerformanceAnalysis/*
../MuonPerformanceAnalysis/athena_21.2/DetectorDescription/GeoModel/GeoModelSvc/src/GeoModelSvc.h:    StoreGateSvc* detStore() { return m_pDetStore; }
../MuonPerformanceAnalysis/athena_21.2/InnerDetector/InDetDetDescr/InDetGeoModelUtils/InDetGeoModelUtils/InDetDDAthenaComps.h:  StoreGateSvc * detStore() const;
../MuonPerformanceAnalysis/athena_21.2/InnerDetector/InDetDetDescr/InDetGeoModelUtils/InDetGeoModelUtils/InDetDetectorFactoryBase.h:  StoreGateSvc * detStore() const {return m_athenaComps->detStore();}
../MuonPerformanceAnalysis/athena_21.2/InnerDetector/InDetDetDescr/InDetGeoModelUtils/InDetGeoModelUtils/InDetSubDetectorFactoryBase.h:  StoreGateSvc * detStore() const {return m_athenaComps->detStore();}


geany ../MuonPerformanceAnalysis/athena_21.2/Database/IOVDbSvc/src/IOVDbSvc.cxx & PB has changed !!!

TTree * tree = (TTree*)gDirectory->Get("MetaData")
 tree->Scan("EventFormat.m_branchNames.data()", "", "colsize=20");


pdftk 1k.pdf 2k.pdf 3k.pdf 4k.pdf 5k.pdf cat output mergedfile.pdf
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --inputAODFile=group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10 

do make -j


to update athena fix do:
git submodule update --remote --recursive


      declareProperty( "OutputKey", m_outputKey = "FileMetaData" );
      declareProperty( "isEVNT", m_isEVNT = false , "Set true for appropriate warnings when running on EVNT" );


../MuonPerformanceAnalysis/athena_21.2/Control/IOVSvc/src/IOVSvcTool.cxx

IFORMATION FRON AOD :

root [1] TTree * tree = (TTree*)gDirectory->Get("MetaData")
(TTree *) 0x542de40
root [2] tree->Print()
******************************************************************************
*Tree    :MetaData  : MetaData                                               *
*Entries :        1 : Total =         2018924 bytes  File  Size =     205518 *
*        :          : Tree compression factor =   9.85                       *
******************************************************************************
*Br    0 :StreamAOD : EventStreamInfo_p3                                     *
*Entries :        1 : Total  Size=      29521 bytes  File Size  =       5534 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.25     *
*............................................................................*
*Br    1 :EventFormat : xAOD::EventFormat_v1                                 *
*Entries :        1 : Total  Size=      47043 bytes  File Size  =       8038 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.79     *
*............................................................................*
*Br    2 :TruthMetaDataAux. : xAOD::TruthMetaDataAuxContainer_v1             *
*Entries :        1 : Total  Size=        706 bytes  File Size  =        165 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.09     *
*............................................................................*
*Br    3 :TriggerMenu : DataVector<xAOD::TriggerMenu_v1>                     *
*Entries :        1 : Total  Size=        612 bytes  File Size  =        110 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    4 :SuspectLumiBlocks : DataVector<xAOD::LumiBlockRange_v1>            *
*Entries :        1 : Total  Size=        642 bytes  File Size  =        116 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    5 :CutBookkeepersAux. : xAOD::CutBookkeeperAuxContainer_v1            *
*Entries :        1 : Total  Size=       1190 bytes  File Size  =        301 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.19     *
*............................................................................*
*Br    6 :FileBookkeepersAux. : xAOD::CutBookkeeperAuxContainer_v1           *
*Entries :        1 : Total  Size=       1084 bytes  File Size  =        292 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.88     *
*............................................................................*
*Br    7 :IncompleteCutBookkeepersAux. : xAOD::CutBookkeeperAuxContainer_v1  *
*Entries :        1 : Total  Size=        907 bytes  File Size  =        189 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.78     *
*............................................................................*
*Br    8 :IncompleteFileBookkeepersAux. : xAOD::CutBookkeeperAuxContainer_v1 *
*Entries :        1 : Total  Size=        912 bytes  File Size  =        190 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.78     *
*............................................................................*
*Br    9 :ElectronRingSetsConf : DataVector<xAOD::RingSetConf_v1>            *
*Entries :        1 : Total  Size=        657 bytes  File Size  =        119 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   10 :TruthMetaData : DataVector<xAOD::TruthMetaData_v1>                 *
*Entries :        1 : Total  Size=        622 bytes  File Size  =        112 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   11 :TriggerMenuAux. : xAOD::TriggerMenuAuxContainer_v1                 *
*Entries :        1 : Total  Size=     953719 bytes  File Size  =      73183 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  13.02     *
*............................................................................*
*Br   12 :CutBookkeepers : xAOD::CutBookkeeperContainer_v1                   *
*Entries :        1 : Total  Size=        627 bytes  File Size  =        113 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   13 :FileBookkeepers : xAOD::CutBookkeeperContainer_v1                  *
*Entries :        1 : Total  Size=        632 bytes  File Size  =        114 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   14 :IncompleteCutBookkeepers : xAOD::CutBookkeeperContainer_v1         *
*Entries :        1 : Total  Size=        677 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   15 :IncompleteFileBookkeepers : xAOD::CutBookkeeperContainer_v1        *
*Entries :        1 : Total  Size=        682 bytes  File Size  =        124 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   16 :SuspectLumiBlocksAux. : xAOD::LumiBlockRangeAuxContainer_v1        *
*Entries :        1 : Total  Size=       1006 bytes  File Size  =        231 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.01     *
*............................................................................*
*Br   17 :ElectronRingSetsConfAux. : xAOD::RingSetConfAuxContainer_v1        *
*Entries :        1 : Total  Size=       1211 bytes  File Size  =        190 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   3.46     *
*............................................................................*
*Br   18 :_GLOBAL_BField_Maps : IOVMetaDataContainer_p1                      *
*Entries :        1 : Total  Size=       1908 bytes  File Size  =        579 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.37     *
*............................................................................*
*Br   19 :_LAR_LArAffectedRegionInfo : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=      25603 bytes  File Size  =       5830 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   4.30     *
*............................................................................*
*Br   20 :_Simulation_Parameters : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=       3377 bytes  File Size  =       1690 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.68     *
*............................................................................*
*Br   21 :_TRIGGER_HLT_HltConfigKeys : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=       1277 bytes  File Size  =        467 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.53     *
*............................................................................*
*Br   22 :_TRIGGER_HLT_Menu : IOVMetaDataContainer_p1                        *
*Entries :        1 : Total  Size=     701924 bytes  File Size  =      65499 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.71     *
*............................................................................*
*Br   23 :_TRIGGER_HLT_PrescaleKey : IOVMetaDataContainer_p1                 *
*Entries :        1 : Total  Size=       1170 bytes  File Size  =        385 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.60     *
*............................................................................*
*Br   24 :_TRIGGER_HLT_Prescales : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=     105779 bytes  File Size  =      18328 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.74     *
*............................................................................*
*Br   25 :_TRIGGER_LVL1_BunchGroupKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1204 bytes  File Size  =        407 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.57     *
*............................................................................*
*Br   26 :_TRIGGER_LVL1_ItemDef : IOVMetaDataContainer_p1                    *
*Entries :        1 : Total  Size=      45768 bytes  File Size  =       7539 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.00     *
*............................................................................*
*Br   27 :_TRIGGER_LVL1_Lvl1ConfigKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1276 bytes  File Size  =        433 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.64     *
*............................................................................*
*Br   28 :_TRIGGER_LVL1_Menu : IOVMetaDataContainer_p1                       *
*Entries :        1 : Total  Size=      29927 bytes  File Size  =       5697 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.16     *
*............................................................................*
*Br   29 :_TRIGGER_LVL1_Prescales : IOVMetaDataContainer_p1                  *
*Entries :        1 : Total  Size=      49275 bytes  File Size  =       4723 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.32     *
*............................................................................*
*Br   30 :_TagInfo  : IOVMetaDataContainer_p1                                *
*Entries :        1 : Total  Size=       5595 bytes  File Size  =       2142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.38     *
*............................................................................*


INFORMATION FROM DAOD


root [13] tree->Print()
******************************************************************************
*Tree    :MetaData  : MetaData                                               *
*Entries :        1 : Total =         2230237 bytes  File  Size =     240361 *
*        :          : Tree compression factor =   9.26                       *
******************************************************************************
*Branch  :FileMetaDataAux.                                                   *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br    0 :FileMetaDataAux.xAOD::AuxInfoBase : BASE                           *
*Entries :        1 : Total  Size=        766 bytes  File Size  =        175 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br    1 :FileMetaDataAux.productionRelease : string                         *
*Entries :        1 : Total  Size=        728 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    2 :FileMetaDataAux.dataType : string                                  *
*Entries :        1 : Total  Size=        684 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    3 :StreamDAOD_MUON1 : EventStreamInfo_p3                              *
*Entries :        1 : Total  Size=        687 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.20     *
*............................................................................*
*Br    4 :FileMetaData : xAOD::FileMetaData_v1                               *
*Entries :        1 : Total  Size=        831 bytes  File Size  =        115 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    5 :EventFormat : xAOD::EventFormat_v1                                 *
*Entries :        1 : Total  Size=      48926 bytes  File Size  =       8415 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.75     *
*............................................................................*
*Branch  :TruthMetaDataAux.                                                  *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br    6 :TruthMetaDataAux.xAOD::AuxContainerBase : BASE                     *
*Entries :        1 : Total  Size=        796 bytes  File Size  =        180 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br    7 :TruthMetaDataAux.weightNames : vector<vector<string> >             *
*Entries :        1 : Total  Size=        691 bytes  File Size  =        121 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    8 :TruthMetaDataAux.mcChannelNumber : vector<unsigned int>            *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    9 :TruthMetaDataAux.lhefGenerator : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   10 :TruthMetaDataAux.generators : vector<string>                       *
*Entries :        1 : Total  Size=        686 bytes  File Size  =        120 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   11 :TruthMetaDataAux.evgenProcess : vector<string>                     *
*Entries :        1 : Total  Size=        696 bytes  File Size  =        122 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   12 :TruthMetaDataAux.evgenTune : vector<string>                        *
*Entries :        1 : Total  Size=        681 bytes  File Size  =        119 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   13 :TruthMetaDataAux.hardPDF : vector<string>                          *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   14 :TruthMetaDataAux.softPDF : vector<string>                          *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   15 :TriggerMenu : DataVector<xAOD::TriggerMenu_v1>                     *
*Entries :        1 : Total  Size=        612 bytes  File Size  =        110 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :CutBookkeepersAux.                                                 *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   16 :CutBookkeepersAux.xAOD::AuxContainerBase : BASE                    *
*Entries :        1 : Total  Size=        801 bytes  File Size  =        182 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   17 :CutBookkeepersAux.nameIdentifier : vector<unsigned int>            *
*Entries :        1 : Total  Size=        719 bytes  File Size  =        133 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   18 :CutBookkeepersAux.uniqueIdentifier : vector<unsigned int>          *
*Entries :        1 : Total  Size=        729 bytes  File Size  =        135 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   19 :CutBookkeepersAux.name : vector<string>                            *
*Entries :        1 : Total  Size=        691 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   20 :CutBookkeepersAux.description : vector<string>                     *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   21 :CutBookkeepersAux.cutLogic : vector<unsigned int>                  *
*Entries :        1 : Total  Size=        689 bytes  File Size  =        127 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   22 :CutBookkeepersAux.isTopFilter : vector<int>                        *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   23 :CutBookkeepersAux.cycle : vector<int>                              *
*Entries :        1 : Total  Size=        674 bytes  File Size  =        124 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   24 :CutBookkeepersAux.inputStream : vector<string>                     *
*Entries :        1 : Total  Size=        716 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   25 :CutBookkeepersAux.outputStreams : vector<vector<string> >          *
*Entries :        1 : Total  Size=        742 bytes  File Size  =        160 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   26 :CutBookkeepersAux.parentLink : vector<ElementLink<xAOD:            *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        713 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   27 :CutBookkeepersAux.childrenLinks : vector<vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        714 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   28 :CutBookkeepersAux.othersLinks : vector<vector<ElementLink<xAOD:    *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   29 :CutBookkeepersAux.siblingsLinks : vector<vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        714 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   30 :CutBookkeepersAux.nAcceptedEvents : vector<unsigned long>          *
*Entries :        1 : Total  Size=        732 bytes  File Size  =        141 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   31 :CutBookkeepersAux.sumOfEventWeights : vector<double>               *
*Entries :        1 : Total  Size=        742 bytes  File Size  =        144 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   32 :CutBookkeepersAux.sumOfEventWeightsSquared : vector<double>        *
*Entries :        1 : Total  Size=        777 bytes  File Size  =        151 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :FileBookkeepersAux.                                                *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   33 :FileBookkeepersAux.xAOD::AuxContainerBase : BASE                   *
*Entries :        1 : Total  Size=        806 bytes  File Size  =        183 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   34 :FileBookkeepersAux.nameIdentifier : vector<unsigned int>           *
*Entries :        1 : Total  Size=        716 bytes  File Size  =        126 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   35 :FileBookkeepersAux.uniqueIdentifier : vector<unsigned int>         *
*Entries :        1 : Total  Size=        726 bytes  File Size  =        128 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   36 :FileBookkeepersAux.name : vector<string>                           *
*Entries :        1 : Total  Size=        666 bytes  File Size  =        116 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   37 :FileBookkeepersAux.description : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   38 :FileBookkeepersAux.cutLogic : vector<unsigned int>                 *
*Entries :        1 : Total  Size=        686 bytes  File Size  =        120 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   39 :FileBookkeepersAux.isTopFilter : vector<int>                       *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   40 :FileBookkeepersAux.cycle : vector<int>                             *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   41 :FileBookkeepersAux.inputStream : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   42 :FileBookkeepersAux.outputStreams : vector<vector<string> >         *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   43 :FileBookkeepersAux.parentLink : vector<ElementLink<xAOD:           *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        702 bytes  File Size  =        128 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   44 :FileBookkeepersAux.childrenLinks : vector<vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   45 :FileBookkeepersAux.othersLinks : vector<vector<ElementLink<xAOD:   *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   46 :FileBookkeepersAux.siblingsLinks : vector<vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   47 :FileBookkeepersAux.nAcceptedEvents : vector<unsigned long>         *
*Entries :        1 : Total  Size=        721 bytes  File Size  =        127 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   48 :FileBookkeepersAux.sumOfEventWeights : vector<double>              *
*Entries :        1 : Total  Size=        731 bytes  File Size  =        129 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   49 :FileBookkeepersAux.sumOfEventWeightsSquared : vector<double>       *
*Entries :        1 : Total  Size=        766 bytes  File Size  =        136 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :IncompleteCutBookkeepersAux.                                       *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   50 :IncompleteCutBookkeepersAux.xAOD::AuxContainerBase : BASE          *
*Entries :        1 : Total  Size=        851 bytes  File Size  =        192 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   51 :IncompleteCutBookkeepersAux.nameIdentifier : vector<unsigned int>  *
*Entries :        1 : Total  Size=        761 bytes  File Size  =        135 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   52 :IncompleteCutBookkeepersAux.uniqueIdentifier : vector<unsigned int>*
*Entries :        1 : Total  Size=        771 bytes  File Size  =        137 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   53 :IncompleteCutBookkeepersAux.name : vector<string>                  *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   54 :IncompleteCutBookkeepersAux.description : vector<string>           *
*Entries :        1 : Total  Size=        746 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   55 :IncompleteCutBookkeepersAux.cutLogic : vector<unsigned int>        *
*Entries :        1 : Total  Size=        731 bytes  File Size  =        129 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   56 :IncompleteCutBookkeepersAux.isTopFilter : vector<int>              *
*Entries :        1 : Total  Size=        746 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   57 :IncompleteCutBookkeepersAux.cycle : vector<int>                    *
*Entries :        1 : Total  Size=        716 bytes  File Size  =        126 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   58 :IncompleteCutBookkeepersAux.inputStream : vector<string>           *
*Entries :        1 : Total  Size=        746 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   59 :IncompleteCutBookkeepersAux.outputStreams : vector<vector<string> >*
*Entries :        1 : Total  Size=        756 bytes  File Size  =        134 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   60 :IncompleteCutBookkeepersAux.parentLink : vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        747 bytes  File Size  =        137 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   61 :IncompleteCutBookkeepersAux.childrenLinks :                        *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        756 bytes  File Size  =        134 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   62 :IncompleteCutBookkeepersAux.othersLinks :                          *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        746 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   63 :IncompleteCutBookkeepersAux.siblingsLinks :                        *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        756 bytes  File Size  =        134 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   64 :IncompleteCutBookkeepersAux.nAcceptedEvents : vector<unsigned long>*
*Entries :        1 : Total  Size=        766 bytes  File Size  =        136 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   65 :IncompleteCutBookkeepersAux.sumOfEventWeights : vector<double>     *
*Entries :        1 : Total  Size=        776 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   66 :IncompleteCutBookkeepersAux.sumOfEventWeightsSquared :             *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        811 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :IncompleteFileBookkeepersAux.                                      *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   67 :IncompleteFileBookkeepersAux.xAOD::AuxContainerBase : BASE         *
*Entries :        1 : Total  Size=        856 bytes  File Size  =        193 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   68 :IncompleteFileBookkeepersAux.nameIdentifier : vector<unsigned int> *
*Entries :        1 : Total  Size=        778 bytes  File Size  =        148 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   69 :IncompleteFileBookkeepersAux.uniqueIdentifier :                    *
*         | vector<unsigned int>                                             *
*Entries :        1 : Total  Size=        788 bytes  File Size  =        150 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   70 :IncompleteFileBookkeepersAux.name : vector<string>                 *
*Entries :        1 : Total  Size=        770 bytes  File Size  =        159 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.13     *
*............................................................................*
*Br   71 :IncompleteFileBookkeepersAux.description : vector<string>          *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   72 :IncompleteFileBookkeepersAux.cutLogic : vector<unsigned int>       *
*Entries :        1 : Total  Size=        748 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   73 :IncompleteFileBookkeepersAux.isTopFilter : vector<int>             *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   74 :IncompleteFileBookkeepersAux.cycle : vector<int>                   *
*Entries :        1 : Total  Size=        733 bytes  File Size  =        139 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   75 :IncompleteFileBookkeepersAux.inputStream : vector<string>          *
*Entries :        1 : Total  Size=        781 bytes  File Size  =        162 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   76 :IncompleteFileBookkeepersAux.outputStreams :                       *
*         | vector<vector<string> >                                          *
*Entries :        1 : Total  Size=        806 bytes  File Size  =        161 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.12     *
*............................................................................*
*Br   77 :IncompleteFileBookkeepersAux.parentLink : vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        776 bytes  File Size  =        155 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.05     *
*............................................................................*
*Br   78 :IncompleteFileBookkeepersAux.childrenLinks :                       *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        773 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   79 :IncompleteFileBookkeepersAux.othersLinks :                         *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   80 :IncompleteFileBookkeepersAux.siblingsLinks :                       *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        773 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   81 :IncompleteFileBookkeepersAux.nAcceptedEvents :                     *
*         | vector<unsigned long>                                            *
*Entries :        1 : Total  Size=        795 bytes  File Size  =        152 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.06     *
*............................................................................*
*Br   82 :IncompleteFileBookkeepersAux.sumOfEventWeights : vector<double>    *
*Entries :        1 : Total  Size=        805 bytes  File Size  =        158 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.03     *
*............................................................................*
*Br   83 :IncompleteFileBookkeepersAux.sumOfEventWeightsSquared :            *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        840 bytes  File Size  =        165 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.03     *
*............................................................................*
*Br   84 :TruthMetaData : DataVector<xAOD::TruthMetaData_v1>                 *
*Entries :        1 : Total  Size=        622 bytes  File Size  =        112 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :TriggerMenuAux.                                                    *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   85 :TriggerMenuAux.xAOD::AuxContainerBase : BASE                       *
*Entries :        1 : Total  Size=        786 bytes  File Size  =        179 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   86 :TriggerMenuAux.smk : vector<unsigned int>                          *
*Entries :        1 : Total  Size=        645 bytes  File Size  =        115 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   87 :TriggerMenuAux.l1psk : vector<unsigned int>                        *
*Entries :        1 : Total  Size=        655 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   88 :TriggerMenuAux.hltpsk : vector<unsigned int>                       *
*Entries :        1 : Total  Size=        660 bytes  File Size  =        118 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   89 :TriggerMenuAux.itemCtpIds : vector<vector<unsigned short> >        *
*Entries :        1 : Total  Size=       1542 bytes  File Size  =        761 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.29     *
*............................................................................*
*Br   90 :TriggerMenuAux.itemNames : vector<vector<string> >                 *
*Entries :        1 : Total  Size=       7523 bytes  File Size  =       2121 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   3.29     *
*............................................................................*
*Br   91 :TriggerMenuAux.itemPrescales : vector<vector<float> >              *
*Entries :        1 : Total  Size=       2419 bytes  File Size  =        151 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  12.25     *
*............................................................................*
*Br   92 :TriggerMenuAux.chainIds : vector<vector<unsigned short> >          *
*Entries :        1 : Total  Size=       3590 bytes  File Size  =       2447 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.24     *
*............................................................................*
*Br   93 :TriggerMenuAux.chainNames : vector<vector<string> >                *
*Entries :        1 : Total  Size=      44805 bytes  File Size  =       6900 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.41     *
*............................................................................*
*Br   94 :TriggerMenuAux.chainParentNames : vector<vector<string> >          *
*Entries :        1 : Total  Size=      22837 bytes  File Size  =       3225 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.90     *
*............................................................................*
*Br   95 :TriggerMenuAux.chainPrescales : vector<vector<float> >             *
*Entries :        1 : Total  Size=       6540 bytes  File Size  =        174 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  34.29     *
*............................................................................*
*Br   96 :TriggerMenuAux.chainRerunPrescales : vector<vector<float> >        *
*Entries :        1 : Total  Size=       6565 bytes  File Size  =        165 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  36.19     *
*............................................................................*
*Br   97 :TriggerMenuAux.chainPassthroughPrescales : vector<vector<float> >  *
*Entries :        1 : Total  Size=       6595 bytes  File Size  =        171 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  34.95     *
*............................................................................*
*Br   98 :TriggerMenuAux.chainSignatureCounters :                            *
*         | vector<vector<vector<unsigned int> > >                           *
*Entries :        1 : Total  Size=      37036 bytes  File Size  =        745 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  48.90     *
*............................................................................*
*Br   99 :TriggerMenuAux.chainSignatureLogics : vector<vector<vector<int> > >*
*Entries :        1 : Total  Size=      37026 bytes  File Size  =        684 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  53.26     *
*............................................................................*
*Br  100 :TriggerMenuAux.chainSignatureOutputTEs :                           *
*         | vector<vector<vector<vector<string> > > >                        *
*Entries :        1 : Total  Size=     285531 bytes  File Size  =      12739 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  22.37     *
*............................................................................*
*Br  101 :TriggerMenuAux.chainSignatureLabels :                              *
*         | vector<vector<vector<string> > >                                 *
*Entries :        1 : Total  Size=     263452 bytes  File Size  =      25722 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.22     *
*............................................................................*
*Br  102 :TriggerMenuAux.sequenceInputTEs : vector<vector<vector<string> > > *
*Entries :        1 : Total  Size=      37375 bytes  File Size  =       4164 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   8.84     *
*............................................................................*
*Br  103 :TriggerMenuAux.sequenceOutputTEs : vector<vector<string> >         *
*Entries :        1 : Total  Size=      34927 bytes  File Size  =       6070 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.66     *
*............................................................................*
*Br  104 :TriggerMenuAux.sequenceAlgorithms :                                *
*         | vector<vector<vector<string> > >                                 *
*Entries :        1 : Total  Size=     166310 bytes  File Size  =       7847 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  21.12     *
*............................................................................*
*Br  105 :TriggerMenuAux.bunchGroupBunches :                                 *
*         | vector<vector<vector<unsigned short> > >                         *
*Entries :        1 : Total  Size=        785 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.35     *
*............................................................................*
*Br  106 :CutBookkeepers : xAOD::CutBookkeeperContainer_v1                   *
*Entries :        1 : Total  Size=        627 bytes  File Size  =        113 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  107 :FileBookkeepers : xAOD::CutBookkeeperContainer_v1                  *
*Entries :        1 : Total  Size=        632 bytes  File Size  =        114 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  108 :IncompleteCutBookkeepers : xAOD::CutBookkeeperContainer_v1         *
*Entries :        1 : Total  Size=        677 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  109 :IncompleteFileBookkeepers : xAOD::CutBookkeeperContainer_v1        *
*Entries :        1 : Total  Size=        682 bytes  File Size  =        124 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  110 :_GLOBAL_BField_Maps : IOVMetaDataContainer_p1                      *
*Entries :        1 : Total  Size=       1908 bytes  File Size  =        579 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.37     *
*............................................................................*
*Br  111 :_LAR_LArAffectedRegionInfo : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=      25603 bytes  File Size  =       5830 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   4.30     *
*............................................................................*
*Br  112 :_Simulation_Parameters : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=       3377 bytes  File Size  =       1690 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.68     *
*............................................................................*
*Br  113 :_TRIGGER_HLT_HltConfigKeys : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=       1277 bytes  File Size  =        467 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.53     *
*............................................................................*
*Br  114 :_TRIGGER_HLT_Menu : IOVMetaDataContainer_p1                        *
*Entries :        1 : Total  Size=     701924 bytes  File Size  =      65499 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.71     *
*............................................................................*
*Br  115 :_TRIGGER_HLT_PrescaleKey : IOVMetaDataContainer_p1                 *
*Entries :        1 : Total  Size=       1244 bytes  File Size  =        412 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.67     *
*............................................................................*
*Br  116 :_TRIGGER_HLT_Prescales : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=     210449 bytes  File Size  =      34897 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.01     *
*............................................................................*
*Br  117 :_TRIGGER_LVL1_BunchGroupKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1204 bytes  File Size  =        407 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.57     *
*............................................................................*
*Br  118 :_TRIGGER_LVL1_ItemDef : IOVMetaDataContainer_p1                    *
*Entries :        1 : Total  Size=      45768 bytes  File Size  =       7539 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.00     *
*............................................................................*
*Br  119 :_TRIGGER_LVL1_Lvl1ConfigKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1424 bytes  File Size  =        470 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.83     *
*............................................................................*
*Br  120 :_TRIGGER_LVL1_Menu : IOVMetaDataContainer_p1                       *
*Entries :        1 : Total  Size=      29927 bytes  File Size  =       5697 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.16     *
*............................................................................*
*Br  121 :_TRIGGER_LVL1_Prescales : IOVMetaDataContainer_p1                  *
*Entries :        1 : Total  Size=      97457 bytes  File Size  =       9064 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.69     *
*............................................................................*
*Br  122 :_TagInfo  : IOVMetaDataContainer_p1                                *
*Entries :        1 : Total  Size=       5739 bytes  File Size  =       2216 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.37     *
*............................................................................*
*Br  123 :CutBookkeepersAuxDyn.sumOfTruncatedEventWeights : vector<double>   *
*Entries :        1 : Total  Size=        802 bytes  File Size  =        156 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  124 :CutBookkeepersAuxDyn.sumOfTruncatedEventWeightsSquared :           *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        837 bytes  File Size  =        163 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  125 :FileMetaDataAuxDyn.amiTag : string                                 *
*Entries :        1 : Total  Size=        667 bytes  File Size  =        109 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  126 :FileMetaDataAuxDyn.geometryVersion : string                        *
*Entries :        1 : Total  Size=        734 bytes  File Size  =        140 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  127 :FileMetaDataAuxDyn.conditionsTag : string                          *
*Entries :        1 : Total  Size=        723 bytes  File Size  =        137 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  128 :FileMetaDataAuxDyn.beamEnergy : beamEnergy/F                       *
*Entries :        1 : Total  Size=        617 bytes  File Size  =        104 *
*Baskets :        1 : Basket Size=       2048 bytes  Compression=   1.00     *
*............................................................................*
*Br  129 :FileMetaDataAuxDyn.beamType : string                               *
*Entries :        1 : Total  Size=        687 bytes  File Size  =        121 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*


porovnani: 

v DAOD: FileMetaData : xAOD::FileMetaData_v1   
v kodu: inputMetaStore()->contains<xAOD::FileMetaData>("FileMetaData")

v AODs: _Simulation_Parameters : IOVMetaDataContainer_p1
v kodu: inputMetaStore()->contains<IOVMetaDataContainer_p1>("FileMetaData")


test:

Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../group.phys-hi.20060275.EXT3._000125.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100


I have run to produce DAODs:

Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 

and now to produce ntuples: 

Reco_tf.py --inputAODFile=DAOD_MUON1.DAOD_test.root --outputNTUP_MCPTPFile test_ntuple.root --maxEvents 10

This works, now implement metadataFile fix. 

I have updated MUON1.py and I will nedd to edit that.

produkce, 
FileMetaDataAux.dataType : string   

*Br    1 :FileMetaDataAux.productionRelease : string                         *
*Entries :        1 : Total  Size=        728 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    2 :FileMetaDataAux.dataType : string  

need to add more
podivat se na zdrojak

from DerivationFrameworkCore.ThinningHelper import ThinningHelper
vyprintovat: print MUON1ThinningHelper.TriggerChains

from PyUtils import AthFile
af = AthFile.fopen(ServiceMgr.EventSelector.InputCollections[0])


/athena/Event/xAOD/xAODMetaData/xAODMetaData/versions/FileMetaDataAuxInfo_v1.h

FileMetaData is empty, why???

editting:

../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/DerivationFramework/DerivationFrameworkCore/python/DerivationFrameworkMaster.py

Other IDs
Scopus Author ID: 57038170900

INFILE = "AOD.pool.root"
from AthenaCommon.AthenaCommonFlags import athenaCommonFlags
athenaCommonFlags.FilesInput = [ INFILE ]
athenaCommonFlags.EvtMax = 10

# Turn off most of what RecExCommon does:
from RecExConfig.RecFlags import rec
rec.doCBNT.set_Value_and_Lock( False )
rec.doWriteAOD.set_Value_and_Lock( False )
rec.doWriteTAG.set_Value_and_Lock( False )
rec.AutoConfiguration = [ "everything" ]

# Read the file using RecExCommon:
include( "RecExCommon/RecExCommon_topOptions.py" )

# Set up the metadata tool:
ToolSvc += CfgMgr.xAODMaker__FileMetaDataCreatorTool( "FileMetaDataCreatorTool",
                                                      OutputLevel = 2 )
svcMgr.MetaDataSvc.MetaDataTools += [ ToolSvc.FileMetaDataCreatorTool ]

# Set up the writing of an output file:
from OutputStreamAthenaPool.MultipleStreamManager import MSMgr
stream = MSMgr.NewPoolRootStream( "StreamDAOD", "DxAOD.pool.root" )
stream.AddItem( [ "xAOD::EventInfo#EventInfo",
                  "xAOD::EventAuxInfo#EventInfoAux." ] )
stream.AddMetaDataItem( [ "xAOD::FileMetaData#FileMetaData",
                          "xAOD::FileMetaDataAuxInfo#FileMetaDataAux." ] )

musim udelat make -j a etstnout pointer ..Aux

******************************************************************************
*Tree    :MetaData  : MetaData                                               *
*Entries :        1 : Total =         2086672 bytes  File  Size =     221776 *
*        :          : Tree compression factor =   9.39                       *
******************************************************************************
*Branch  :FileMetaDataAux.                                                   *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br    0 :FileMetaDataAux.xAOD::AuxInfoBase : BASE                           *
*Entries :        1 : Total  Size=        766 bytes  File Size  =        175 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br    1 :FileMetaDataAux.productionRelease : string                         *
*Entries :        1 : Total  Size=        728 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    2 :FileMetaDataAux.dataType : string                                  *
*Entries :        1 : Total  Size=        684 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    3 :StreamDAOD_MUON1 : EventStreamInfo_p3                              *
*Entries :        1 : Total  Size=       4893 bytes  File Size  =       1297 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   3.37     *
*............................................................................*
*Br    4 :FileMetaData : xAOD::FileMetaData_v1                               *
*Entries :        1 : Total  Size=        621 bytes  File Size  =        115 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    5 :EventFormat : xAOD::EventFormat_v1                                 *
*Entries :        1 : Total  Size=      53437 bytes  File Size  =       9138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.79     *
*............................................................................*
*Branch  :TruthMetaDataAux.                                                  *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br    6 :TruthMetaDataAux.xAOD::AuxContainerBase : BASE                     *
*Entries :        1 : Total  Size=        796 bytes  File Size  =        180 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br    7 :TruthMetaDataAux.weightNames : vector<vector<string> >             *
*Entries :        1 : Total  Size=        691 bytes  File Size  =        121 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    8 :TruthMetaDataAux.mcChannelNumber : vector<unsigned int>            *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br    9 :TruthMetaDataAux.lhefGenerator : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   10 :TruthMetaDataAux.generators : vector<string>                       *
*Entries :        1 : Total  Size=        686 bytes  File Size  =        120 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   11 :TruthMetaDataAux.evgenProcess : vector<string>                     *
*Entries :        1 : Total  Size=        696 bytes  File Size  =        122 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   12 :TruthMetaDataAux.evgenTune : vector<string>                        *
*Entries :        1 : Total  Size=        681 bytes  File Size  =        119 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   13 :TruthMetaDataAux.hardPDF : vector<string>                          *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   14 :TruthMetaDataAux.softPDF : vector<string>                          *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   15 :TriggerMenu : DataVector<xAOD::TriggerMenu_v1>                     *
*Entries :        1 : Total  Size=        612 bytes  File Size  =        110 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :CutBookkeepersAux.                                                 *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   16 :CutBookkeepersAux.xAOD::AuxContainerBase : BASE                    *
*Entries :        1 : Total  Size=        801 bytes  File Size  =        182 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   17 :CutBookkeepersAux.nameIdentifier : vector<unsigned int>            *
*Entries :        1 : Total  Size=        719 bytes  File Size  =        133 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   18 :CutBookkeepersAux.uniqueIdentifier : vector<unsigned int>          *
*Entries :        1 : Total  Size=        729 bytes  File Size  =        135 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   19 :CutBookkeepersAux.name : vector<string>                            *
*Entries :        1 : Total  Size=        691 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   20 :CutBookkeepersAux.description : vector<string>                     *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   21 :CutBookkeepersAux.cutLogic : vector<unsigned int>                  *
*Entries :        1 : Total  Size=        689 bytes  File Size  =        127 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   22 :CutBookkeepersAux.isTopFilter : vector<int>                        *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   23 :CutBookkeepersAux.cycle : vector<int>                              *
*Entries :        1 : Total  Size=        674 bytes  File Size  =        124 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   24 :CutBookkeepersAux.inputStream : vector<string>                     *
*Entries :        1 : Total  Size=        716 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   25 :CutBookkeepersAux.outputStreams : vector<vector<string> >          *
*Entries :        1 : Total  Size=        742 bytes  File Size  =        160 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   26 :CutBookkeepersAux.parentLink : vector<ElementLink<xAOD:            *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        713 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   27 :CutBookkeepersAux.childrenLinks : vector<vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        714 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   28 :CutBookkeepersAux.othersLinks : vector<vector<ElementLink<xAOD:    *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        704 bytes  File Size  =        130 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   29 :CutBookkeepersAux.siblingsLinks : vector<vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        714 bytes  File Size  =        132 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   30 :CutBookkeepersAux.nAcceptedEvents : vector<unsigned long>          *
*Entries :        1 : Total  Size=        732 bytes  File Size  =        141 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   31 :CutBookkeepersAux.sumOfEventWeights : vector<double>               *
*Entries :        1 : Total  Size=        742 bytes  File Size  =        144 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   32 :CutBookkeepersAux.sumOfEventWeightsSquared : vector<double>        *
*Entries :        1 : Total  Size=        777 bytes  File Size  =        151 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :FileBookkeepersAux.                                                *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   33 :FileBookkeepersAux.xAOD::AuxContainerBase : BASE                   *
*Entries :        1 : Total  Size=        806 bytes  File Size  =        183 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   34 :FileBookkeepersAux.nameIdentifier : vector<unsigned int>           *
*Entries :        1 : Total  Size=        716 bytes  File Size  =        126 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   35 :FileBookkeepersAux.uniqueIdentifier : vector<unsigned int>         *
*Entries :        1 : Total  Size=        726 bytes  File Size  =        128 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   36 :FileBookkeepersAux.name : vector<string>                           *
*Entries :        1 : Total  Size=        666 bytes  File Size  =        116 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   37 :FileBookkeepersAux.description : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   38 :FileBookkeepersAux.cutLogic : vector<unsigned int>                 *
*Entries :        1 : Total  Size=        686 bytes  File Size  =        120 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   39 :FileBookkeepersAux.isTopFilter : vector<int>                       *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   40 :FileBookkeepersAux.cycle : vector<int>                             *
*Entries :        1 : Total  Size=        671 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   41 :FileBookkeepersAux.inputStream : vector<string>                    *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   42 :FileBookkeepersAux.outputStreams : vector<vector<string> >         *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   43 :FileBookkeepersAux.parentLink : vector<ElementLink<xAOD:           *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        702 bytes  File Size  =        128 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   44 :FileBookkeepersAux.childrenLinks : vector<vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   45 :FileBookkeepersAux.othersLinks : vector<vector<ElementLink<xAOD:   *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        701 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   46 :FileBookkeepersAux.siblingsLinks : vector<vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> > >                                  *
*Entries :        1 : Total  Size=        711 bytes  File Size  =        125 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   47 :FileBookkeepersAux.nAcceptedEvents : vector<unsigned long>         *
*Entries :        1 : Total  Size=        721 bytes  File Size  =        127 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   48 :FileBookkeepersAux.sumOfEventWeights : vector<double>              *
*Entries :        1 : Total  Size=        731 bytes  File Size  =        129 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   49 :FileBookkeepersAux.sumOfEventWeightsSquared : vector<double>       *
*Entries :        1 : Total  Size=        766 bytes  File Size  =        136 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :IncompleteCutBookkeepersAux.                                       *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   50 :IncompleteCutBookkeepersAux.xAOD::AuxContainerBase : BASE          *
*Entries :        1 : Total  Size=        851 bytes  File Size  =        192 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   51 :IncompleteCutBookkeepersAux.nameIdentifier : vector<unsigned int>  *
*Entries :        1 : Total  Size=        773 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   52 :IncompleteCutBookkeepersAux.uniqueIdentifier : vector<unsigned int>*
*Entries :        1 : Total  Size=        783 bytes  File Size  =        149 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   53 :IncompleteCutBookkeepersAux.name : vector<string>                  *
*Entries :        1 : Total  Size=        765 bytes  File Size  =        158 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.13     *
*............................................................................*
*Br   54 :IncompleteCutBookkeepersAux.description : vector<string>           *
*Entries :        1 : Total  Size=        815 bytes  File Size  =        170 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.18     *
*............................................................................*
*Br   55 :IncompleteCutBookkeepersAux.cutLogic : vector<unsigned int>        *
*Entries :        1 : Total  Size=        743 bytes  File Size  =        141 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   56 :IncompleteCutBookkeepersAux.isTopFilter : vector<int>              *
*Entries :        1 : Total  Size=        758 bytes  File Size  =        144 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   57 :IncompleteCutBookkeepersAux.cycle : vector<int>                    *
*Entries :        1 : Total  Size=        728 bytes  File Size  =        138 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   58 :IncompleteCutBookkeepersAux.inputStream : vector<string>           *
*Entries :        1 : Total  Size=        776 bytes  File Size  =        161 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   59 :IncompleteCutBookkeepersAux.outputStreams : vector<vector<string> >*
*Entries :        1 : Total  Size=        801 bytes  File Size  =        160 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.12     *
*............................................................................*
*Br   60 :IncompleteCutBookkeepersAux.parentLink : vector<ElementLink<xAOD:  *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        771 bytes  File Size  =        154 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.05     *
*............................................................................*
*Br   61 :IncompleteCutBookkeepersAux.childrenLinks :                        *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        768 bytes  File Size  =        146 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   62 :IncompleteCutBookkeepersAux.othersLinks :                          *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        758 bytes  File Size  =        144 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   63 :IncompleteCutBookkeepersAux.siblingsLinks :                        *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        768 bytes  File Size  =        146 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   64 :IncompleteCutBookkeepersAux.nAcceptedEvents : vector<unsigned long>*
*Entries :        1 : Total  Size=        790 bytes  File Size  =        151 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.06     *
*............................................................................*
*Br   65 :IncompleteCutBookkeepersAux.sumOfEventWeights : vector<double>     *
*Entries :        1 : Total  Size=        800 bytes  File Size  =        156 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.04     *
*............................................................................*
*Br   66 :IncompleteCutBookkeepersAux.sumOfEventWeightsSquared :             *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        835 bytes  File Size  =        163 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.04     *
*............................................................................*
*Branch  :IncompleteFileBookkeepersAux.                                      *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   67 :IncompleteFileBookkeepersAux.xAOD::AuxContainerBase : BASE         *
*Entries :        1 : Total  Size=        856 bytes  File Size  =        193 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   68 :IncompleteFileBookkeepersAux.nameIdentifier : vector<unsigned int> *
*Entries :        1 : Total  Size=        778 bytes  File Size  =        148 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   69 :IncompleteFileBookkeepersAux.uniqueIdentifier :                    *
*         | vector<unsigned int>                                             *
*Entries :        1 : Total  Size=        788 bytes  File Size  =        150 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   70 :IncompleteFileBookkeepersAux.name : vector<string>                 *
*Entries :        1 : Total  Size=        770 bytes  File Size  =        159 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.13     *
*............................................................................*
*Br   71 :IncompleteFileBookkeepersAux.description : vector<string>          *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   72 :IncompleteFileBookkeepersAux.cutLogic : vector<unsigned int>       *
*Entries :        1 : Total  Size=        748 bytes  File Size  =        142 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   73 :IncompleteFileBookkeepersAux.isTopFilter : vector<int>             *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   74 :IncompleteFileBookkeepersAux.cycle : vector<int>                   *
*Entries :        1 : Total  Size=        733 bytes  File Size  =        139 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   75 :IncompleteFileBookkeepersAux.inputStream : vector<string>          *
*Entries :        1 : Total  Size=        781 bytes  File Size  =        162 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   76 :IncompleteFileBookkeepersAux.outputStreams :                       *
*         | vector<vector<string> >                                          *
*Entries :        1 : Total  Size=        806 bytes  File Size  =        161 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.12     *
*............................................................................*
*Br   77 :IncompleteFileBookkeepersAux.parentLink : vector<ElementLink<xAOD: *
*         | :CutBookkeeperContainer_v1> >                                    *
*Entries :        1 : Total  Size=        776 bytes  File Size  =        155 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.05     *
*............................................................................*
*Br   78 :IncompleteFileBookkeepersAux.childrenLinks :                       *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        773 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   79 :IncompleteFileBookkeepersAux.othersLinks :                         *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        763 bytes  File Size  =        145 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   80 :IncompleteFileBookkeepersAux.siblingsLinks :                       *
*         | vector<vector<ElementLink<xAOD::CutBookkeeperContainer_v1> > >   *
*Entries :        1 : Total  Size=        773 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   81 :IncompleteFileBookkeepersAux.nAcceptedEvents :                     *
*         | vector<unsigned long>                                            *
*Entries :        1 : Total  Size=        795 bytes  File Size  =        152 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.06     *
*............................................................................*
*Br   82 :IncompleteFileBookkeepersAux.sumOfEventWeights : vector<double>    *
*Entries :        1 : Total  Size=        805 bytes  File Size  =        157 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.04     *
*............................................................................*
*Br   83 :IncompleteFileBookkeepersAux.sumOfEventWeightsSquared :            *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        840 bytes  File Size  =        164 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.04     *
*............................................................................*
*Br   84 :TruthMetaData : DataVector<xAOD::TruthMetaData_v1>                 *
*Entries :        1 : Total  Size=        622 bytes  File Size  =        112 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Branch  :TriggerMenuAux.                                                    *
*Entries :        1 : BranchElement (see below)                              *
*............................................................................*
*Br   85 :TriggerMenuAux.xAOD::AuxContainerBase : BASE                       *
*Entries :        1 : Total  Size=        786 bytes  File Size  =        179 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.01     *
*............................................................................*
*Br   86 :TriggerMenuAux.smk : vector<unsigned int>                          *
*Entries :        1 : Total  Size=        645 bytes  File Size  =        115 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   87 :TriggerMenuAux.l1psk : vector<unsigned int>                        *
*Entries :        1 : Total  Size=        655 bytes  File Size  =        117 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   88 :TriggerMenuAux.hltpsk : vector<unsigned int>                       *
*Entries :        1 : Total  Size=        660 bytes  File Size  =        118 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br   89 :TriggerMenuAux.itemCtpIds : vector<vector<unsigned short> >        *
*Entries :        1 : Total  Size=       1542 bytes  File Size  =        761 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.29     *
*............................................................................*
*Br   90 :TriggerMenuAux.itemNames : vector<vector<string> >                 *
*Entries :        1 : Total  Size=       7523 bytes  File Size  =       2121 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   3.29     *
*............................................................................*
*Br   91 :TriggerMenuAux.itemPrescales : vector<vector<float> >              *
*Entries :        1 : Total  Size=       2419 bytes  File Size  =        151 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  12.25     *
*............................................................................*
*Br   92 :TriggerMenuAux.chainIds : vector<vector<unsigned short> >          *
*Entries :        1 : Total  Size=       3590 bytes  File Size  =       2447 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.24     *
*............................................................................*
*Br   93 :TriggerMenuAux.chainNames : vector<vector<string> >                *
*Entries :        1 : Total  Size=      44805 bytes  File Size  =       6900 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.41     *
*............................................................................*
*Br   94 :TriggerMenuAux.chainParentNames : vector<vector<string> >          *
*Entries :        1 : Total  Size=      22837 bytes  File Size  =       3225 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.90     *
*............................................................................*
*Br   95 :TriggerMenuAux.chainPrescales : vector<vector<float> >             *
*Entries :        1 : Total  Size=       6540 bytes  File Size  =        174 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  34.29     *
*............................................................................*
*Br   96 :TriggerMenuAux.chainRerunPrescales : vector<vector<float> >        *
*Entries :        1 : Total  Size=       6565 bytes  File Size  =        165 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  36.19     *
*............................................................................*
*Br   97 :TriggerMenuAux.chainPassthroughPrescales : vector<vector<float> >  *
*Entries :        1 : Total  Size=       6595 bytes  File Size  =        171 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  34.95     *
*............................................................................*
*Br   98 :TriggerMenuAux.chainSignatureCounters :                            *
*         | vector<vector<vector<unsigned int> > >                           *
*Entries :        1 : Total  Size=      37036 bytes  File Size  =        745 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  48.90     *
*............................................................................*
*Br   99 :TriggerMenuAux.chainSignatureLogics : vector<vector<vector<int> > >*
*Entries :        1 : Total  Size=      37026 bytes  File Size  =        684 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  53.26     *
*............................................................................*
*Br  100 :TriggerMenuAux.chainSignatureOutputTEs :                           *
*         | vector<vector<vector<vector<string> > > >                        *
*Entries :        1 : Total  Size=     285531 bytes  File Size  =      12739 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  22.37     *
*............................................................................*
*Br  101 :TriggerMenuAux.chainSignatureLabels :                              *
*         | vector<vector<vector<string> > >                                 *
*Entries :        1 : Total  Size=     263452 bytes  File Size  =      25722 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.22     *
*............................................................................*
*Br  102 :TriggerMenuAux.sequenceInputTEs : vector<vector<vector<string> > > *
*Entries :        1 : Total  Size=      37375 bytes  File Size  =       4164 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   8.84     *
*............................................................................*
*Br  103 :TriggerMenuAux.sequenceOutputTEs : vector<vector<string> >         *
*Entries :        1 : Total  Size=      34927 bytes  File Size  =       6070 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.66     *
*............................................................................*
*Br  104 :TriggerMenuAux.sequenceAlgorithms :                                *
*         | vector<vector<vector<string> > >                                 *
*Entries :        1 : Total  Size=     166310 bytes  File Size  =       7847 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  21.12     *
*............................................................................*
*Br  105 :TriggerMenuAux.bunchGroupBunches :                                 *
*         | vector<vector<vector<unsigned short> > >                         *
*Entries :        1 : Total  Size=        785 bytes  File Size  =        147 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.35     *
*............................................................................*
*Br  106 :CutBookkeepers : xAOD::CutBookkeeperContainer_v1                   *
*Entries :        1 : Total  Size=        627 bytes  File Size  =        113 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  107 :FileBookkeepers : xAOD::CutBookkeeperContainer_v1                  *
*Entries :        1 : Total  Size=        632 bytes  File Size  =        114 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  108 :IncompleteCutBookkeepers : xAOD::CutBookkeeperContainer_v1         *
*Entries :        1 : Total  Size=        677 bytes  File Size  =        123 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  109 :IncompleteFileBookkeepers : xAOD::CutBookkeeperContainer_v1        *
*Entries :        1 : Total  Size=        682 bytes  File Size  =        124 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.00     *
*............................................................................*
*Br  110 :_GLOBAL_BField_Maps : IOVMetaDataContainer_p1                      *
*Entries :        1 : Total  Size=       1908 bytes  File Size  =        579 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.37     *
*............................................................................*
*Br  111 :_LAR_LArAffectedRegionInfo : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=      25603 bytes  File Size  =       5830 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   4.30     *
*............................................................................*
*Br  112 :_Simulation_Parameters : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=       3377 bytes  File Size  =       1690 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.68     *
*............................................................................*
*Br  113 :_TRIGGER_HLT_HltConfigKeys : IOVMetaDataContainer_p1               *
*Entries :        1 : Total  Size=       1277 bytes  File Size  =        467 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.53     *
*............................................................................*
*Br  114 :_TRIGGER_HLT_Menu : IOVMetaDataContainer_p1                        *
*Entries :        1 : Total  Size=     701924 bytes  File Size  =      65499 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.71     *
*............................................................................*
*Br  115 :_TRIGGER_HLT_PrescaleKey : IOVMetaDataContainer_p1                 *
*Entries :        1 : Total  Size=       1170 bytes  File Size  =        385 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.60     *
*............................................................................*
*Br  116 :_TRIGGER_HLT_Prescales : IOVMetaDataContainer_p1                   *
*Entries :        1 : Total  Size=     105779 bytes  File Size  =      18328 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.74     *
*............................................................................*
*Br  117 :_TRIGGER_LVL1_BunchGroupKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1204 bytes  File Size  =        407 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.57     *
*............................................................................*
*Br  118 :_TRIGGER_LVL1_ItemDef : IOVMetaDataContainer_p1                    *
*Entries :        1 : Total  Size=      45768 bytes  File Size  =       7539 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   6.00     *
*............................................................................*
*Br  119 :_TRIGGER_LVL1_Lvl1ConfigKey : IOVMetaDataContainer_p1              *
*Entries :        1 : Total  Size=       1276 bytes  File Size  =        433 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   1.64     *
*............................................................................*
*Br  120 :_TRIGGER_LVL1_Menu : IOVMetaDataContainer_p1                       *
*Entries :        1 : Total  Size=      29927 bytes  File Size  =       5697 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   5.16     *
*............................................................................*
*Br  121 :_TRIGGER_LVL1_Prescales : IOVMetaDataContainer_p1                  *
*Entries :        1 : Total  Size=      49275 bytes  File Size  =       4723 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=  10.32     *
*............................................................................*
*Br  122 :_TagInfo  : IOVMetaDataContainer_p1                                *
*Entries :        1 : Total  Size=       5739 bytes  File Size  =       2216 *
*Baskets :        1 : Basket Size=      32000 bytes  Compression=   2.37     *
*............................................................................*
*Br  123 :CutBookkeepersAuxDyn.sumOfTruncatedEventWeights : vector<double>   *
*Entries :        1 : Total  Size=        802 bytes  File Size  =        156 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  124 :CutBookkeepersAuxDyn.sumOfTruncatedEventWeightsSquared :           *
*         | vector<double>                                                   *
*Entries :        1 : Total  Size=        837 bytes  File Size  =        163 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  125 :FileMetaDataAuxDyn.amiTag : string                                 *
*Entries :        1 : Total  Size=        667 bytes  File Size  =        109 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  126 :FileMetaDataAuxDyn.geometryVersion : string                        *
*Entries :        1 : Total  Size=        734 bytes  File Size  =        140 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  127 :FileMetaDataAuxDyn.conditionsTag : string                          *
*Entries :        1 : Total  Size=        723 bytes  File Size  =        137 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  128 :FileMetaDataAuxDyn.beamEnergy : beamEnergy/F                       *
*Entries :        1 : Total  Size=        617 bytes  File Size  =        104 *
*Baskets :        1 : Basket Size=       2048 bytes  Compression=   1.00     *
*............................................................................*
*Br  129 :FileMetaDataAuxDyn.beamType : string                               *
*Entries :        1 : Total  Size=        687 bytes  File Size  =        121 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  130 :FileMetaDataAuxDyn.mcProcID : mcProcID/F                           *
*Entries :        1 : Total  Size=        607 bytes  File Size  =        102 *
*Baskets :        1 : Basket Size=       2048 bytes  Compression=   1.00     *
*............................................................................*

std::string productionRelease;
std::string amiTag;
std::string AODFixVersion;
std::string AODCalibVersion;
std::string dataType;
std::string geometryVersion;
std::string conditionsTag;
std::string beamType;
float beamEnergy;
float mcProcID;

fmd->value(xAOD::FileMetaData::MetaDataType::productionRelease, productionRelease);
std::cout << "SUPERHERE, productionRelease: " << productionRelease <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::amiTag, amiTag);
std::cout << "SUPERHERE, amiTag: " << amiTag <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::AODFixVersion, AODFixVersion);
std::cout << "SUPERHERE, AODFixVersion: " << AODFixVersion <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::AODCalibVersion, AODCalibVersion);
std::cout << "SUPERHERE, AODCalibVersion: " << AODCalibVersion <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::geometryVersion, geometryVersion);
std::cout << "SUPERHERE, geometryVersion: " << geometryVersion <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::conditionsTag, conditionsTag);
std::cout << "SUPERHERE, conditionsTag: " << conditionsTag <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::beamType, beamType);
std::cout << "SUPERHERE, beamType: " << beamType <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::beamEnergy, beamEnergy);
std::cout << "SUPERHERE, beamEnergy: " << beamEnergy <<  std::endl;

fmd->value(xAOD::FileMetaData::MetaDataType::mcProcID, mcProcID);
std::cout << "SUPERHERE, mcProcID: " << mcProcID <<  std::endl;


22:37:49 SUPERHERE, IsOverlay before: 0
22:37:49 SUPERHERE, productionRelease: Athena-21.0.103
22:37:49 SUPERHERE, amiTag:
22:37:49 SUPERHERE, AODFixVersion:
22:37:49 SUPERHERE, AODCalibVersion:
22:37:49 SUPERHERE, geometryVersion: ATLAS-R2-2016-01-00-01
22:37:49 SUPERHERE, conditionsTag: CONDBR2-BLKPA-2018-14
22:37:49 SUPERHERE, beamType: collisions
22:37:49 SUPERHERE, beamEnergy: 4080000.0000
22:37:49 SUPERHERE, mcProcID: 361107.0000
22:37:49 SUPERHERE, simFlavour:
22:37:49 SUPERHERE, IsOverlay: 0
22:37:49 SUPERHERE, datatype: StreamDAOD_MUON1

22:40:52 SUPERHERE, IsOverlay before: 0
22:40:52 SUPERHERE, productionRelease: Athena-21.0.103
22:40:52 SUPERHERE, amiTag:
22:40:52 SUPERHERE, AODFixVersion:
22:40:52 SUPERHERE, AODCalibVersion:
22:40:52 SUPERHERE, geometryVersion: ATLAS-R2-2016-01-00-01
22:40:52 SUPERHERE, conditionsTag: OFLCOND-MC15c-SDR-15
22:40:52 SUPERHERE, beamType: collisions
22:40:52 SUPERHERE, beamEnergy: 4080000.0000
22:40:52 SUPERHERE, mcProcID: 361107.0000
22:40:52 SUPERHERE, simFlavour: FullG4
22:40:52 SUPERHERE, IsOverlay: 0
22:40:52 SUPERHERE, datatype: StreamDAOD_MUON1




*Br  170 :FileMetaDataAuxDyn.amiTag : string                                 *
*Entries :        1 : Total  Size=        667 bytes  File Size  =        109 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  171 :FileMetaDataAuxDyn.geometryVersion : string                        *
*Entries :        1 : Total  Size=        734 bytes  File Size  =        140 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  172 :FileMetaDataAuxDyn.conditionsTag : string                          *
*Entries :        1 : Total  Size=        722 bytes  File Size  =        136 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  173 :FileMetaDataAuxDyn.beamEnergy : beamEnergy/F                       *
*Entries :        1 : Total  Size=        617 bytes  File Size  =        104 *
*Baskets :        1 : Basket Size=       2048 bytes  Compression=   1.00     *
*............................................................................*
*Br  174 :FileMetaDataAuxDyn.beamType : string                               *
*Entries :        1 : Total  Size=        687 bytes  File Size  =        121 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  175 :FileMetaDataAuxDyn.simFlavour : string                             *
*Entries :        1 : Total  Size=        693 bytes  File Size  =        119 *
*Baskets :        1 : Basket Size=       8192 bytes  Compression=   1.00     *
*............................................................................*
*Br  176 :FileMetaDataAuxDyn.mcProcID : mcProcID/F                           *
*Entries :        1 : Total  Size=        607 bytes  File Size  =        102 *
*Baskets :        1 : Basket Size=       2048 bytes  Compression=   1.00     *
*............................................................................*

#########################################################################################################################################################
#########################################################################################################################################################
#########################################################################################################################################################

MetaData Are created here:
athena_21.2/PhysicsAnalysis/DerivationFramework/DerivationFrameworkEGamma/python/EGammaCommon.py#L32

isMC = 'IS_SIMULATION' in af.fileinfos['evt_type']
>>>>>>>>>>
isMC = 'IS_SIMULATION' in af.fileinfos['evt_type'] or (str(af.fileinfos['metadata']['/Simulation/Parameters']['IsEventOverlayInputSim']) == "True"))

athena_21.2/​Event/​xAOD/​xAODMetaDataCnv/​src/​FileMetaDataCreatorTool.cxx#L258

bool isDataOverlay = (*simInfo)[ "IsEventOverlayInputSim" ].data< std::string >()=="True";
>>>>>>>>>>
bool isDataOverlay = ((*simInfo)[ "IsEventOverlayInputSim" ].data< std::string >() == "True") ? true : false;

athena_21.2/Reconstruction/RecExample/RecExConfig/python/AutoConfiguration.py# many lines regarding IS_DATA and IS_SIMULATION

inputFileSummary['evt_type'][0]=='IS_SIMULATION'
>>>>>>>>>>
inputFileSummary['evt_type'][0]=='IS_SIMULATION' or (str(inputFileSummary['metadata']['/Simulation/Parameters']['IsEventOverlayInputSim']) == "True"):

../MuonPerformanceAnalysis/athena_21.2/Reconstruction/AODFix/python/AODFix.py#L80

IS_SIMULATION >>>>>> IS_SIMULATION or OVERLAY

another sensitive condition: globalflags.DataSource()== , e.g. globalflags.DataSource()=='data'

../MuonPerformanceAnalysis/athena_21.2/Reconstruction/RecExample/RecExCond/share/RecExCommon_flags.py../MuonPerformanceAnalysis/athena_21.2/Reconstruction/RecExample/RecExCond/share/RecExCommon_flags.py#L597

CUITIAL CHANGE, maybe only one
../MuonPerformanceAnalysis/athena_21.2/Reconstruction/RecExample/RecExConfig/python/InputFilePeeker.py#L217

../MuonPerformanceAnalysis/athena_21.2/Database/IOVDbSvc/python/CondDB.py - thinking
../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/​JetTagging/​JetTagCalibration/​share/​BTagCalibrationBroker_AODFix_jobOptions.py - thinkong

isMC = true

??../MuonPerformanceAnalysis/athena_21.2/Database/IOVDbSvc/python/CondDB.py#L155 due to FATAL 
??
??< IOVDbSvc  L861                                           INFO Ignoring inputfile TagInfo request for tag BTagCalibRUN12Onl-08-18 in folder /GLOBAL/Onl/BTagCalib/RUN12 in favour of jobOption tag B
??---
??> IOVDbSvc  L518                                          FATAL Likely incorrect conditions DB configuration! Attached to database instance OFLP200 but global tag begins CONDBR2
??> IOVDbSvc  L522                                          FATAL See Atlas/CoolTroubles wiki for details, or set IOVDbSvc.DBInstance="" to disable check
??5194,6577c5123,5208
??< IOVDbSvc                                             INFO Opening COOL connection for COOLOFL_DCS/CONDBR2
??
??self.iovdbsvc.DBInstance=self.dbname 
??>>>>>>>>>>>>>>>
??self.iovdbsvc.DBInstance=""


#########################################################################################################################################################
#########################################################################################################################################################
#########################################################################################################################################################


trying btag as in simulation:
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 

OVERLAY:
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 
SIGNAL:
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile SIGNAL_SAMPLE_group.phys-hi.19601830.EXT2._000080.AOD.pool.root --outputDAODFile="DAOD_test_signal.root" --reductionConf MUON1 



13:04:17 IOVDbSvc                                             INFO Global tag: OFLCOND-MC15c-SDR-15 set from joboptions
12:58:52 IOVDbSvc                                             INFO Global tag: CONDBR2-BLKPA-2018-14 set from joboptions

zkusit zmenit natvrdo: 
athena_21.2/Reconstruction/RecExample/RecExConfig/python/AutoConfiguration.py#L744


12:58:07 Py:AutoConfiguration                                 INFO Auto-configured ConditionsTag 'CONDBR2-BLKPA-2018-14' from inputFileSummary

fitr->second->folderName() nikdy neni Simulation/Parameters

[pebaron@lxplus755 run]$ less log.AODtoDAOD | grep "connections and"
07:40:01 IOVDbSvc                                             INFO Initialised with 12 connections and 71 folders
[pebaron@lxplus755 run]$ less log.AODtoDAOD_over | grep "connections and"
07:31:17 IOVDbSvc                                             INFO Initialised with 12 connections and 70 folders

packeges udes by DerivationFramework search for IS_DATA, IS_SIMULATION, globalflags.DataSource()==, isSimulation, DataSource

from AthenaCommon.AppMgr import ToolSvc
from AthenaCommon.AppMgr import theApp
from DerivationFrameworkCore.DerivationFrameworkProdFlags import derivationFlags
from OutputStreamAthenaPool.MultipleStreamManager import MSMgr
from AthenaCommon.JobProperties import jobproperties
from AthenaCommon import CfgMgr 
from AthenaCommon.AlgSequence import AlgSequence 
from JetRec.JetRecFlags import jetFlags 
from AthenaCommon.GlobalFlags  import globalflags
from AthenaCommon.AppMgr import ServiceMgr as svcMgr
from AODFix.AODFix import *
from RecExConfig.InputFilePeeker import inputFileSummary
from RecExConfig.ObjKeyStore import objKeyStore

Control/AthenaCommon/ AppMgr
Control/AthenaCommon/ JobProperties
Control/AthenaCommon/ CfgMgr
Control/AthenaCommon/ AlgSequence
Control/AthenaCommon/ GlobalFlags
Control/AthenaCommon/ ServiceMgr
PhysicsAnalysis/DerivationFramework/ DerivationFrameworkCore.DerivationFrameworkProdFlags import derivationFlags

from OutputStreamAthenaPool.MultipleStreamManager import MSMgr
from JetRec.JetRecFlags import jetFlags 
from AODFix.AODFix import *
from RecExConfig.InputFilePeeker import inputFileSummary
from RecExConfig.ObjKeyStore import objKeyStore



PhysicsAnalysis/DerivationFramework/ DerivationFrameworkProdFlags
maybe:
athena/Trigger/TrigConfiguration/TrigConfigSvc/python/TriggerConfig.py#L214

AthenaCommon/Preparation.py
AthenaCommon/Bootstrap.py
AthenaCommon/Atlas.UnixStandardJob.py
AthenaCommon/Execution.py
runargs.AODtoDAOD.py
PATJobTransforms/skeleton.AODtoDAOD_tf.py
RecJobTransforms/CommonRecoSkeletonJobOptions.py
RecExCommon/RecoUsefulFlags.py
MuonPerformanceAlgs/BTaggingPreInclude.py
RecExCommon/RecExCommon_topOptions.py
RecExCond/RecExCommon_flags.py
RecExConfig/AutoConfigConsistencyCheck.py
RecExCond/RecExCommon_DetFlags.py
RecExCond/RecExCommon_GlobalFlags.py
RecExCond/AllDet_detDescr.py
IdDictDetDescrCnv/IdDictDetDescrCnv_joboptions.py
TileConditions/TileConditions_jobOptions.py
CaloIdCnv/CaloIdCnv_joboptions.py
CaloConditions/CaloConditions_jobOptions.py
CaloConditions/LArTTCellMap_ATLAS_jobOptions.py
CaloConditions/CaloTTIdMap_ATLAS_jobOptions.py
TileIdCnv/TileIdCnv_jobOptions.py
LArDetDescr/LArDetDescr_joboptions.py
LArConditionsCommon/LArConditionsCommon_MC_jobOptions.py
LArConditionsCommon/LArIdMap_MC_jobOptions.py
InDetBeamSpotService/BeamCondSvc.py
AmdcAth/AmdcAth_jobOptions.py
PartPropSvc/PartPropSvc.py
RecExPers/RecoOutputMetadataList_jobOptions.py
McParticleAlgs/TruthParticleBuilder_jobOptions.py
TrigTier0/TriggerConfigCheckMetadata.py
RecExCommon/SystemRec_config.py
CaloRec/CaloRec_jobOptions.py
InDetRecExample/InDetRec_jobOptions.py
InDetRecExample/InDetRecConditionsAccess.py
InDetRecExample/InDetRecLoadTools.py
InDetRecExample/InDetRecCabling.py
InDetRecExample/InDetRecPreProcessingSilicon.py
InDetRecExample/ConfiguredInDetPreProcessingTRT.py
InDetRecExample/ConfiguredNewTrackingSiPattern.py
InDetRecExample/InDetxAODCreator.py
InDetRecExample/InDetRecPostProcessing.py
InDetRecExample/ConfiguredPriVtxAndPartCreation.py
FTK_RecExample/FTKRec_jobOptions.py
MuonRecExample/MuonRec_jobOptions.py
ForwardRec/ForwardRec_jobOptions.py
ForwardRec/LUCID_Rec_jobOptions.py
BTagging/BTagCalibBroker_AODFix_jobOptions.py
JetTagCalibration/BTagCalibrationBroker_AODFix_jobOptions.py
RecExCommon/CombinedRec_config.py
egammaRec/egammaRec_jobOptions.py
MuonCombinedRecExample/MuonCombinedRec_config.py
MuonCombinedRecExample/MuonCombinedRec_preprocessing.py
MuonCombinedRecExample/MuonCombinedRec_identification.py
MuonCombinedRecExample/MuonCombinedRec_postprocessing.py
MuonCombinedRecExample/MuonAODto_xAODCnv_jobOptions.py
CaloRingerAlgs/CaloRinger_jobOptions.py
AODSelect/AODSelect_setupOptions.py
PyAnalysisCore/InitPyAnalysisCore.py
AthenaServices/ReadAthenaPoolSeek_jobOptions.py
AthenaPoolCnvSvc/ReadAthenaPool_jobOptions.py
PyKernel/InitPyKernel.py
DerivationFrameworkMuons/MUON1.py
JpsiUpsilonTools/configureServices.py
BTagging/BTagCalibBroker_jobOptions.py
JetTagCalibration/BTagCalibrationBroker_jobOptions.py
AODSelect/AODSelect_mainOptions.py
RecExCommon/RecoUtils.py
PerfMonComps/PerfMonSvc_jobOptions.py
RecExCommon/PrintRecoSummary.py
AthenaCommon/runbatch.py
AthenaCommon/Preparation.py
AthenaCommon/Bootstrap.py
AthenaCommon/Atlas.UnixStandardJob.py
AthenaCommon/Execution.py
AthenaCommon/runbatch.py


problem is in project name, 
I have editted temporarly 
../MuonPerformanceAnalysis/athena_21.2/Database/IOVDbSvc/python/CondDB.py#L57,87 need to make it more clever, e-mail correspondance

trying to run:
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])' --postInclude 'EventOverlayJobTransforms/Rt_override_OFLCOND-MC16-SDR-27.py' --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 

cmake again , make -j , try postinclude

conddb.blockFolder("/CALO/Ofl/Identifier/CaloTTOnAttrIdMapAtlas")

ERROR Tag BTagCalibRUN12Onl-08-49 cannot be resolved for folder /GLOBAL/BTagCalib/RUN12
../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/​JetTagging/​JetTagCalibration/​share/​BTagCalibrationBroker_AODFix_jobOptions.py

NEW SETUP
asetup AthAnalysis,21.2,latest,here cmake error


NEW START

MuonPerformanceAnalysis_21.2.84_git
asetup AthDerivation,21.2.85.0,here
build2 updated athena
calibration: BTagCalibRUN12-08-47 ??? not using
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])' --postInclude 'EventOverlayJobTransforms/Rt_override_OFLCOND-MC16-SDR-27.py' --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 

upravy:

**************************************************

InputFilePeeker.py
CondDBConfig.py
Rt_override_OFLCOND-MC16-SDR-27.py
AutoConfiguration.py L77 editted
MUON1.py 262 - 272
21.2/​athena/​TileCalorimeter/​TileConditions/​python/​TileCondToolConf.py L412 hrani si

../MuonPerformanceAnalysis/athena_21.2/Trigger/TriggerCommon/TriggerJobOpts/python/HLTTriggerResultGetter.py


*************************************************
set to Ignoring errors, test
L1TopoMenuLoader.cxx
athena/Trigger/TrigConfiguration/TrigConfigSvc/src/DSConfigSvc.cxx
../MuonPerformanceAnalysis/athena_21.2/Trigger/TrigConfiguration/TrigConfStorage/src/L1TopoMenuLoader.cxx


zkousel, ale nakonec nezmenil:
../MuonPerformanceAnalysis/athena_21.2/Trigger/TrigConfiguration/TrigConfStorage/src/L1TopoMenuLoader.cxx L30-33
​athena/​Trigger/​TrigConfiguration/​TrigConfStorage/​src/​HLTFrameLoader.cxx L 66 -68


athena_21.2/Trigger/TriggerCommon/TriggerJobOpts/python/TriggerFlags.py L35 StoredValue=True -> StoredValue=False

This works for signal:

Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])' --inputAODFile SIGNAL_SAMPLE_group.phys-hi.19601830.EXT2._000080.AOD.pool.root --outputDAODFile="DAOD_test_signal.root" --reductionConf MUON1 


Running as data:
log to campare

now MUON1 is empty, test its effect !!!!

ERROR Tag BTagCalibRUN12-08-47 cannot be resolved for folder /GLOBAL/Onl/BTagCalib/RUN12
ERROR Cache load (prefetch) failed for folder /GLOBAL/Onl/BTagCalib/RUN12
ERROR Cache load failed for folder /GLOBAL/Onl/BTagCalib/RUN12

13:44:42 IOVDbSvc                                            FATAL Conditions database connection COOLOFL_MUONALIGN/auto cannot be opened - STOP
13:44:42 GeoModelSvc                                         FATAL DetectorStore service not found!
13:44:42  GeoModelSvc                 |   FATAL |        1
13:44:42  IOVDbSvc                    |   FATAL |        1
[pebaron@lxplus707 run]$ less log.AODtoDAOD | grep ERROR
13:44:42 IOVDbSvc                                            ERROR *** COOL  exception caught: Invalid COOL database name 'auto': the database name must be UPPERCASE
13:44:42 IOVDbSvc                                            ERROR Could not create a new conditions database - abort connection
13:44:42 IOVDbSvc                                            ERROR preLoadFolder failed for folder /MUONALIGN/MDT/BARREL
13:44:42 ServiceManager                                      ERROR Unable to initialize service "DetectorStore"
13:44:42 GeoModelSvc                                         ERROR ServiceLocatorHelper::service: can not locate service DetectorStore
13:44:42 ServiceManager                                      ERROR Unable to initialize Service: GeoModelSvc
13:44:42  GeoModelSvc                 |   ERROR |        1
13:44:42  IOVDbSvc                    |   ERROR |        3
13:44:42  ServiceManager              |   ERROR |        2


Napady: 

v btag.py
v unkown unknown v fileppeker
upravit postinclude, nechat jet nezbytne


Reco_tf.py --preInclude' 'MuonPerformanceAlgs/BTaggingPreInclude.py' '--preExec=from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12-08-47\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])' '--postInclude' 'EventOverlayJobTransforms/Rt_override_OFLCOND-MC16-SDR-27.py' '--inputAODFile' 'group.phys-hi.20060275.EXT3._000003.AOD.pool.root' '--outputDAODFile=DAOD_test' '--reductionConf' 'MUON1'",

Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-06"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --postInclude 'EventOverlayJobTransforms/Rt_override_OFLCOND-MC16-SDR-27.py' --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 


AODtoDAOD 09:57:53 Py:Athena            INFO including file "LArConditionsCommon/LArConditionsCommon_MC_jobOptions.py"
AODtoDAOD 09:57:54 Py:JobPropertyContainer::    INFO  use global tag for all LArElecCalibMC constants
AODtoDAOD 09:57:54 Py:Athena            INFO including file "LArConditionsCommon/LArIdMap_MC_jobOptions.py"
less ../MuonPerformanceAnalysis/athena_21.2/LArCalorimeter/LArAlignment/LArAlignmentAlgs/src/LArAlignDbAlg.cxx 
../MuonPerformanceAnalysis/athena_21.2/LArCalorimeter/LArExample/LArConditionsCommon/share/LArConditionsCommon_MC_jobOptions.py

../MuonPerformanceAnalysis/athena_21.2/DetectorDescription/IdDictDetDescrCnv/share/IdDictDetDescrCnv_joboptions.py

last running command:
Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-06"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --postInclude 'EventOverlayJobTransforms/Rt_override_OFLCOND-MC16-SDR-27.py' --inputAODFile group.phys-hi.20060275.EXT3._000003.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 10


17:40:22 Py:AthFile           INFO loading cache from [athfile-cache.ascii.gz]...
17:40:23 ('SUPERHERE1', 'IS_DATA')
17:40:23 ('SUPERHERE1', 'IS_SIMULATION')
17:40:23 ('SUPERHERE1', 'IS_SIMULATION')
17:40:23 ('SUPERHERE1', 'IS_SIMULATION')
17:40:23 ('SUPERHERE1', 'IS_DATA')
17:40:23 Py:AthFile           INFO loading cache from [athfile-cache.ascii.gz]... [done]
17:40:24 ('SUPERHERE1', 'IS_SIMULATION')
17:40:24 ('SUPERHERE1', 'IS_SIMULATION')
17:40:24 Py:Athena            INFO including file "RecExCond/RecExCommon_flags.py"
17:40:24 Py:AutoConfiguration    INFO Auto-configuration key 'everything' requested. All default keys will be used.
17:40:24 Py:AutoConfiguration    INFO Auto-configuration will procede according to the following keys:
17:40:24 Py:AutoConfiguration    INFO set(['DoTruth', 'ConditionsTag', 'BeamType', 'TriggerStream', 'ProjectName', 'BeamEnergy', 'FieldAndGeo', 'RealOrSim', 'LumiFlags', 'InputType'])
17:40:25 Py:inputFilePeeker    INFO Executing   inputFilePeeker.py
17:40:26 ('SUPERHERE1', 'IS_DATA')
17:40:26 ('SUPERHERE1', 'IS_SIMULATION')
17:40:26 ('SUPERHERE1', 'IS_SIMULATION')
17:40:26 ('SUPERHERE1', 'IS_SIMULATION')
17:40:26 ('SUPERHERE1', 'IS_DATA')
17:40:26 Py:inputFilePeeker    INFO Successfully filled inputFileSummary from file group.phys-hi.20060275.EXT3._000003.AOD.pool.root

RecExCond/RecExCommon_flags.py
AutoConfiguration
inputFilePeeker 

../MuonPerformanceAnalysis/athena_21.2/Tools/PyUtils/python/AthFile/impl.py

STARTING FRON SCRATCH, try to use signal cache.
proxyon
setupATLAS
lsetup git
mkdir aMuonPerformanceAnalysis_21.2.89
cd aMuonPerformanceAnalysis_21.2.89
git clone --recursive https://gitlab.cern.ch/atlas-mcp/MuonPerformanceAnalysis.git


farma:

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile ntuples_MCTPT.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root --extOutFile DAOD_MUON1.grp16_v01_p3903_ntuples_MCTPT.root



[] /mnt/nfs19/pebaron/Muon_tar_download/run/$

Generated DAODs by me:

OVERLAY:
pathena --useNewTRF --trf "Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3 --outDS user.pebaron.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3_MUON_DAOD_10k_test_v4.root 


OVERLAY tagged as IS_DATA produced locally:

Reco_tf.py --preInclude 'MuonPerformanceAlgs/BTaggingPreInclude.py' --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile /mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3/*.root --outputDAODFile="DAOD_all_test10k.root" --reductionConf MUON1 

find package( AthAnalysisExternals REQUIRED )
find package( Xrootd )
find package( GSL )
find package( Davix )
find package( PNG )
find package( BLAS )
find package( VDT )

ERROR in the mail:
first setup rucio, then analysis base

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_2016_B_and_C_grp16_v01_p3903_withilumatic.root


in Prague farm:

Reco_tf.py  --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTagginFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequene(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AtiKt4EMTopoAux."])'  --inputAODFile ../../data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr2113_01f1_EXT2/* --outputDAODFile="DAOD_all_signal.root" --reductionConf MUON1 

​PhysicsAnalysis/​MuonID/​MuonIDAnalysis/​MuonMomentumCorrections

Reco_tf.py --inputAODFile --outputNTUP_MCPTPFile overlay_ntuples.root 

SIGANL with master branch:
Reco_tf.py  --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile ../data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/* --outputDAODFile="DAOD_all_signal.root" --reductionConf MUON1 


histos: 
##################################
Running reconstruction efficiency:

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_2016_B_and_C_grp16_v01_p3903.root 
WriteTagProbeHistos -i MC_overlay_10k.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k.root 

python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./plots --noSyst --noDDBkg --noIDCorr -a ZmumuTPReco -w

##################################
Running iso efficienciy:

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_2016_B_and_C_grp16_v01_p3903_iso.root 
WriteTagProbeHistos -i MC_overlay_10k.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_iso.root 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb_iso.py -o ./plots --noSyst --noDDBkg --noIDCorr -a ZmumuTPReco -w

##################################
Running Trigger efficiency:

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_2016_B_and_C_grp16_v01_p3903_trig.root 
WriteTagProbeHistos -i MC_overlay_10k.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trig.root 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb_trig.py -o ./plots_trig --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigpPb_trig.py -o ./plots_trig --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w


running triger fixed samples:

pPb:
Reco_tf.py --inputAODFile ../../data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/* --outputNTUP_MCPTPFile overlay_05_EXT3_all_ntuples.root 

PbP:
Reco_tf.py --inputAODFile ../../data/group.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/* --outputNTUP_MCPTPFile overlay_05_EXT3_all_ntuples_Pbp.root 


All now:
WriteTagProbeHistos -i MC_overlay_10k_trigger_fix_pPb.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trigger_fix_pPb.root
WriteTagProbeHistos -i MC_overlay_10k_trigger_fix_Pbp.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trigger_fix_Pbp.root
WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o data_2016_B_and_C_grp16_v01_p3903_trig.root 

#!bin/bash
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./eff_reco_pPb_MC --noSyst --noDDBkg --noIDCorr -a ZmumuTPReco -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./eff_iso_pPb_MC  --noSyst --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb.py -o ./eff_trig_pPb_MC --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigpPb.py -o ./probe_reco_pPb_MC --noSyst --noDDBkg --noIDCorr -a ZmumuTPReco -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigpPb.py -o ./probe_iso_pPb_MC  --noSyst --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigpPb.py -o ./probe_trig_pPb_MC --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w

Pbp:

WriteTagProbeHistos -i MC_overlay_10k_trigger_fix_Pbp.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trigger_fix_Pbp.root


data used:

Rel 21 processed pPb data (physics_Main AODs)

data16_hip8TeV.periodB.physics_Main.PhysCont.AOD.pro23_v02
data16_hip8TeV.periodC.physics_Main.PhysCont.AOD.pro23_v02  
data16_hip8TeV.periodAllYear.physics_Main.PhysCont.AOD.pro23_v02
group.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3
group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3


pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3 --outDS user.pebaron.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3_MUON_DAOD_10k_test_v4.root 


pPb pathena ntuples localy:
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\' --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT" --inDS group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3 --outDS user.pebaron.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3_ntuples_MCTPT_v0.root --extOutFile user.pebaron.group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3_ntuples_MCTPT_v0_extOutFile.root

python ../source/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigpPb_trig.py -o ./plots_trig --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w
python ../source/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigpPb_trig.py -o ./plots_trig --noSyst --noDDBkg --noIDCorr -a ZmumuTPTrig -w


updated plots,
trying Tatyna with new samples:
Reco_tf.py --inputAODFile=/mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/group.phys-hi.21079217.EXT3._000001.AOD.pool.root --outputNTUP_MCPTPFile ntuples.root

that worked:
Reco_tf.py --inputAODFile=/mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/* --outputNTUP_MCPTPFile ntuples_pPb_trig_fix.root


group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3
group.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3


//################################################################
from DerivationFrameworkHI.HISkimmingTools import *
from DerivationFrameworkHI.HIDerivationFlags import HIDerivationFlags

GetConditionsFromMetaData()

HIDerivationFlags.isSimulation() ----> True
//################################################################



trying Prabis fix in muon1.py

Reco_tf.py  --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTagginFlags.CalibrationTag = "BTagCalibRUN12-08-47"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequene(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AtiKt4EMTopoAux."])'  --inputAODFile ../../data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr2113_01f1_EXT2/* --outputDAODFile="DAOD_all_signal.root" --reductionConf MUON1 
ERROR BTagging flag
Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTagginFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequene(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AtiKt4EMTopoAux."])' --inputAODFile=/mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/group.phys-hi.21079217.EXT3._000001.AOD.pool.root --outputDAODFile="DAOD_test_overlay_prabi_fix.root" --reductionConf MUON1 --maxEvents 100
ERROR BTagging flag does not exists

Reco_tf.py --inputAODFile=/mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/group.phys-hi.21079217.EXT3._000001.AOD.pool.root --outputDAODFile="DAOD_test_overlay_prabi_fix.root" --reductionConf MUON1 --maxEvents 100

using DAODs:

WriteTagProbeHistos -i MC_overlay_10k_trigger_fix_pPb_using_DAODs.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trigger_fix_pPb_using_DAODs.root
WriteTagProbeHistos -i MC_overlay_10k_trigger_fix_Pbp_using_DAODs.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_10k_trigger_fix_Pbp_using_DAODs.root

--preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg( "BTaggingFixer", Containers=["BTagging_AntiKt4HIAux.", "BTagging_AntiKt4EMTopoAux."])'


new instalation in CERN2020

I had to added in MuonPerformanceAnalysis/package_filters.txt 
+ athena_21.2/PhysicsAnalysis/DerivationFramework/DerivationFrameworkCore


./athena_21.2/Tools/PyUtils/bin/checkMetaSG.py -f /eos/atlas/user/i/igrabows/2016/mc/DAOD_HION6.ttbar-np-Sept17.pool.root


trying create daods without error
Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])' --inputAODFile /mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3/*.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100

Reco_tf.py --inputAODFile /mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21103_04_EXT3/*.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100

Reco_tf.py --inputAODFile /mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_sr21103_01f1_EXT2/group.phys-hi.19601830.EXT2._000001.AOD.pool.root --outputDAODFile="DAOD_test.root" --reductionConf MUON1 --maxEvents 100
 

errror message producing ntuples at the end, however successful run
AODtoDPD 14:19:46 CORAL/Services/ConnectionService Info Deleting the ConnectionPool
PyJobTransforms.trfExe.execute 2020-09-25 14:19:46,988 INFO AODtoDPD executor returns 0
PyJobTransforms.trfExe.validate 2020-09-25 14:19:47,933 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2020-09-25 14:19:47,937 INFO Metadata generator called to obtain nentries for ('ntuple_MUON1.DAOD_pPb_all_10k.root',)
PyJobTransforms.trfValidation.decide 2020-09-25 14:19:48,042 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2020-09-25 14:19:48,043 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2020-09-25 14:19:48,060 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfExe.validate 2020-09-25 14:19:48,649 ERROR Fatal error in athena logfile (level ERROR)
PyJobTransforms.transform.execute 2020-09-25 14:19:48,649 CRITICAL Transform executor raised TransformLogfileErrorException: Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "xAOD::FileMetaData_v1    ERROR No string accessor for type: xAOD::FileMetaData::isDataOverlay""
PyJobTransforms.transform.execute 2020-09-25 14:19:51,828 WARNING Transform now exiting early with exit code 68 (Fatal error in athena logfile: "Logfile error in log.AODtoDPD: "xAOD::FileMetaData_v1    ERROR No string accessor for type: xAOD::FileMetaData::isDataOverlay"")


change in ../../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPBranch.cxx

Musim opravit:
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/JetCalibrationSetup.py

testing:

Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --inputAODFile /mnt/nfs19/pebaron/data/group.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/*.root --outputNTUP_MCPTPFile ntuple_xAOD_Pbp_all_10k.root

PyJobTransforms.trfExe.execute 2020-10-02 08:58:57,750 INFO AODtoDPD executor returns 0
PyJobTransforms.trfExe.validate 2020-10-02 08:58:58,679 INFO Executor AODtoDPD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2020-10-02 08:58:58,684 INFO Metadata generator called to obtain nentries for ('ntuple_MUON1.DAOD_Pbp_all_10k_again.root',)
PyJobTransforms.trfValidation.decide 2020-10-02 08:58:58,891 WARNING File size metadata for NTUP_MCPTP was not countable, found "UNDEFINED". No event checks possible for this output data.
PyJobTransforms.trfExe.validate 2020-10-02 08:58:58,891 INFO Event counting for substep AODtoDPD passed
PyJobTransforms.trfExe.validate 2020-10-02 08:58:58,909 INFO Scanning logfile log.AODtoDPD for errors in substep a2d
PyJobTransforms.trfExe.validate 2020-10-02 08:58:59,615 INFO Executor AODtoDPD has validated successfully
PyJobTransforms.transform.validateOutFiles 2020-10-02 08:58:59,616 INFO Validating output files
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:58:59,616 INFO Starting legacy (serial) file validation
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:58:59,616 INFO Validating data type NTUP_MCPTP...
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:58:59,616 INFO Validating file ntuple_MUON1.DAOD_Pbp_all_10k_again.root...
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:58:59,616 INFO ntuple_MUON1.DAOD_Pbp_all_10k_again.root: Testing corruption...
PyJobTransforms.trfArgClasses._readMetadata 2020-10-02 08:58:59,616 INFO Metadata generator called to obtain integrity for ('ntuple_MUON1.DAOD_Pbp_all_10k_again.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,000 INFO Corruption test passed.
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,000 INFO ntuple_MUON1.DAOD_Pbp_all_10k_again.root: Testing event count...
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,001 INFO Event counting test passed (UNDEFINED events).
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,001 INFO ntuple_MUON1.DAOD_Pbp_all_10k_again.root: Checking if guid exists...
PyJobTransforms.trfArgClasses._readMetadata 2020-10-02 08:59:00,001 INFO Metadata generator called to obtain file_guid for ('ntuple_MUON1.DAOD_Pbp_all_10k_again.root',)
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,001 INFO Guid is 68BE726D-49C1-412E-B2FD-95009728FBB1
PyJobTransforms.trfValidation.performStandardFileValidation 2020-10-02 08:59:00,001 INFO Stopping legacy (serial) file validation
PyJobTransforms.main 2020-10-02 08:59:03,239 INFO /cvmfs/atlas-nightlies.cern.ch/repo/sw/21.2_AthDerivation_x86_64-centos7-gcc62-opt/2020-10-02T0020/AthDerivation/21.2.106.0/InstallArea/x86_64-centos7-gcc62-opt/share/Reco_tf.py stopped at Fri Oct  2 08:59:03 2020, trf exit code 0



investigate:
../MuonPerformanceAnalysis/MuonTPTools/Root/DiMuonTPSelectionTool.cxx

Re-run DAODs:

Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])' --inputAODFile /mnt/nfs19/pebaron/data/data16_hip8TeV.00313984.physics_Main.merge.AOD.r11416_p3868/*.root.1 --outputDAODFile="DAOD_Pbp_all_10k.root" --reductionConf MUON1 

Period B:
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.AOD.pro23_v02 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2
INFO : succeeded. new jediTaskID=22809464
Period C:
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.AOD.pro23_v02 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2
INFO : succeeded. new jediTaskID=22809466
AllYear:
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS data16_hip8TeV.periodAllYear.physics_Main.PhysCont.AOD.pro23_v02 --outDS user.pebaron.data16_hip8TeV.periodAllYear.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2
INFO : succeeded. new jediTaskID=22809484

-these failed


data16_hip8TeV.00314077.physics_MinBiasOverlay.merge.AOD.r11416_p3868

pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS  --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.AOD.pro23_v02 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2
pathena --useNewTRF --trf "Reco_tf.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS data16_hip8TeV.periodAllYear.physics_Main.PhysCont.AOD.pro23_v02 --outDS user.pebaron.data16_hip8TeV.periodAllYear.physics_Main.PhysCont.AOD.pro23_v02_MUON1_with_triggerstream2

editted:

nedd to do:
../MuonPerformanceAnalysis/MuonPerformanceAlgs/share/MuonTP_AnalysisAlgs.py:SetupJetCalibrations("PFlow")

Successfully adapted to no go for pflow jetFlags

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_no_pflow
INFO : succeeded. new jediTaskID=22830622
INFO : succeeded. new jediTaskID=22859161 - larger mass window

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_no_pflow
INFO : succeeded. new jediTaskID=22830648

- worked

create DAODs on MC samples
pathena --useNewTRF --trf "Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS /mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3 --outDS user.pebaron.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3_DAODs_MUON1_v2
INFO : succeeded. new jediTaskID=22833196
pathena --useNewTRF --trf "Reco_tf.py --preInclude MuonPerformanceAlgs/BTaggingPreInclude.py --preExec=\'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])\'  --inputAODFile=%IN --outputDAODFile %OUT.NTUP.root --reductionConf MUON1" --inDS /mnt/nfs19/pebaron/data/group.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3 --outDS user.pebaron.phys-hi.Pbp8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3_DAODs_MUON1_v2
INFO : succeeded. new jediTaskID=22833229

 ../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/EvtInfo.cxx
 ../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/CalibMuonsNtupleMaker.cxx

 create again for study purposes, large mass window

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_no_pflow_v2
INFO : succeeded. new jediTaskID=22859161 - larger mass window

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntuples_no_pflow_v2
INFO : succeeded. new jediTaskID=22859213 - larger mass window






AttrList


Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg( "BTaggingFixer", Containers=["BTagging_AntiKt4HIAux.", "BTagging_AntiKt4EMTopoAux."])' --inputAODFile=/mnt/nfs19/pebaron/data/group.phys-hi.pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu_o2016pPbTrig_rel21110dev_05_EXT3/group.phys-hi.21079217.EXT3._000001.AOD.pool.root --outputDAODFile DAODs_pPb_001.root --reductionConf MUON1 --maxEvents 10


../MuonPerformanceAnalysis/MuonPerformanceCore/Root/MuonAnalysisBranch.cxx
../MuonPerformanceAnalysis/MuonPerformanceAlgs/share/MuonResonance_topOptions.py


09:24:43 ('PB DEBUG0: ', 'ZmumuTPSelectionTool_OC_IDProbes')
09:24:43 ('PB DEBUG1: ', ['HLT_2mu6_bJpsimumu', 'HLT_2mu6_bJpsimumui_noL2', 'HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu14', 'HLT_mu14_ivarloose', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18_2mu0noL1_JpsimumuFS', 'HLT_mu18_2mu4noL1_JpsimumuL2', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_idperf', 'HLT_mu20_iloose_L1MU15', 'HLT_mu20_ivarloose_L1MU15', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu24', 'HLT_mu24_iloose', 'HLT_mu24_iloose_L1MU15', 'HLT_mu24_imedium', 'HLT_mu24_ivarloose', 'HLT_mu24_ivarloose_L1MU15', 'HLT_mu24_ivarmedium', 'HLT_mu26_imedium', 'HLT_mu26_ivarmedium', 'HLT_mu28_imedium', 'HLT_mu28_ivarmedium', 'HLT_mu4', 'HLT_mu40', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu4_mu4_idperf_bJpsimumu_noid', 'HLT_mu50', 'HLT_mu6', 'HLT_mu60', 'HLT_mu6_bJpsi_TrkPEB', 'HLT_mu6_bJpsi_Trkloose', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu6_mu4_bJpsimumu', 'HLT_mu6_mu4_bJpsimumu_noL2', 'HLT_mu8noL1', 'HLT_mu13_mu13_idperf_Zmumu', 'HLT_mu15', 'HLT_mu15_L1MU6', 'HLT_mu15_L1MU10', 'HLT_mu8_idperf', 'HLT_mu8', 'HLT_mu10_L1MU6', 'HLT_mu10_iloose', 'HLT_mu20_L1MU15', 'HLT_mu15_msonly'])
09:24:43 ('PB DEBUG2: ', False)

09:24:43 ('PB DEBUG0: ', 'ZmumuTPSelectionTool_SC_IDProbes')
09:24:43 ('PB DEBUG1: ', ['HLT_2mu6_bJpsimumu', 'HLT_2mu6_bJpsimumui_noL2', 'HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu14', 'HLT_mu14_ivarloose', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18_2mu0noL1_JpsimumuFS', 'HLT_mu18_2mu4noL1_JpsimumuL2', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_idperf', 'HLT_mu20_iloose_L1MU15', 'HLT_mu20_ivarloose_L1MU15', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu24', 'HLT_mu24_iloose', 'HLT_mu24_iloose_L1MU15', 'HLT_mu24_imedium', 'HLT_mu24_ivarloose', 'HLT_mu24_ivarloose_L1MU15', 'HLT_mu24_ivarmedium', 'HLT_mu26_imedium', 'HLT_mu26_ivarmedium', 'HLT_mu28_imedium', 'HLT_mu28_ivarmedium', 'HLT_mu4', 'HLT_mu40', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu4_mu4_idperf_bJpsimumu_noid', 'HLT_mu50', 'HLT_mu6', 'HLT_mu60', 'HLT_mu6_bJpsi_TrkPEB', 'HLT_mu6_bJpsi_Trkloose', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu6_mu4_bJpsimumu', 'HLT_mu6_mu4_bJpsimumu_noL2', 'HLT_mu8noL1', 'HLT_mu13_mu13_idperf_Zmumu', 'HLT_mu15', 'HLT_mu15_L1MU6', 'HLT_mu15_L1MU10', 'HLT_mu8_idperf', 'HLT_mu8', 'HLT_mu10_L1MU6', 'HLT_mu10_iloose', 'HLT_mu20_L1MU15', 'HLT_mu15_msonly'])
09:24:43 ('PB DEBUG2: ', False)

09:24:43 ('PB DEBUG0: ', 'ZmumuTPSelectionTool_OC_MuonProbes')
09:24:43 ('PB DEBUG1: ', ['HLT_2mu6_bJpsimumu', 'HLT_2mu6_bJpsimumui_noL2', 'HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu14', 'HLT_mu14_ivarloose', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18_2mu0noL1_JpsimumuFS', 'HLT_mu18_2mu4noL1_JpsimumuL2', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_idperf', 'HLT_mu20_iloose_L1MU15', 'HLT_mu20_ivarloose_L1MU15', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu24', 'HLT_mu24_iloose', 'HLT_mu24_iloose_L1MU15', 'HLT_mu24_imedium', 'HLT_mu24_ivarloose', 'HLT_mu24_ivarloose_L1MU15', 'HLT_mu24_ivarmedium', 'HLT_mu26_imedium', 'HLT_mu26_ivarmedium', 'HLT_mu28_imedium', 'HLT_mu28_ivarmedium', 'HLT_mu4', 'HLT_mu40', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu4_mu4_idperf_bJpsimumu_noid', 'HLT_mu50', 'HLT_mu6', 'HLT_mu60', 'HLT_mu6_bJpsi_TrkPEB', 'HLT_mu6_bJpsi_Trkloose', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu6_mu4_bJpsimumu', 'HLT_mu6_mu4_bJpsimumu_noL2', 'HLT_mu8noL1', 'HLT_mu13_mu13_idperf_Zmumu', 'HLT_mu15', 'HLT_mu15_L1MU6', 'HLT_mu15_L1MU10', 'HLT_mu8_idperf', 'HLT_mu8', 'HLT_mu10_L1MU6', 'HLT_mu10_iloose', 'HLT_mu20_L1MU15', 'HLT_mu15_msonly'])
09:24:43 ('PB DEBUG2: ', True)
09:24:43 ('PB DEBUG3: ', ['HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu10_nomucomb', 'HLT_mu14', 'HLT_mu14_nomucomb', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_L1MU15', 'HLT_mu20_idperf', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu22_mu8noL1', 'HLT_mu24', 'HLT_mu24_L1MU15', 'HLT_mu26', 'HLT_mu4', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu6', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu8'])
09:24:43 ('PB DEBUG3: ', [])
09:24:43 ('PB DEBUG4: ', [])
09:24:44 ('PB DEBUG5: ', ['HLT_2mu10', 'HLT_2mu10_nomucomb', 'HLT_2mu14', 'HLT_2mu14_nomucomb', 'HLT_2mu15', 'HLT_2mu15_nomucomb', 'HLT_mu18_mu8noL1', 'HLT_mu20_mu8noL1', 'HLT_mu22_mu8noL1', 'HLT_mu24_mu8noL1', 'HLT_mu26_mu8noL1', 'HLT_mu60_0eta105_msonly', 'HLT_mu20_mu8noL1_calotag_0eta010', 'HLT_mu22_mu8noL1_calotag_0eta010', 'HLT_mu24_mu8noL1_calotag_0eta010', 'HLT_mu26_mu8noL1_calotag_0eta010', 'HLT_mu28_mu8noL1_calotag_0eta010', 'HLT_mu24_mu10noL1_calotag_0eta010', 'HLT_mu26_mu10noL1_calotag_0eta010', 'HLT_mu24_2mu4noL1'])

09:24:44 ('PB DEBUG0: ', 'ZmumuTPSelectionTool_SC_MuonProbes')
09:24:44 ('PB DEBUG1: ', ['HLT_2mu6_bJpsimumu', 'HLT_2mu6_bJpsimumui_noL2', 'HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu14', 'HLT_mu14_ivarloose', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18_2mu0noL1_JpsimumuFS', 'HLT_mu18_2mu4noL1_JpsimumuL2', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_idperf', 'HLT_mu20_iloose_L1MU15', 'HLT_mu20_ivarloose_L1MU15', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu24', 'HLT_mu24_iloose', 'HLT_mu24_iloose_L1MU15', 'HLT_mu24_imedium', 'HLT_mu24_ivarloose', 'HLT_mu24_ivarloose_L1MU15', 'HLT_mu24_ivarmedium', 'HLT_mu26_imedium', 'HLT_mu26_ivarmedium', 'HLT_mu28_imedium', 'HLT_mu28_ivarmedium', 'HLT_mu4', 'HLT_mu40', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu4_mu4_idperf_bJpsimumu_noid', 'HLT_mu50', 'HLT_mu6', 'HLT_mu60', 'HLT_mu6_bJpsi_TrkPEB', 'HLT_mu6_bJpsi_Trkloose', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu6_mu4_bJpsimumu', 'HLT_mu6_mu4_bJpsimumu_noL2', 'HLT_mu8noL1', 'HLT_mu13_mu13_idperf_Zmumu', 'HLT_mu15', 'HLT_mu15_L1MU6', 'HLT_mu15_L1MU10', 'HLT_mu8_idperf', 'HLT_mu8', 'HLT_mu10_L1MU6', 'HLT_mu10_iloose', 'HLT_mu20_L1MU15', 'HLT_mu15_msonly'])
09:24:44 ('PB DEBUG2: ', True)
09:24:44 ('PB DEBUG3: ', ['HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu10_nomucomb', 'HLT_mu14', 'HLT_mu14_nomucomb', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_L1MU15', 'HLT_mu20_idperf', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu22_mu8noL1', 'HLT_mu24', 'HLT_mu24_L1MU15', 'HLT_mu26', 'HLT_mu4', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu6', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu8'])
09:24:44 ('PB DEBUG3: ', [])
09:24:44 ('PB DEBUG4: ', [])
09:24:44 ('PB DEBUG5: ', ['HLT_2mu10', 'HLT_2mu10_nomucomb', 'HLT_2mu14', 'HLT_2mu14_nomucomb', 'HLT_2mu15', 'HLT_2mu15_nomucomb', 'HLT_mu18_mu8noL1', 'HLT_mu20_mu8noL1', 'HLT_mu22_mu8noL1', 'HLT_mu24_mu8noL1', 'HLT_mu26_mu8noL1', 'HLT_mu60_0eta105_msonly', 'HLT_mu20_mu8noL1_calotag_0eta010', 'HLT_mu22_mu8noL1_calotag_0eta010', 'HLT_mu24_mu8noL1_calotag_0eta010', 'HLT_mu26_mu8noL1_calotag_0eta010', 'HLT_mu28_mu8noL1_calotag_0eta010', 'HLT_mu24_mu10noL1_calotag_0eta010', 'HLT_mu26_mu10noL1_calotag_0eta010', 'HLT_mu24_2mu4noL1'])

09:24:44 ('PB DEBUG0: ', 'TruthTPSelectionTool_OC_TruthProbes')
09:24:44 ('PB DEBUG1: ', ['HLT_2mu6_bJpsimumu', 'HLT_2mu6_bJpsimumui_noL2', 'HLT_mu10', 'HLT_mu10_idperf', 'HLT_mu10_msonly', 'HLT_mu14', 'HLT_mu14_ivarloose', 'HLT_mu15noL1', 'HLT_mu18', 'HLT_mu18_2mu0noL1_JpsimumuFS', 'HLT_mu18_2mu4noL1_JpsimumuL2', 'HLT_mu18noL1', 'HLT_mu20', 'HLT_mu20_idperf', 'HLT_mu20_iloose_L1MU15', 'HLT_mu20_ivarloose_L1MU15', 'HLT_mu20_msonly', 'HLT_mu22', 'HLT_mu24', 'HLT_mu24_iloose', 'HLT_mu24_iloose_L1MU15', 'HLT_mu24_imedium', 'HLT_mu24_ivarloose', 'HLT_mu24_ivarloose_L1MU15', 'HLT_mu24_ivarmedium', 'HLT_mu26_imedium', 'HLT_mu26_ivarmedium', 'HLT_mu28_imedium', 'HLT_mu28_ivarmedium', 'HLT_mu4', 'HLT_mu40', 'HLT_mu4_idperf', 'HLT_mu4_msonly', 'HLT_mu4_mu4_idperf_bJpsimumu_noid', 'HLT_mu50', 'HLT_mu6', 'HLT_mu60', 'HLT_mu6_bJpsi_TrkPEB', 'HLT_mu6_bJpsi_Trkloose', 'HLT_mu6_idperf', 'HLT_mu6_msonly', 'HLT_mu6_mu4_bJpsimumu', 'HLT_mu6_mu4_bJpsimumu_noL2', 'HLT_mu8noL1', 'HLT_mu13_mu13_idperf_Zmumu', 'HLT_mu15', 'HLT_mu15_L1MU6', 'HLT_mu15_L1MU10', 'HLT_mu8_idperf', 'HLT_mu8', 'HLT_mu10_L1MU6', 'HLT_mu10_iloose', 'HLT_mu20_L1MU15', 'HLT_mu15_msonly'])
09:24:44 ('PB DEBUG2: ', False)


        ### Heavy ion triggers
        "HLT_mu15",
        "HLT_mu15_L1MU6",
        "HLT_mu15_L1MU10",
        "HLT_mu8_idperf",
        "HLT_mu8",
        "HLT_mu10_L1MU6",
        "HLT_mu10_iloose",
        "HLT_mu20_L1MU15",
        "HLT_mu15_msonly",

["HLT_mu15", "HLT_mu15_L1MU6", "HLT_mu15_L1MU10", "HLT_mu8_idperf", "HLT_mu8", "HLT_mu10_L1MU6", "HLT_mu10_iloose", "HLT_mu20_L1MU15", "HLT_mu15_msonly"]


[] /mnt/nfs19/pebaron/muons_latest/runMC/$ #include <AsgTools/AsgTool.h>
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ #include <TrigDecisionTool/TrigDecisionTool.h>
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ #include <TrigMuonMatching/IMuonTPTrigUtils.h>
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ #include <TrigMuonMatching/ITrigMuonMatching.h>


../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTrigUtils.cxx L 81

../MuonPerformanceAnalysis/Trigger/TrigAnalysis/TrigMuonMatching/Root/TrigMuonMatching.cxx L71 isPassed


#include <TrigMuonMatching/TrigMuonMatching.h>
#include <xAODMuon/MuonContainer.h>
#include <xAODTrigMuon/L2CombinedMuonContainer.h>
#include <xAODTrigMuon/L2StandAloneMuonContainer.h>
#include <xAODTrigger/MuonRoIContainer.h>

#include <AsgTools/AsgMetadataTool.h>
#include <AsgTools/AsgTool.h>
#include <AsgTools/AsgToolsConf.h>
#include <AsgTools/ToolHandle.h>
#include <TrigDecisionTool/TrigDecisionTool.h>
#include <TrigMuonMatching/ITrigMuonMatching.h>

21.2/​athena/​Trigger/​TrigAnalysis/​TrigDecisionTool/​Root/​TrigDecisionTool.cxx L 282 isPassed
21.2/​athena/​Trigger/​TrigAnalysis/​TrigDecisionTool/​TrigDecisionTool/​TrigDecisionToolCore.h isPassed



21.2/​athena/​Trigger/​TrigAnalysis/​TrigDecisionTool/​Root/​DecisionAccess.cxx isPassed

../MuonPerformanceAnalysis/athena_21.2/​Trigger/​TrigAnalysis/​TrigDecisionTool/​Root/​DecisionAccess.cxx
here everything happens:

../MuonPerformanceAnalysis/athena_21.2/Trigger/TrigAnalysis/TrigDecisionTool/Root/ChainGroup.cxx

overlay samples, condition = 33

Joerg Stelzer
+41435479797
+431701481000

os576 1945 20.11.


INFO PB TRIG10bb condition, TrigDefs::Expressed_passed, 33 1048576


More statistics Monte Calo overlay

https://its.cern.ch/jira/browse/ATLHI-301
https://prodtask-dev.cern.ch/prodtask/inputlist_with_request/32119/


No. 4
Produced events: 336597
mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21941446_00

No. 5
Produced events: 514786
mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21939445_00

No. 6
Produced events: 626680
mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939452_00

No. 7
Produced events: 953927
mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939458_00

Creating MC+overlay MOUN1 DAODs, (string tid deletedan 00)

pathena --useNewTRF --trf "Reco_tf.py --preExec='from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg("BTaggingFixer", Containers = ["BTagging_AntiKt4HIAux.","BTagging_AntiKt4EMTopoAux."])'  --inputAODFile=%IN --outputDAODFile %OUT.root --reductionConf MUON1" --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21941446_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_MUON1v7
jediTaskID=23084889

RSE CERN-PROD_DATADISK
tohle se nepovedlo:

pathena --useNewTRF --trf 'Reco_tf.py --preExec="from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])"  --inputAODFile=%IN --outputDAODFile=%OUT --reductionConf=MUON1' --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21941446_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.MUON1.e6430_d1557_r11936_r11932_v15
pathena --useNewTRF --trf 'Reco_tf.py --preExec="from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])"  --inputAODFile=%IN --outputDAODFile=%OUT --reductionConf=MUON1' --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21939445_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MUON1.e6430_d1557_r11936_r11932_v15
pathena --useNewTRF --trf 'Reco_tf.py --preExec="from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])"  --inputAODFile=%IN --outputDAODFile=%OUT --reductionConf=MUON1' --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939452_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.MUON1.e6431_d1558_r11936_r11932_v15
pathena --useNewTRF --trf 'Reco_tf.py --preExec="from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = \"BTagCalibRUN12Onl-08-49\"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg(\"BTaggingFixer\", Containers = [\"BTagging_AntiKt4HIAux.\",\"BTagging_AntiKt4EMTopoAux.\"])"  --inputAODFile=%IN --outputDAODFile=%OUT --reductionConf=MUON1' --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939458_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.MUON1.e6431_d1558_r11936_r11932_v15

No. 4
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21941446_00 | grep PRAGUE &> test.txt
awk '{ print $12 }' test.txt &> list4.txt
68 files

No. 5
rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21939445_00 | grep PRAGUE &> test.txt
awk '{ print $12 }' test.txt &> list5.txt
104 files

No. 6
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939452_00 | grep PRAGUE &> test.txt
awk '{ print $12 }' test.txt &> list6.txt
126 files

No. 7
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939458_00 | grep PRAGUE &> test.txt
awk '{ print $12 }' test.txt &> list7.txt
192 files


mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21941446_00
mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21939445_00
mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939452_00
mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939458_00
Dear Johannes,
running over these samples WriteTagProbeHistos 
mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.merge.AOD.e6430_d1557_r11936_r11932_tid21939445_00
mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.merge.AOD.e6431_d1558_r11936_r11932_tid21939458_00
I am getting error
ToolSvc.BkgXsec...  ERROR Sample with DSID 420068 has no info stored!!!
Where from do you getting information stored in xSecFiles/Backgrounds.txt please?

ls -1 -d "$PWD/"*

ls -1 -d "$PWD/"*DAODs4_*/ntu*.root

changes:
../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/EffPlots.py
../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/PlotUtils.py

[] /mnt/nfs19/pebaron/muons_latest/runMC/$ for i in `ls -1 -d "$PWD/"*DAODs4_*/ntu*.root`; do echo Input $i;done &> MC_overlay_sample4.conf
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ for i in `ls -1 -d "$PWD/"*DAODs5_*/ntu*.root`; do echo Input $i;done &> MC_overlay_sample5.conf
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ for i in `ls -1 -d "$PWD/"*DAODs6_*/ntu*.root`; do echo Input $i;done &> MC_overlay_sample6.conf
[] /mnt/nfs19/pebaron/muons_latest/runMC/$ for i in `ls -1 -d "$PWD/"*DAODs7_*/ntu*.root`; do echo Input $i;done &> MC_overlay_sample7.conf

for i in `ls -1 -d "$PWD/"*data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903/*.root.*`;do ./BrowseTreeXAOD.py $i; done | tee log.txt

less log.txt | grep Entries | awk '{ print $2 }'


../MuonTPPostProcessing/MuonTPPostProcessing/python/FileManagement/CheckMetaData.py

../MuonTPPostProcessing/MuonTPPostProcessing/Root/DummyXAOD.cxx
../MuonTPPostProcessing/MuonTPPostProcessing/Root/EventService.cxx

../MuonTPPostProcessing/MuonTPPostProcessing/Root/MetaDataTreeReader.cxx

editted:
../MuonTPPostProcessing/MuonTPPostProcessing/Root/Weight.cxx L19




WriteTagProbeHistos -i MC_overlay_sample4MCtag.conf -h BasicHistosForZmumuReco.conf -r pPb_selection.conf -o MC_overlay_sample4MCtag.root



('PB DEBUG: probe: ', 'MSProbes')
('PB DEBUG Match: ', 'ID')
('PB DEBUG5: ', <FinalTPHistos(Thread-272, initial)>, [<MuonTPPostProcessing.Defs.DSconfig instance at 0x7f1089930a28>], 'MSProbes', 'ID_PtrMatching', 'noCrack', True)
('PB DEBUG5: ', <FinalTPHistos(Thread-272, initial)>, [], 'MSProbes', 'ID_PtrMatching', 'noCrack', False)
('PB DEBUG5: ', <FinalTPHistos(Thread-272, initial)>, [], 'MSProbes', 'ID_PtrMatching', 'noCrack', False)
('PB DEBUG: true_probe', 'TrueMSProbes')
('PB DEBUG:, analysis: ', 'ZmumuTPReco')
('PB DEBUG: Structure: ', ['TrueCaloProbes', 'TrueMSProbes', 'CaloProbes', 'MSProbes'])
('PB DEBUG5: ', <FinalTPHistos(Thread-272, initial)>, [<MuonTPPostProcessing.Defs.DSconfig instance at 0x7f1089930a70>], 'TrueMSProbes', 'ID_PtrMatching', 'noCrack', True)
('PB DEBUG: DataHists', None)
('PB DEBUG: SignalHists', None)
('PB DEBUG SignalHists1', None, None, None, [], [])
('PB DEBUG SignalHists: ', None)
Traceback (most recent call last):
  File "../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py", line 619, in <module>
    doStandardEffPlots(PlottingOptions, bonusname="%s%s" % (bonusstr, statusstr))
  File "/mnt/nfs19/pebaron/muons_latest/build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/EffPlots.py", line 527, in doStandardEffPlots
    bonusname=bonusname)
  File "/mnt/nfs19/pebaron/muons_latest/build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/EffPlots.py", line 425, in doEffPlots


python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig4MCtag.py -o ./eff_reco_pPb_MC4MCtag --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig4MCtag.py -o ./eff_iso_pPb_MC4MCtag --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig4MCtag.py -o ./eff_trig_pPb_MC4MCtag --noDDBkg --noIDCorr -a ZmumuTPTrig -w

python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig5MCtag.py -o ./eff_reco_pPb_MC5MCtag --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig5MCtag.py -o ./eff_iso_pPb_MC5MCtag --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig5MCtag.py -o ./eff_trig_pPb_MC5MCtag --noDDBkg --noIDCorr -a ZmumuTPTrig -w

python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig6MCtag.py -o ./eff_reco_pPb_MC6MCtag --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig6MCtag.py -o ./eff_iso_pPb_MC6MCtag --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig6MCtag.py -o ./eff_trig_pPb_MC6MCtag --noDDBkg --noIDCorr -a ZmumuTPTrig -w

python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig7MCtag.py -o ./eff_reco_pPb_MC7MCtag --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig7MCtag.py -o ./eff_iso_pPb_MC7MCtag --noDDBkg --noIDCorr -a ZmumuTPIso -w
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfig7MCtag.py -o ./eff_trig_pPb_MC7MCtag --noDDBkg --noIDCorr -a ZmumuTPTrig -w


python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t SysPlots --config DSConfig4MCtag.py -o ./eff_reco_pPb_MC4MCtagSysPlot --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build-postproc/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t SysPlots --config DSConfig4MCtag.py -o ./eff_iso_pPb_MC4MCtagSysPlot --noDDBkg --noIDCorr -a ZmumuTPIso -w


../MuonTPPostProcessing/MuonTPPostProcessing/python/Plotting/MCPTPEffPlot.py

ToolSvc.BkgXsec...  ERROR Sample with DSID 420068 has no info stored!!!
######################################################################################################################################################
NormalizationDataBase::PromptMCMetaDataTree()      -- INFO:                     Prompt Monte Carlo meta data
######################################################################################################################################################
  DSID  | Name | TotEvents | ProcEv |     SumW     |      SumW2      | xSection | k-Factor | FilterEff | FilterEffxSecTimesEff
 420068 |      |    8297   |  3339  | 3856106.9884 | 4511847468.8042 |  -1.0000 |  -1.0000 |  -1.0000  | -1.0000
WeightHandler::init()                              -- ERROR: 420068 has invalid cross-section
EventService::setupTree()                          -- ERROR: Could not setup the weights
TPAnalysis::Process()                              -- ERROR: Failed to run on /mnt/nfs19/pebaron/muons_latest/runMC/DAODs5_97/ntuple_97.root


testing changes in:
../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/MuonID/MuonSelectorTools/Root/MuonSelectionTool.cxx IS_SIM - made negatives
vraceno do puv. stavu

WriteTagProbeHistos -i MC_overlay_sample4MCtag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC_overlay_sample4MCtag.root | tee log4.txt

snaha:

../MuonPerformanceAnalysis/MuonTPTools/Root/MuonRecoTPEfficiencyTool.cxx L 206


WriteTagProbeHistos -i MC_overlay_sample4MCtag_test.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC_overlay_sample4MCtag_calo1_test2.root | tee log4.txt

kody:
SLANNCXK, SLAN4BME, SLAN7F3R, SLANX62Z




https://acode-browser1.usatlas.bnl.gov/lxr/source/athena/Event/xAOD/xAODMuon/Root/Muon_v1.cxx?v=21.2 L189


Py:LeptonTaggersConfig.py


changed ../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/DerivationFramework/DerivationFrameworkJetEtMiss/python/JetCommon.py L0438
changes to ../MuonPerformanceAnalysis/athena_21.2/PhysicsAnalysis/MuonID/MuonSelectorTools/Root/MuonSelectionTool.cxx 1.25, just a little check

MuonIdentification/​MuonCombinedBaseTools/​src/​MuonCaloTagTool.cxx
CaloTrkMuIdTools

OFFICIAL MUON1 DAODs

rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00  | grep PRAGUE | grep local &> test.txt
awk '{ print $12 }' test.txt &> list6off.txt


TFile * rfile = new TFile(FileName.Data(), "read");
TTree * tree = (TTree*)rfile->Get("ZmumuTPMerged/Trees/MuonProbes_OC/TPTree_MuonProbes_OC");
tree->Draw("probe_eta","probe_matched_CaloTag");

muon methods:

muon1.CaloLRLikelihood
muon1.CaloLikelihood
muon1.CaloMuonIDTag
muon1.CaloTag
muon1.CaloTagged
muon1.Combined
muon1.CombinedTrackParticle
muon1.EnergyLoss
muon1.EnergyLossSigma
muon1.ExtrapolateMuonToIP
muon1.ExtrapolatedMuonSpectrometerTrackParticle
muon1.FSR_CandidateEnergy
muon1.FSRcandidate
muon1.InnerDetectorTrackParticle
muon1.Loose
muon1.MOP
muon1.MSOnlyExtrapolatedMuonSpectrometerTrackParticle
muon1.MeasEnergyLoss
muon1.MeasEnergyLossSigma
muon1.Medium
muon1.MuGirl
muon1.MuGirlLowBeta
muon1.MuTag
muon1.MuTagIMO
muon1.MuidCo
muon1.MuidSA
muon1.MuonSpectrometerTrackParticle
muon1.MuonStandAlone
muon1.NotIsolated
muon1.NumberOfMuonAuthors
muon1.ParamEnergyLoss
muon1.ParamEnergyLossSigmaMinus
muon1.ParamEnergyLossSigmaPlus
muon1.Parametrized
muon1.Primary
muon1.STACO
muon1.SegmentTagged
muon1.SiliconAssociatedForwardMuon
muon1.Tail
muon1.Tight
muon1.VeryLoose
muon1._SG::AuxElement__clearAux(
muon1._SG::AuxElement__copyAux(
muon1._SG::AuxElement__makePrivateStore1(
muon1._SG::AuxElement__privateDataValid(
muon1._SG::AuxElement__releasePrivateStoreForDtor(
muon1._SG::AuxElement__setIndex(
muon1._SG::AuxElement__setIndexPrivate(
muon1._SG::AuxElement__setStore1(
muon1.__add__(
muon1.__assign__(
muon1.__bool__(
muon1.__class__(
muon1.__cpp_name__
muon1.__cppname__
muon1.__delattr__(
muon1.__destruct__(
muon1.__dict__
muon1.__dispatch__(
muon1.__div__(
muon1.__doc__
muon1.__eq__(
muon1.__format__(
muon1.__ge__(
muon1.__getattribute__(
muon1.__gt__(
muon1.__hash__(
muon1.__init__(
muon1.__le__(
muon1.__lt__(
muon1.__module__
muon1.__mul__(
muon1.__ne__(
muon1.__new__(
muon1.__nonzero__(
muon1.__radd__(
muon1.__rdiv__(
muon1.__reduce__(
muon1.__reduce_ex__(
muon1.__repr__(
muon1.__rmul__(
muon1.__rsub__(
muon1.__scope__
muon1.__setattr__(
muon1.__sizeof__(
muon1.__smartptr__(
muon1.__str__(
muon1.__sub__(
muon1.__subclasshook__(
muon1.__weakref__
muon1._get_smart_ptr(
muon1.addAllAuthor(
muon1.allAuthors(
muon1.annBarrel
muon1.annEndCap
muon1.author(
muon1.auxdata(
muon1.auxdataConst(
muon1.auxdecor(
muon1.beta
muon1.charge(
muon1.clearCache(
muon1.clearDecorations(
muon1.cluster(
muon1.clusterLink(
muon1.combinedTrackParticleLink(
muon1.container(
muon1.e(
muon1.energyLossType(
muon1.eta(
muon1.extrapolatedMuonSpectrometerTrackParticleLink(
muon1.floatParameter(
muon1.floatSummaryValue(
muon1.getAuxIDs(
muon1.getConstStore(
muon1.getStore(
muon1.hasNonConstStore(
muon1.hasStore(
muon1.inDetTrackParticleLink(
muon1.index(
muon1.innAngle
muon1.intParameter(
muon1.isAuthor(
muon1.isAvailable(
muon1.isAvailableWritable(
muon1.isAvailableWritableAsDecoration(
muon1.isolation(
muon1.isolationCaloCorrection(
muon1.isolationCorrectionBitset(
muon1.isolationTrackCorrection(
muon1.m(
muon1.makePrivateStore(
muon1.meanDeltaADCCountsMDT
muon1.midAngle
muon1.momentumBalanceSignificance
muon1.msInnerMatchChi2
muon1.msInnerMatchDOF
muon1.msOnlyExtrapolatedMuonSpectrometerTrackParticleLink(
muon1.msOuterMatchChi2
muon1.msOuterMatchDOF
muon1.muonSegment(
muon1.muonSegmentLink(
muon1.muonSegmentLinks(
muon1.muonSpectrometerTrackParticleLink(
muon1.muonType(
muon1.nMuonSegments(
muon1.p4(
muon1.parameter(
muon1.passesHighPtCuts(
muon1.passesIDCuts(
muon1.phi(
muon1.primaryTrackParticle(
muon1.primaryTrackParticleLink(
muon1.pt(
muon1.quality(
muon1.rapidity(
muon1.releasePrivateStore(
muon1.scatteringCurvatureSignificance
muon1.scatteringNeighbourSignificance
muon1.segmentChi2OverDoF
muon1.segmentDeltaEta
muon1.segmentDeltaPhi
muon1.setAllAuthors(
muon1.setAuthor(
muon1.setCharge(
muon1.setClusterLink(
muon1.setConstStore(
muon1.setEnergyLossType(
muon1.setIsolation(
muon1.setIsolationCaloCorrection(
muon1.setIsolationCorrectionBitset(
muon1.setIsolationTrackCorrection(
muon1.setMuonSegmentLinks(
muon1.setMuonType(
muon1.setNonConstStore(
muon1.setP4(
muon1.setParameter(
muon1.setPassesHighPtCuts(
muon1.setPassesIDCuts(
muon1.setQuality(
muon1.setStore(
muon1.setSummaryValue(
muon1.setTrackParticleLink(
muon1.spectrometerFieldIntegral
muon1.summaryValue(
muon1.t0
muon1.trackParticle(
muon1.trackParticleLink(
muon1.type(
muon1.uint8MuonSummaryValue(
muon1.uint8SummaryValue(
muon1.unknown
muon1.usingPrivateStore(
muon1.usingStandaloneStore(


Trig::TrigDecisionTool::isPassed(const std::string& chain) const {
   ATH_MSG_INFO("PB TRIG2 isPassed " << chain);
   return TrigDecisionToolCore::isPassed(chain);
}


uint32_t lvl2ErrorBits;
uint32_t efErrorBits;
bool lvl2Truncated;
bool efTruncated;
std::vector< uint32_t > lvl2PassedPhysics;
std::vector< uint32_t > efPassedPhysics;
std::vector< uint32_t > lvl2PassedRaw;
std::vector< uint32_t > efPassedRaw;
std::vector< uint32_t > lvl2PassedThrough;
std::vector< uint32_t > efPassedThrough;
std::vector< uint32_t > lvl2Prescaled;
std::vector< uint32_t > efPrescaled;
std::vector< uint32_t > lvl2Resurrected;
std::vector< uint32_t > efResurrected;


#!/usr/bin/env python2

from __future__ import print_function
#SETUP BEFORE RUNNING: asetup 21.2,AnalysisBase,latest
import ROOT
from math import fabs, pow, sqrt
import sys
import ctypes as ct

ROOT.gROOT.Macro('$ROOTCOREDIR/scripts/load_packages.C')

ROOT.xAOD.Init()
fileName=str(sys.argv[1])
treeName = "CollectionTree"
f = ROOT.TFile.Open(fileName)
t = ROOT.xAOD.MakeTransientTree( f, treeName)
for entry in xrange( t.GetEntries() ):
   t.GetEntry( entry )
   trig = t.xTrigDecision
   #e.g. I do not know how to check HLT_mu_15
   trig_tbp = trig.tbp()
   for i in range(trig_tbp.size()):
       print("I do not know how to check HLT_mu_15: ", trig_tbp.at(i))
print('DONE!', i, " ", t.GetEntries() )
ROOT.xAOD.ClearTransientTrees()


print( "lvl2PassedPhysics size: ", lvl2PassedPhysics.size())
print( "efPassedPhysics size: ", efPassedPhysics.size())
print( "lvl2PassedRaw size: ", lvl2PassedRaw.size())
print( "efPassedRaw size: ", efPassedRaw.size())
print( "lvl2PassedThrough size: ", lvl2PassedThrough.size())
print( "efPassedThrough size: ", efPassedThrough.size())
print( "lvl2Prescaled size: ", lvl2Prescaled.size())
print( "efPrescaled size: ", efPrescaled.size())
print( "lvl2Resurrected size: ", lvl2Resurrected.size())
print( "efResurrected size: ", efResurrected.size())

    print("lvl2ErrorBits: ", trig.lvl2ErrorBits())
    print("efErrorBits: ", trig.efErrorBits())
    print("lvl2Truncated: ", trig.lvl2Truncated())
    print("efTruncated: ", trig.efTruncated())


   for muons in t.Muons:
       #b = -20;
       #b = ct.c_int(-20)
       #print(muons.CaloMuonIDTag )
       #print(muons.CaloTag)
       #muons.parameter(b, 19)
       #muons.parameter(b, "xAOD::Muon::CaloMuonIDTag")
       #h.Fill(muons.CaloMuonIDTag, muons.eta)
       #print("ID: ", muons.CaloMuonIDTag," eta: ", muons.eta())
       #print(muons.Medium)
       #print(float(b))
       #rint(muons.intParameter(19))
       h_CaloMuonIDTag.Fill(muons.intParameter(19))
       if (muons.intParameter(19)>10):
           h_eta_tagged.Fill(muons.eta())
       h_eta.Fill(muons.eta())
       h2_CaloMuonIDTag_eta.Fill(muons.eta(), muons.intParameter(19) )
       #print(muons.passesIDCuts())
       i=i+1
h2_CaloMuonIDTag_eta.Write()
h2_CaloMuonIDTag_eta.GetXaxis().SetTitle("#eta")
h2_CaloMuonIDTag_eta.GetYaxis().SetTitle("CaloMuonIDTag")

h_CaloMuonIDTag.Write()
h_eta.Write()
h_eta_tagged.Write()
out.Close()
#print(t.Muons.Next())#.parameter(b,xAOD.Muon.CaloMuonIDTag)) 
#t.Scan("Muons.parameter(b,xAOD.Muon.CaloMuonIDTag)")
#br.parameter(b,xAOD.Muon.CaloMuonIDTag)
#print(b)
#print( "Processing run #%i, event #%i" % ( t.EventInfo.runNumber(), t.EventInfo.eventNumber() ) )
#print("INFO: ", t)
#print("b = ", b)
print('DONE!', i, " ", t.GetEntries() )
ROOT.xAOD.ClearTransientTrees()


download pp samples Zmumu:
thi was in the list:
mc16_13TeV:mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e3601_s3126_r10201_p4145
this I downloaded:
mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e3601_s3126_r10201_r10210_p4145_tid21179299_00	

(mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e3601_s3126_r10201_r10210_p4145_tid21179301_00	just in case)

+33685400472

        print("muons.CaloLRLikelihood: ", muons.CaloLRLikelihood , "type: " , type(muons.CaloLRLikelihood))
        print("muons.CaloLikelihood: ", muons.CaloLikelihood , "type: " , type(muons.CaloLikelihood))
        print("muons.CaloMuonIDTag: ", muons.CaloMuonIDTag , "type: " , type(muons.CaloMuonIDTag))
        print("muons.CaloTag: ", muons.CaloTag , "type: " , type(muons.CaloTag))
        print("muons.CaloTagged: ", muons.CaloTagged , "type: " , type(muons.CaloTagged))
        print("muons.Combined: ", muons.Combined , "type: " , type(muons.Combined))
        print("muons.CombinedTrackParticle: ", muons.CombinedTrackParticle , "type: " , type(muons.CombinedTrackParticle))
        print("muons.EnergyLoss: ", muons.EnergyLoss , "type: " , type(muons.EnergyLoss))
        print("muons.EnergyLossSigma: ", muons.EnergyLossSigma , "type: " , type(muons.EnergyLossSigma))
        print("muons.ExtrapolateMuonToIP: ", muons.ExtrapolateMuonToIP , "type: " , type(muons.ExtrapolateMuonToIP))
        print("muons.ExtrapolatedMuonSpectrometerTrackParticle: ", muons.ExtrapolatedMuonSpectrometerTrackParticle , "type: " , type(muons.ExtrapolatedMuonSpectrometerTrackParticle))
        print("muons.FSR_CandidateEnergy: ", muons.FSR_CandidateEnergy , "type: " , type(muons.FSR_CandidateEnergy))
        print("muons.FSRcandidate: ", muons.FSRcandidate , "type: " , type(muons.FSRcandidate))
        print("muons.InnerDetectorTrackParticle: ", muons.InnerDetectorTrackParticle , "type: " , type(muons.InnerDetectorTrackParticle))
        print("muons.Loose: ", muons.Loose , "type: " , type(muons.Loose))
        print("muons.MOP: ", muons.MOP , "type: " , type(muons.MOP))
        print("muons.MSOnlyExtrapolatedMuonSpectrometerTrackParticle: ", muons.MSOnlyExtrapolatedMuonSpectrometerTrackParticle , "type: " , type(muons.MSOnlyExtrapolatedMuonSpectrometerTrackParticle))
        print("muons.MeasEnergyLoss: ", muons.MeasEnergyLoss , "type: " , type(muons.MeasEnergyLoss))
        print("muons.MeasEnergyLossSigma: ", muons.MeasEnergyLossSigma , "type: " , type(muons.MeasEnergyLossSigma))
        print("muons.Medium: ", muons.Medium , "type: " , type(muons.Medium))
        print("muons.MuGirl: ", muons.MuGirl , "type: " , type(muons.MuGirl))
        print("muons.MuGirlLowBeta: ", muons.MuGirlLowBeta , "type: " , type(muons.MuGirlLowBeta))
        print("muons.MuTag: ", muons.MuTag , "type: " , type(muons.MuTag))
        print("muons.MuTagIMO: ", muons.MuTagIMO , "type: " , type(muons.MuTagIMO))
        print("muons.MuidCo: ", muons.MuidCo , "type: " , type(muons.MuidCo))
        print("muons.MuidSA: ", muons.MuidSA , "type: " , type(muons.MuidSA))
        print("muons.MuonSpectrometerTrackParticle: ", muons.MuonSpectrometerTrackParticle , "type: " , type(muons.MuonSpectrometerTrackParticle))
        print("muons.MuonStandAlone: ", muons.MuonStandAlone , "type: " , type(muons.MuonStandAlone))
        print("muons.NotIsolated: ", muons.NotIsolated , "type: " , type(muons.NotIsolated))
        print("muons.NumberOfMuonAuthors: ", muons.NumberOfMuonAuthors , "type: " , type(muons.NumberOfMuonAuthors))
        print("muons.ParamEnergyLoss: ", muons.ParamEnergyLoss , "type: " , type(muons.ParamEnergyLoss))
        print("muons.ParamEnergyLossSigmaMinus: ", muons.ParamEnergyLossSigmaMinus , "type: " , type(muons.ParamEnergyLossSigmaMinus))
        print("muons.ParamEnergyLossSigmaPlus: ", muons.ParamEnergyLossSigmaPlus , "type: " , type(muons.ParamEnergyLossSigmaPlus))
        print("muons.Parametrized: ", muons.Parametrized , "type: " , type(muons.Parametrized))
        print("muons.Primary: ", muons.Primary , "type: " , type(muons.Primary))
        print("muons.STACO: ", muons.STACO , "type: " , type(muons.STACO))
        print("muons.SegmentTagged: ", muons.SegmentTagged , "type: " , type(muons.SegmentTagged))
        print("muons.SiliconAssociatedForwardMuon: ", muons.SiliconAssociatedForwardMuon , "type: " , type(muons.SiliconAssociatedForwardMuon))
        print("muons.Tail: ", muons.Tail , "type: " , type(muons.Tail))
        print("muons.Tight: ", muons.Tight , "type: " , type(muons.Tight))
        print("muons.VeryLoose: ", muons.VeryLoose , "type: " , type(muons.VeryLoose))
        print("muons.allAuthors(): ", muons.allAuthors() , "type: " , type(muons.allAuthors()))
        print("muons.annBarrel: ", muons.annBarrel , "type: " , type(muons.annBarrel))
        print("muons.annEndCap: ", muons.annEndCap , "type: " , type(muons.annEndCap))
        print("muons.author(): ", muons.author() , "type: " , type(muons.author()))
        print("muons.beta: ", muons.beta , "type: " , type(muons.beta))
        print("muons.charge(): ", muons.charge() , "type: " , type(muons.charge()))
        print("muons.clearCache(): ", muons.clearCache() , "type: " , type(muons.clearCache()))
        print("muons.clearDecorations(): ", muons.clearDecorations() , "type: " , type(muons.clearDecorations()))
        print("muons.cluster(): ", muons.cluster() , "type: " , type(muons.cluster()))
        print("muons.clusterLink(): ", muons.clusterLink() , "type: " , type(muons.clusterLink()))
        print("muons.combinedTrackParticleLink(): ", muons.combinedTrackParticleLink() , "type: " , type(muons.combinedTrackParticleLink()))
        print("muons.container(): ", muons.container() , "type: " , type(muons.container()))
        print("muons.e(): ", muons.e() , "type: " , type(muons.e()))
        print("muons.energyLossType(): ", muons.energyLossType() , "type: " , type(muons.energyLossType()))
        print("muons.eta(): ", muons.eta() , "type: " , type(muons.eta()))
        print("muons.getAuxIDs(): ", muons.getAuxIDs() , "type: " , type(muons.getAuxIDs()))
        print("muons.getConstStore(): ", muons.getConstStore() , "type: " , type(muons.getConstStore()))
        print("muons.getStore(): ", muons.getStore() , "type: " , type(muons.getStore()))
        print("muons.hasNonConstStore(): ", muons.hasNonConstStore() , "type: " , type(muons.hasNonConstStore()))
        print("muons.hasStore(): ", muons.hasStore() , "type: " , type(muons.hasStore()))
        print("muons.inDetTrackParticleLink(): ", muons.inDetTrackParticleLink() , "type: " , type(muons.inDetTrackParticleLink()))
        print("muons.index(): ", muons.index() , "type: " , type(muons.index()))
        print("muons.innAngle: ", muons.innAngle , "type: " , type(muons.innAngle))
        print("muons.isolation(): ", muons.isolation() , "type: " , type(muons.isolation()))
        print("muons.isolationCaloCorrection(): ", muons.isolationCaloCorrection() , "type: " , type(muons.isolationCaloCorrection()))
        print("muons.isolationCorrectionBitset(): ", muons.isolationCorrectionBitset() , "type: " , type(muons.isolationCorrectionBitset()))
        print("muons.isolationTrackCorrection(): ", muons.isolationTrackCorrection() , "type: " , type(muons.isolationTrackCorrection()))
        print("muons.m(): ", muons.m() , "type: " , type(muons.m()))
        print("muons.makePrivateStore(): ", muons.makePrivateStore() , "type: " , type(muons.makePrivateStore()))
        print("muons.meanDeltaADCCountsMDT: ", muons.meanDeltaADCCountsMDT , "type: " , type(muons.meanDeltaADCCountsMDT))
        print("muons.midAngle: ", muons.midAngle , "type: " , type(muons.midAngle))
        print("muons.momentumBalanceSignificance: ", muons.momentumBalanceSignificance , "type: " , type(muons.momentumBalanceSignificance))
        print("muons.msInnerMatchChi2: ", muons.msInnerMatchChi2 , "type: " , type(muons.msInnerMatchChi2))
        print("muons.msInnerMatchDOF: ", muons.msInnerMatchDOF , "type: " , type(muons.msInnerMatchDOF))
        print("muons.msOuterMatchChi2: ", muons.msOuterMatchChi2 , "type: " , type(muons.msOuterMatchChi2))
        print("muons.msOuterMatchDOF: ", muons.msOuterMatchDOF , "type: " , type(muons.msOuterMatchDOF))
        print("muons.muonSegment(): ", muons.muonSegment() , "type: " , type(muons.muonSegment()))
        print("muons.muonSegmentLink(): ", muons.muonSegmentLink() , "type: " , type(muons.muonSegmentLink()))
        print("muons.muonSegmentLinks(): ", muons.muonSegmentLinks() , "type: " , type(muons.muonSegmentLinks()))
        print("muons.muonSpectrometerTrackParticleLink(): ", muons.muonSpectrometerTrackParticleLink() , "type: " , type(muons.muonSpectrometerTrackParticleLink()))
        print("muons.muonType(): ", muons.muonType() , "type: " , type(muons.muonType()))
        print("muons.nMuonSegments(): ", muons.nMuonSegments() , "type: " , type(muons.nMuonSegments()))
        print("muons.p4(): ", muons.p4() , "type: " , type(muons.p4()))
        print("muons.parameter(): ", muons.parameter() , "type: " , type(muons.parameter()))
        print("muons.passesHighPtCuts(): ", muons.passesHighPtCuts() , "type: " , type(muons.passesHighPtCuts()))
        print("muons.passesIDCuts(): ", muons.passesIDCuts() , "type: " , type(muons.passesIDCuts()))
        print("muons.phi(): ", muons.phi() , "type: " , type(muons.phi()))
        print("muons.primaryTrackParticle(): ", muons.primaryTrackParticle() , "type: " , type(muons.primaryTrackParticle()))
        print("muons.primaryTrackParticleLink(): ", muons.primaryTrackParticleLink() , "type: " , type(muons.primaryTrackParticleLink()))
        print("muons.pt(): ", muons.pt() , "type: " , type(muons.pt()))
        print("muons.quality(): ", muons.quality() , "type: " , type(muons.quality()))
        print("muons.rapidity(): ", muons.rapidity() , "type: " , type(muons.rapidity()))
        print("muons.releasePrivateStore(): ", muons.releasePrivateStore() , "type: " , type(muons.releasePrivateStore()))
        print("muons.scatteringCurvatureSignificance: ", muons.scatteringCurvatureSignificance , "type: " , type(muons.scatteringCurvatureSignificance))
        print("muons.scatteringNeighbourSignificance: ", muons.scatteringNeighbourSignificance , "type: " , type(muons.scatteringNeighbourSignificance))
        print("muons.segmentChi2OverDoF: ", muons.segmentChi2OverDoF , "type: " , type(muons.segmentChi2OverDoF))
        print("muons.segmentDeltaEta: ", muons.segmentDeltaEta , "type: " , type(muons.segmentDeltaEta))
        print("muons.segmentDeltaPhi: ", muons.segmentDeltaPhi , "type: " , type(muons.segmentDeltaPhi))
        print("muons.spectrometerFieldIntegral: ", muons.spectrometerFieldIntegral , "type: " , type(muons.spectrometerFieldIntegral))
        print("muons.summaryValue(): ", muons.summaryValue() , "type: " , type(muons.summaryValue()))
        print("muons.t0: ", muons.t0 , "type: " , type(muons.t0))
        print("muons.trackParticle(): ", muons.trackParticle() , "type: " , type(muons.trackParticle()))
        print("muons.trackParticleLink(): ", muons.trackParticleLink() , "type: " , type(muons.trackParticleLink()))
        print("muons.type(): ", muons.type() , "type: " , type(muons.type()))
        print("muons.uint8MuonSummaryValue(): ", muons.uint8MuonSummaryValue() , "type: " , type(muons.uint8MuonSummaryValue()))
        print("muons.uint8SummaryValue(): ", muons.uint8SummaryValue() , "type: " , type(muons.uint8SummaryValue()))
        print("muons.unknown: ", muons.unknown , "type: " , type(muons.unknown))
        print("muons.usingPrivateStore(): ", muons.usingPrivateStore() , "type: " , type(muons.usingPrivateStore()))
        print("muons.usingStandaloneStore(): ", muons.usingStandaloneStore() , "type: " , type(muons.usingStandaloneStore()))

muons.CaloLRLikelihood
muons.CaloLikelihood
muons.CaloMuonIDTag
muons.CaloTag
muons.CaloTagged
muons.Combined
muons.CombinedTrackParticle
muons.EnergyLoss
muons.EnergyLossSigma
muons.ExtrapolateMuonToIP
muons.ExtrapolatedMuonSpectrometerTrackParticle
muons.FSR_CandidateEnergy
muons.FSRcandidate
muons.InnerDetectorTrackParticle
muons.Loose
muons.MOP
muons.MSOnlyExtrapolatedMuonSpectrometerTrackParticle
muons.MeasEnergyLoss
muons.MeasEnergyLossSigma
muons.Medium
muons.MuGirl
muons.MuGirlLowBeta
muons.MuTag
muons.MuTagIMO
muons.MuidCo
muons.MuidSA
muons.MuonSpectrometerTrackParticle
muons.MuonStandAlone
muons.NotIsolated
muons.NumberOfMuonAuthors
muons.ParamEnergyLoss
muons.ParamEnergyLossSigmaMinus
muons.ParamEnergyLossSigmaPlus
muons.Parametrized
muons.Primary
muons.STACO
muons.SegmentTagged
muons.SiliconAssociatedForwardMuon
muons.Tail
muons.Tight
muons.VeryLoose
muons.allAuthors()
muons.annBarrel
muons.annEndCap
muons.author()
muons.beta
muons.charge()
muons.clearCache()
muons.clearDecorations()
muons.cluster()
muons.clusterLink()
muons.combinedTrackParticleLink()
muons.container()
muons.e()
muons.energyLossType()
muons.eta()
muons.extrapolatedMuonSpectrometerTrackParticleLink()
muons.getAuxIDs()
muons.getConstStore()
muons.getStore()
muons.hasNonConstStore()
muons.hasStore()
muons.inDetTrackParticleLink()
muons.index()
muons.innAngle
muons.isolation()
muons.isolationCaloCorrection()
muons.isolationCorrectionBitset()
muons.isolationTrackCorrection()
muons.m()
muons.makePrivateStore()
muons.meanDeltaADCCountsMDT
muons.midAngle
muons.momentumBalanceSignificance
muons.msInnerMatchChi2
muons.msInnerMatchDOF
muons.msOnlyExtrapolatedMuonSpectrometerTrackParticleLink()
muons.msOuterMatchChi2
muons.msOuterMatchDOF
muons.muonSegment()
muons.muonSegmentLink()
muons.muonSegmentLinks()
muons.muonSpectrometerTrackParticleLink()
muons.muonType()
muons.nMuonSegments()
muons.p4()
muons.parameter()
muons.passesHighPtCuts()
muons.passesIDCuts()
muons.phi()
muons.primaryTrackParticle()
muons.primaryTrackParticleLink()
muons.pt()
muons.quality()
muons.rapidity()
muons.releasePrivateStore()
muons.scatteringCurvatureSignificance
muons.scatteringNeighbourSignificance
muons.segmentChi2OverDoF
muons.segmentDeltaEta
muons.segmentDeltaPhi
muons.spectrometerFieldIntegral
muons.summaryValue()
muons.t0
muons.trackParticle()
muons.trackParticleLink()
muons.type()
muons.uint8MuonSummaryValue()
muons.uint8SummaryValue()
muons.unknown
muons.usingPrivateStore()
muons.usingStandaloneStore()

ppData
rucio list-file-replicas mc16_13TeV:mc16_13TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e3601_s3126_r10201_r10210_p4145_tid21179299_00 | grep PRAGUE | grep local | awk '{ print $12 }' &> pp_mc.txt

official DAODs MC over: from https://prodtask-dev.cern.ch/prodtask/inputlist_with_request/33876/ 

MCNo0:
mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00
rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00  | grep PRAGUE | grep local | awk '{ print $12 }' &> mcNo0.txt

MCNo1:
mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00  | grep PRAGUE | grep local | awk '{ print $12 }'  &> mcNo1.txt

MCNo2:
mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00  | grep PRAGUE | grep local | awk '{ print $12 }'  &> mcNo2.txt

MCNo3:
mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00  | grep PRAGUE | grep local | awk '{ print $12 }' &> mcNo3.txt


pp-data , random choice 

data16_13TeV:data16_13TeV.00310247.physics_Main.deriv.DAOD_MUON1.r9264_p3083_p4144_tid21197325_00
rucio list-file-replicas data16_13TeV.00310247.physics_Main.deriv.DAOD_MUON1.r9264_p3083_p4144_tid21197325_00  | grep PRAGUE | grep local | awk '{ print $12 }' &> ppdata.txt


root -l -b -q "./RunMuons.cxx(\"pp.root\",\"pp_sel.root\")"

root -l "./ControlPlot.C(\"ppdata_sel.root\",\"ppdata_sel.root\",\"pPbMCNo1_sel.root\",\"data_sel.root\",\"var_mumue\", \"var_eta\", \"hist e1\", \"(var_mumue < 900.)&&(abs(var_eta)<3.0)\", 1, 1)"
root -l "./Efficiencies.C(\"ppdata_sel.root\",\"ppdata_sel.root\",\"pPbMCNo1_sel.root\",\"data_sel.root\",\"var_eta\", \"var_eta\", \"hist e1\", \"\", \"var_HLTmu_15\", 1, 0)"

root -l "./ControlPlot.C(\"ppdata_sel.root\",\"pp_sel.root\",\"pPbMCNo1_sel.root\",\"data_sel.root\",\"var_mumumll\", \"var_eta\", \"lego2d\", \"(var_mumumll > 70.)&&(var_mumumll < 110.)&&(abs(var_eta)<3.0)\", 0, 1)"

root -l "./ControlPlot.C(\"ppdata_sel.root\",\"pp_sel.root\",\"pPbMCNo1_sel.root\",\"data_sel.root\",\"var_HLT_mu15\", \"var_eta\", \"lego2d\", \"(var_mumumll > 70.)&&(var_mumumll < 110.)&&(abs(var_eta)<3.0)&&(var_CaloMuonIDTag>=0.)&&(var_HLT_mu15>=0.)\", 0, 1)"


root -l PlotEff.C
root -l "./RunEff.cxx(\"pPbMCNo0_sel.root\", \"pPbMCNo0_eff.root\")"
root -l "./RunEff.cxx(\"data_sel.root\", \"data_eff.root\")"


17:58:09 ToolSvc.TrigUtils                                    INFO PB DEBUG10: decorated.isAvailable(*info) 1 , decorated(*info):   0
17:58:09 ToolSvc.TrigUtils                                    INFO PB DEBUG10a trigger: HLT_mu15 passed: 0
17:58:09 ToolSvc.TrigUtils                                    INFO PB DEBUG10: decorated.isAvailable(*info) 1 , decorated(*info):   1
17:58:09 ToolSvc.TrigUtils                                    INFO PB DEBUG10b trigger: HLT_mu15 passed: 0

ivestigating

21.2/​athena/​Trigger/​TrigAnalysis/​TrigMuonMatching/​Root/​TrigMuonMatching.cxx

check if trigger passed L1_MU15 - add to my script

../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/ZmumuTPAnalysis.py L 359 

tady probably:
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/TriggerLists.py
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/CommonMuonTPConfig.py
root -l DAODs4testoff_0/ntuple_0.root
 condor_submit run4testoff.sub

  KEY: TDirectoryFile	ZmumuTPMerged;1	ZmumuTPMerged
  KEY: TDirectoryFile	UmumuTPMerged;1	UmumuTPMerged
  KEY: TDirectoryFile	TruthTPReco;1	TruthTPReco
  KEY: TTree	MuonTP_CommonTree;1	object title
  KEY: TTree	MetaDataTree;1	MetaData tree of the MuonTPanalysis
root [2] ZmumuTPMerged
(TDirectoryFile *) 0x2a14e90
root [3] ZmumuTPMerged->cd()
(Bool_t) true
root [4] .ls
TDirectoryFile*		ZmumuTPMerged	ZmumuTPMerged
 KEY: TDirectoryFile	Trees;1	Trees
root [5] Trees
(TDirectoryFile *) 0x2a442a0
root [6] Trees->cd()
(Bool_t) true
root [7] .ls
TDirectoryFile*		Trees	Trees
 KEY: TDirectoryFile	IDProbes_OC;1	IDProbes_OC
 KEY: TDirectoryFile	IDProbes_SC;1	IDProbes_SC
 KEY: TDirectoryFile	MuonProbes_OC;1	MuonProbes_OC
 KEY: TDirectoryFile	MuonProbes_SC;1	MuonProbes_SC
root [8] MuonProbes_OC
(TDirectoryFile *) 0x1e75480
root [9] MuonProbes_OC->cd()
(Bool_t) true
root [10] .ls
TDirectoryFile*		MuonProbes_OC	MuonProbes_OC
 KEY: TTree	TPTree_MuonProbes_OC;1	object title

TTree * tree = (TTree*)gDirectory->Get("ZmumuTPMerged/Trees/MuonProbes_OC/TPTree_MuonProbes_OC");
tree->Print()
tree->Scan("probe_matched_HLT_mu15")
tree->Draw("probe_matched_HLT_mu15")


  KEY: TDirectoryFile	TruthTPReco;1	TruthTPReco
  KEY: TTree	MuonTP_CommonTree;1	object title
  KEY: TTree	MetaDataTree;1	MetaData tree of the MuonTPanalysis
root [2] TruthTPReco
(TDirectoryFile *) 0x2eb2e00
root [3] TruthTPReco->cd()
(Bool_t) true
root [4] .ls
TDirectoryFile*		TruthTPReco	TruthTPReco
 KEY: TDirectoryFile	Trees;1	Trees
root [5] Trees
(TDirectoryFile *) 0x2eb9a80
root [6] Trees->cd()
(Bool_t) true
root [7] .ls
TDirectoryFile*		Trees	Trees
 KEY: TDirectoryFile	TruthProbes_OC;1	TruthProbes_OC
 KEY: TDirectoryFile	SingleTruthProbes_OC;1	SingleTruthProbes_OC
root [8] TruthProbes_OC
(TDirectoryFile *) 0x2ee81e0
root [9] TruthProbes_OC->cd()
(Bool_t) true
root [10] .ls
TDirectoryFile*		TruthProbes_OC	TruthProbes_OC
 KEY: TTree	TPTree_TruthProbes_OC;1	object title
root [11] TPTree_TruthProbes_OC

TTree * treetruth = (TTree*)gDirectory->Get("TruthTPReco/Trees/TruthProbes_OC/TPTree_TruthProbes_OC");
treetruth->Print()
 

TrackParticleContainer


https://gitlab.cern.ch/atlas-mcp/MuonPerformanceAnalysis/-/blob/master/MuonTPTools/Root/MuonTPBranch.cxx#L217



testing 

../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTrigTPEfficiencyTool.cxx

maybe error:
../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonTPAlg.cxx L126
moslty empty:

../MuonPerformanceAnalysis/MuonTPTools/Root/DiMuonTPSelectionTool.cxx
back to here
../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPSelectionTool.cxx

60g commented false

../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTrigUtils.cxx 

change back :
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/ZmumuTPTrigAnalysis.py
and try :
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/ZmumuTPAnalysis.py
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/TriggerLists.py
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/CommonMuonTPConfig.py

vsude nastavim true, a budu ubirat, nekde je funkce volana vicekrat: PBCOMMENT
../MuonPerformanceAnalysis/MuonPerformanceAlgs/src/MuonFilterAlg.cxx - ok, testing now, this breaks it
../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/TrigInfo.cxx - ok
../MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPTrigUtils.cxx - ok
../MuonPerformanceAnalysis/Trigger/TrigAnalysis/TrigMuonMatching/Root/TrigMuonMatching.cxx

tring now:

../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/ZmumuTPAnalysis.py


EDITTED: ke kazdemu "HLT_mu15noL1", dodano "HLT_mu15",sledovani PB TRIG5
../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/TriggerLists.py 

isPassed jsou dve:

#include <MuonTPTools/MuonTPTrigUtils.h>
#include <xAODEventInfo/EventInfo.h>

#include "AsgTools/AsgTool.h"
#include "TrigDecisionTool/TrigDecisionTool.h"
#include "TrigMuonMatching/IMuonTPTrigUtils.h"
#include "TrigMuonMatching/ITrigMuonMatching.h"
#include "xAODMuon/Muon.h"
#include "AsgTools/IAsgTool.h"
#include "AsgTools/AsgMetadataTool.h"
#include "AsgTools/AsgToolsConf.h"
#include "AsgTools/ToolHandle.h"
try this: 

less DAODs4testoff_0/log.AODtoDPD | grep "DEBUG10a" | grep "passed: 1" | wc -l
30
ted bych cekal vice, 54, 
force:
less DAODs4testoff_0/log.AODtoDPD | grep "DEBUGL1" | wc -l --> 42
pp
16:21:35 Py:AutoConfiguration    INFO Trying to guess magnetic field status from conditionsTag
16:21:35 Py:AutoConfiguration    INFO Don't know how to get magnetic field status from conditions tag 'OFLCOND-MC16-SDR-20' - this is normal in simulation
pPb

13:38:15 Py:AutoConfiguration    INFO Trying to guess magnetic field status from conditionsTag
13:38:15 Py:AutoConfiguration WARNING Don't know how to interpret magnetic field status from conditionsTag 'CONDBR2-BLKPA-2018-14'.
Line 180


../MuonPerformanceAnalysis/MuonPerformanceAlgs/python/ZmumuTPAnalysis.py L41

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.MUON1.MCPntulpes_no1_v1
INFO : succeeded. new jediTaskID=23436504
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no2_v1
INFO : succeeded. new jediTaskID=23436616
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no3_v1              
INFO : succeeded. new jediTaskID=23436618
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.MUON1.MCPntulpes_no4_v1
--all failed, submited from lxplus

runchar_data.sh  runchar_pPbMCNo0.sh  runchar_pPbMCNo1.sh  runchar_pPbMCNo2.sh  runchar_pPbMCNo3.sh  runchar_ppdata.sh  runchar_pp.sh  runwrapper.AODtoDPD.sh


AutoConfiguration.py L77 editted
/mnt/nfs19/pebaron/muons_latest/build/x86_64-centos7-gcc62-opt/python/RecExConfig/AutoConfiguration.py

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.MUON1.MCPntulpes_no1_v2
INFO : succeeded. new jediTaskID=23445679
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no2_v2
INFO : succeeded. new jediTaskID=23445897
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no3_v2
INFO : succeeded. new jediTaskID=23446003
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.MUON1.MCPntulpes_no4_v2
INFO : succeeded. new jediTaskID=23446082
--all failed

rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 | grep CERN-PROD | awk '{ print $12 }' &> No1_list.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 | grep IN2P3-CC_DATADISK | awk '{ print $12 }' &> No2_list.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 | grep UKI-NORTHGRID-LANCS-HEP_DATADISK | awk '{ print $12 }' &> No3_list.txt
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 | grep CERN-PROD | awk '{ print $12 }' &> No4_list.txt

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt No1_list.txt --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.MUON1.MCPntulpes_no1_v3
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt No2_list.txt --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no2_v3
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt No3_list.txt --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no3_v3
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt No4_list.txt --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.MUON1.MCPntulpes_no4_v3
does not work, setparameter right
toto je ono ${_CONDOR_SCRATCH_DIR} 

 Reco_tf.py --inputAODFile test.root --outputNTUP_MCPTPFile pPbMCNo1_0test.root --maxEvents 20


pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.MUON1.MCPntulpes_no1_v5
INFO : succeeded. new jediTaskID=23450918
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no2_v5
INFO : succeeded. new jediTaskID=23451020
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.MUON1.MCPntulpes_no3_v5
INFO : succeeded. new jediTaskID=23451089
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.MUON1.MCPntulpes_no4_v5
INFO : succeeded. new jediTaskID=23451100


runchar_pPbMCNo0.sub was 17

new rucio:
rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 | grep PRAGUE | grep atlasdatadisk | awk '{ print $12 }'

MuonTPSelectionTool.cxx L 357-360 commented

omework - Project 04

Position of the sun on the sky (sun path) depends on the time of the day, 
day of the year and geographical location. 
Sun usually is rising in the morning (there are some exceptions!), 
culminating around midday and setting in the evening. 
Place on horizon when sun is rising is also changing with day of the year. 
In Poland around longest day in summer sun is rising at the point in horizon which is to the south. 
In the winter - rising point is more to the north.

Let us focus on the several parameters describing sun path:
- Sunrise and sunset time
- Time during the day at which sun has maximum elevation
- Maximum elevation on the sky
- Azimuth of the point on the horizon where sun is rising
- Azimuth of the point on the horizon where sun is setting

Let us analyse these parameters as a function of the day of the year for given geographical location.
Perform such an analysis both for sun and moon movement on the sky.

Prepare reproducible jupyter notebook with code, plots and some description (text fields) of your solution. 
Share notebooks on github.
Use astropy library (https://docs.astropy.org/en/stable/)

Project should be done in groups of max 3 students. 
I suggest to organize that each group should organize themselves in terms of communication and collaboration. 
I encourage you to review the code within groups and have some direct mean of communication (chat/teleconference)

Deadline: 24.11.2020


visual studio code ^.*CONTENT.*$\n

slowly changing ../../MuonPerformanceAnalysis/MuonTPTools/Root/DiMuonTPSelectionTool.cxx cuts and having a look

THESE TRIGGERS are not involded:

HLT_mu50                       "HLT_mu50",
HLT_mu6                       "HLT_mu6",
HLT_mu60                       "HLT_mu60",
HLT_mu6_bJpsi_TrkPEB                       "HLT_mu6_bJpsi_TrkPEB",
HLT_mu6_bJpsi_Trkloose                       "HLT_mu6_bJpsi_Trkloose",
HLT_mu6_idperf                       "HLT_mu6_idperf",
HLT_mu6_msonly                       "HLT_mu6_msonly",
HLT_mu6_mu4_bJpsimumu                       "HLT_mu6_mu4_bJpsimumu",
HLT_mu6_mu4_bJpsimumu_noL2                       "HLT_mu6_mu4_bJpsimumu_noL2",
HLT_mu8noL1                       "HLT_mu8noL1",
HLT_mu13_mu13_idperf_Zmumu                       "HLT_mu13_mu13_idperf_Zmumu",
HLT_mu15                       "HLT_mu15",
HLT_mu15_L1MU6                       "HLT_mu15_L1MU6",
HLT_mu15_L1MU10                       "HLT_mu15_L1MU10",
HLT_mu8_idperf                       "HLT_mu8_idperf",
HLT_mu8                       "HLT_mu8",
HLT_mu10_L1MU6                       "HLT_mu10_L1MU6",
HLT_mu10_iloose                       "HLT_mu10_iloose",
HLT_mu20_L1MU15                       "HLT_mu20_L1MU15",
HLT_mu15_msonly                       "HLT_mu15_msonly",

/../MuonPerformanceAnalysis/MuonPtCalibNtupleMaker/src/TrigInfo.cxx:    std::map<std::string, std::vector<int>> triggers = {{"HLT_2mu10", {10, 10}},

HLT_2mu10_bJpsimumu_noL2_L12MU10", {10, 10}},                        
HLT_2mu14", {14, 14}},                        
HLT_2mu4_bJpsimumu", {4, 4}},                        
HLT_2mu4_bUpsimumu", {4, 4}},                        
HLT_2mu6_bBmumu_Lxy0_L1BPH-2M9-2MU6_BPH-2DR15-2MU6", {6, 6}},                        
HLT_2mu6_bBmumux_BsmumuPhi_L1BPH-2M9-2MU6_BPH-2DR15-2MU6", {6, 6}},                        
HLT_2mu6_bJpsimumu", {6, 6}},                        
HLT_2mu6_bJpsimumu_L1BPH-2M9-2MU6_BPH-2DR15-2MU6", {6, 6}},                        
HLT_2mu6_bJpsimumu_Lxy0_L1BPH-2M9-2MU6_BPH-2DR15-2MU6", {6, 6}},                        
HLT_2mu6_bUpsimumu", {6, 6}},                        
HLT_2mu6_bUpsimumu_L1BPH_8M15_2MU6_BPH_0DR22_2MU6", {6, 6}},                        
HLT_mu10_bJpsi_TrkPEB", {10}},                        
HLT_mu10_bJpsi_Trkloose", {10}},                        
HLT_mu10_mu6_bJpsimumu", {10}},                        
HLT_mu10_mu6_bUpsimumu", {10}},                        
HLT_mu11_mu6_bDimu", {11}},                        
HLT_mu11_mu6_bDimu2700", {11}},                        
HLT_mu11_mu6_bDimu2700_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bDimu2700_Lxy0", {11}},                        
HLT_mu11_mu6_bDimu2700_Lxy0_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bDimu_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bDimu_Lxy0", {11}},                        
HLT_mu11_mu6_bDimu_Lxy0_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bJpsimumu", {11}},                        
HLT_mu11_mu6_bJpsimumu_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bJpsimumu_Lxy0", {11}},                        
HLT_mu11_mu6_bJpsimumu_Lxy0_L1LFV-MU11", {11}},                        
HLT_mu11_mu6_bUpsimumu", {11}},                        
HLT_mu11_mu6_bUpsimumu_L1LFV-MU11", {11}},                        
HLT_mu18_mu8noL1", {18, 8}},                        
HLT_mu20_iloose_L1MU15", {20}},                        
HLT_mu20_ivarloose_L1MU15", {20}},                        
HLT_mu20_mu8noL1", {20, 8}},                        
HLT_mu22_mu8noL1", {22, 8}},                        
HLT_mu24_iloose", {24}},                        
HLT_mu24_iloose_L1MU15", {24}},                        
HLT_mu24_imedium", {24}},                        
HLT_mu24_ivarloose", {24}},                        
HLT_mu24_ivarloose_L1MU15", {24}},                        
HLT_mu24_ivarmedium", {24}},                        
HLT_mu26_ivarmedium", {26}},                        
HLT_mu4_bJpsi_Trkloose", {4}},                        
HLT_mu50", {50}},                        
HLT_mu6_bJpsi_TrkPEB", {6}},                        
HLT_mu6_mu4_bJpsimumu", {6}}};                        



HLT_2mu6_bJpsimumu
HLT_2mu6_bJpsimumui_noL2
HLT_mu10
HLT_mu10_idperf
HLT_mu10_msonly
HLT_mu14
HLT_mu14_ivarloose
HLT_mu15noL1
HLT_mu18
HLT_mu18_2mu0noL1_JpsimumuFS
HLT_mu18_2mu4noL1_JpsimumuL2
HLT_mu18noL1
HLT_mu20
HLT_mu20_idperf
HLT_mu20_iloose_L1MU15
HLT_mu20_ivarloose_L1MU15
HLT_mu20_msonly
HLT_mu22
HLT_mu24
HLT_mu24_iloose
HLT_mu24_iloose_L1MU15
HLT_mu24_imedium
HLT_mu24_ivarloose
HLT_mu24_ivarloose_L1MU15
HLT_mu24_ivarmedium
HLT_mu26_imedium
HLT_mu26_ivarmedium
HLT_mu28_imedium
HLT_mu28_ivarmedium
HLT_mu4
HLT_mu40
HLT_mu4_idperf
HLT_mu4_msonly
HLT_mu4_mu4_idperf_bJpsimumu_noid





||(trig == "HLT_mu50")
||(trig == "HLT_mu6")
||(trig == "HLT_mu60")
||(trig == "HLT_mu6_bJpsi_TrkPEB")
||(trig == "HLT_mu6_bJpsi_Trkloose")
||(trig == "HLT_mu6_idperf")
||(trig == "HLT_mu6_msonly")
||(trig == "HLT_mu6_mu4_bJpsimumu")
||(trig == "HLT_mu6_mu4_bJpsimumu_noL2")
||(trig == "HLT_mu8noL1")
||(trig == "HLT_mu13_mu13_idperf_Zmumu")
||(trig == "HLT_mu15")
||(trig == "HLT_mu15_L1MU6")
||(trig == "HLT_mu15_L1MU10")
||(trig == "HLT_mu8_idperf")
||(trig == "HLT_mu8")
||(trig == "HLT_mu10_L1MU6")
||(trig == "HLT_mu10_iloose")
||(trig == "HLT_mu20_L1MU15")
||(trig == "HLT_mu15_msonly")



Zkusit neco tady:

../../MuonPerformanceAnalysis/athena_21.2/Trigger/TriggerCommon/TriggerJobOpts/python/TriggerConfigGetter.py

pPbMCNo0_MCP_no_trig/0/log.AODtoDPD_pp

testrun:
Reco_tf.py --inputAODFile="root://golias100.farm.particle.cz:1094//dpm/farm.particle.cz/home/atlas/atlaslocalgroupdisk/rucio/mc16_pPb8TeV/fa/f3/DAOD_MUON1.23129534._000001.pool.root.1" --outputNTUP_MCPTPFile=pPbMCNo0_test.root --maxEvents 100


problem is here probably:

../../MuonPerformanceAnalysis/athena_21.2/Trigger/TrigAnalysis/TriggerMatchingTool/Root/MatchingTool.cxx

chyba v TrigMuonMatching.cxx


/usr/local/lib/python3.6/dist-packages/astropy/time/formats.py in to_value()
    965             if timezone is not None:
    966                 out[...] = datetime.datetime(iy, im, id, ihr, imin, isec, ifracsec,
--> 967                                              tzinfo=TimezoneInfo()).astimezone(timezone)
    968             else:
    969                 out[...] = datetime.datetime(iy, im, id, ihr, imin, isec, ifracsec)

ValueError: year -4713 is out of range

Trying to run on AODs->DAOD
Reco_tf.py --preExec 'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg( "BTaggingELFixer", Containers=["BTagging_AntiKt4HIAux.", "BTagging_AntiKt4EMTopoAux."] )' --inputAODFile="root://golias100.farm.particle.cz:1094//dpm/farm.particle.cz/home/atlas/atlaslocalgroupdisk/rucio/mc16_pPb8TeV/31/7f/AOD.21941446._000001.pool.root.1" --outputDAODFile AODtoMUON1.root --reductionConf MUON1


Trying to run on DAODs->ntuple
Reco_tf.py --inputAODFile=../DAOD_MUON1.AODtoMUON1.root --outputNTUP_MCPTPFile=pPbMCNo0_test.root --maxEvents 100


Reco_tf.py --preExec 'from BTagging.BTaggingFlags import BTaggingFlags; BTaggingFlags.CalibrationTag = "BTagCalibRUN12Onl-08-49"; from AthenaCommon.AlgSequence import AlgSequence; topSequence = AlgSequence(); topSequence += CfgMgr.xAODMaker__DynVarFixerAlg( "BTaggingELFixer", Containers=["BTagging_AntiKt4HIAux.", "BTagging_AntiKt4EMTopoAux."] ), ESDtoAOD:from RecExConfig.RecFlags import rec;from RecExConfig.RecAlgsFlags import recAlgs;rec.doTrigger.set_Value_and_Lock(False);recAlgs.doTrigger.set_Value_and_Lock(False)' --inputAODFile="root://golias100.farm.particle.cz:1094//dpm/farm.particle.cz/home/atlas/atlaslocalgroupdisk/rucio/mc16_pPb8TeV/31/7f/AOD.21941446._000001.pool.root.1" --outputDAODFile AODtoMUON1.root --reductionConf MUON1 --maxEvents 100

Reco_tf.py --inputAODFile=../runDAOD/DAOD_MUON1.AODtoMUON1.root --outputNTUP_MCPTPFile=pPbMCNo0_test.root --maxEvents 100


rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00


rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_420068_np.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_361107_e6431.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_361107_e6430.txt
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_420067_pn.txt


pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt list_DAOD_420068_np.txt --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MCPntulpes_no1_v6
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt list_DAOD_361107_e6431.txt --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.MCPntulpes_no2_v6
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt list_DAOD_361107_e6430.txt --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.MCPntulpes_no3_v6
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDSTxt list_DAOD_420067_pn.txt --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.MCPntulpes_no4_v6

list_DAOD_420068_np.txt
list_DAOD_361107_e6431.txt
list_DAOD_361107_e6430.txt
list_DAOD_420067_pn.txt

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root --maxEvents 100" --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MCPntulpes_no1_v6


pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MCPntulpes_no1_v7 

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MCPntpl_no1_v8
INFO : succeeded. new jediTaskID=24386401
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.e6431.MCPntpl_no1_v8
INFO : succeeded. new jediTaskID=24386426
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.e6430.MCPntpl_no1_v8
INFO : succeeded. new jediTaskID=24386433
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.MCPntpl_no1_v8
INFO : succeeded. new jediTaskID=24386448

write to: hn-atlas-dist-analysis-help@cern.ch 

trying to modify
../../MuonPerformanceAnalysis/athena_21.2/Trigger/TrigAnalysis/TrigDecisionTool/TrigDecisionTool/CacheGlobalMemory.h
L110 return m_chainGroupsRef -> return m_chainGroups

running on the cern:
Reco_tf.py --inputAODFile ../data/mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00/DAOD_MUON1.23129534._000001.pool.root.1 --outputNTUP_MCPTPFile pPbMCNo2_8b.root --maxEvents 100 


Hi Davide, I found that our MC+data ovelay samples are using trigger from data overlay, which is set in RDO-> AOD step,  see preExec globalflags.DataSource.set_Value_and_Lock(\"data\") in here https://bigpanda.cern.ch/task/23336273/ So I am cominicating new production with experts with  globalflags.DataSource.set_Value_and_Lock(\"geant4\"). Will let you know how it goes. So the QT is more question of our samples rather then me coding the package at the moment. Howeveer I could proceed plots of efficiencies  till next week with dataoverlay trigger, which gives "wrong results" in sence of our analysis, but it shows that modified version of the package can produced the ntuples based on isDataOverlay flag. 


Reco_tf.py --AMITag=r12235 --autoConfiguration=everything --postExec "RAWtoESD:from AthenaCommon import CfgGetter;CfgGetter.getPublicTool(\"LArCellBuilderFromLArRawChannelTool\").RawChannelsName = \"LArRawChannels_FromDigits\";" "all:CfgMgr.MessageSvc().setError+=[\"HepMcParticleLink\"];" "RDOtoRDOTrigger:ToolSvc.TrigDataAccess.ApplyOffsetCorrection=False;job.Run2TriggerTowerMaker.IsReco=True;job.Run2TriggerTowerMaker.inputTTLocation=\"NoneForOverlay\";from AthenaCommon import CfgGetter;CfgGetter.getPublicTool(\"LArCellBuilderFromLArRawChannelTool\").RawChannelsName=\"LArRawChannels_FromDigits\";conddb.blockFolder(\"/TGC/TRIGGER/CW_EIFI\");conddb.addFolderWithTag(\"TGC_OFL\",\"/TGC/TRIGGER/CW_EIFI\", \"TgcTriggerCwEifi-00-02\", force=True,forceMC=True);conddb.blockFolder(\"/TGC/TRIGGER/CW_BW\");conddb.addFolderWithTag(\"TGC_OFL\",\"/TGC/TRIGGER/CW_BW\",\"TgcTriggerCwBw-00-04\", force=True,forceMC=True);conddb.blockFolder(\"/TGC/TRIGGER/CW_TILE\");conddb.addFolderWithTag(\"TGC_OFL\",\"/TGC/TRIGGER/CW_TILE\",\"TgcTriggerCwTile-00-01\",force=True,forceMC=True);conddb.blockFolder(\"/TDAQ/OLC/LHC/BUNCHDATA\");conddb.blockFolder(\"/TDAQ/OLC/LHC/FILLPARAMS\")" "ESDtoAOD:from TrigEDMConfig.TriggerEDM import *; [ StreamAOD.ItemList.append(i[0]) for i in TriggerLvl1List+TriggerResultsList+TriggerHLTList ]; [ StreamAOD.ItemList.append(type+\"#\"+k) for type, keys in getTriggerEDMList(\"AODFULL\", 2).iteritems() for k in keys ];StreamAOD.ItemList.append(\"TrigInDetTrackTruthMap#TrigInDetTrackTruthMap\");" "POOLMergeAthenaMPAOD0:from TrigEDMConfig.TriggerEDM import *; [ StreamAOD.ItemList.append(i[0]) for i in TriggerLvl1List+TriggerResultsList+TriggerHLTList ]; [ StreamAOD.ItemList.append(type+\"#\"+k) for type, keys in getTriggerEDMList(\"AODFULL\", 2).iteritems() for k in keys ];StreamAOD.ItemList.append(\"TrigInDetTrackTruthMap#TrigInDetTrackTruthMap\");" --postInclude "all:RecJobTransforms/UseFrontier.py" "RAWtoESD:EventOverlayJobTransforms/Rt_override_CONDBR2-BLKPA-2015-12.py,EventOverlayJobTransforms/muAlign_HI_reco.py,EventOverlayJobTransforms/blockFoldersHI_RAWtoESD.py" "RDOtoRDOTrigger:EventOverlayJobTransforms/Rt_override_CONDBR2-BLKPA-2015-12.py,EventOverlayJobTransforms/CTPSimWithDataOverlay.py" "ESDtoAOD:EventOverlayJobTransforms/blockFoldersHI_ESDtoAOD.py" --preExec "all:rec.doHIP.set_Value_and_Lock(True);muonRecFlags.writeSDOs=True;from InDetRecExample.InDetJobProperties import InDetFlags;InDetFlags.useDynamicAlignFolders.set_Value_and_Lock(True)" "RAWtoESD:jobproperties.Beam.energy.set_Value_and_Lock(4080000.0);jobproperties.Beam.numberOfCollisions.set_Value_and_Lock(0.0);jobproperties.Beam.bunchSpacing.set_Value_and_Lock(100);from LArROD.LArRODFlags import larRODFlags;larRODFlags.nSamples.set_Value_and_Lock(4);from LArDigitization.LArDigitizationFlags import jobproperties;jobproperties.LArDigitizationFlags.useFcalHighGain.set_Value_and_Lock(True);InDetFlags.doForwardTracks.set_Value_and_Lock(True)" "RDOtoRDOTrigger:from AthenaCommon.GlobalFlags import globalflags;globalflags.DataSource.set_Value_and_Lock(\"data\");from TriggerJobOpts.TriggerFlags import TriggerFlags;TriggerFlags.doTransientByteStream.set_Value_and_Lock(False);TriggerFlags.triggerConfig=\"MCRECO:MC_HI_v4_tight_mc_prescale\";" "ESDtoAOD:from RecExConfig.RecFlags import rec;from RecExConfig.RecAlgsFlags import recAlgs;rec.doTrigger.set_Value_and_Lock(False);recAlgs.doTrigger.set_Value_and_Lock(False);from RecExConfig.ObjKeyStore import objKeyStore;objKeyStore.addStreamAOD(\"xAOD::TrigSpacePointCountsContainer\",\"HLT_xAOD__TrigSpacePointCountsContainer_spacepoints\");objKeyStore.addStreamAOD(\"xAOD::TrigSpacePointCountsAuxContainer\",\"HLT_xAOD__TrigSpacePointCountsContainer_spacepointsAux.\");" "POOLMergeAthenaMPAOD0:from RecExConfig.RecFlags import rec;from RecExConfig.RecAlgsFlags import recAlgs;rec.doTrigger.set_Value_and_Lock(False);recAlgs.doTrigger.set_Value_and_Lock(False);from RecExConfig.ObjKeyStore import objKeyStore;objKeyStore.addStreamAOD(\"xAOD::TrigSpacePointCountsContainer\",\"HLT_xAOD__TrigSpacePointCountsContainer_spacepoints\");objKeyStore.addStreamAOD(\"xAOD::TrigSpacePointCountsAuxContainer\",\"HLT_xAOD__TrigSpacePointCountsContainer_spacepointsAux.\");" --preInclude "default:EventOverlayJobTransforms/custom.py,EventOverlayJobTransforms/recotrfpre.py" "RDOtoRDOTrigger:HIRecExample/hip_flagsESD.py,EventOverlayJobTransforms/custom_MC.py,EventOverlayJobTransforms/recotrfpre.py" --runNumber=361107 --steering "RAWtoESD:in-RDO,in-BS,in+RDO_TRIG" --triggerConfig="RDOtoRDOTrigger=MCRECO:MC_HI_v4_tight_mc_prescale" --inputRDOFile=RDO.23336270._000020.pool.root.1 --outputAODFile=AODtest.root

Reco_tf.py --inputRDOFile=RDO.23336270._000020.pool.root.1 --outputAODFile=AODtest.root

TriggerConfigGetter modified:

import PyUtils.AthFile as AthFile
af = AthFile.fopen("/eos/user/p/pebaron/Shared/data/mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.digit.RDO.e6431_d1558_tid21939454_00/RDO.21939454._005840.pool.root.1")
isDataOverlay = False
if '/Simulation/Parameters' in af.fileinfos['metadata'].keys():
    if 'IsEventOverlayInputSim' in af.fileinfos['metadata']['/Simulation/Parameters']:
        isDataOverlay = af.fileinfos['metadata']['/Simulation/Parameters']['IsEventOverlayInputSim']
isDataOverlay = False


running on data and MC again without MuonCaloIDTag cut on lxplus:
asetup AthDerivation,21.2.110.0,here
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3

DATA succeeded:
user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3_EXT0
user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3_EXT0
replicated to PRAGUE_LOCALGROUPDISK

rucio list-file-replicas user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3_EXT0 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_data_periodB_ntuples_noMuonCaloIDTag.txt
rucio list-file-replicas user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_noCaloIDTag_v3_EXT0 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_data_periodC_ntuples_noMuonCaloIDTag.txt

list_data_periodB_ntuples_noMuonCaloIDTag.txt
list_data_periodC_ntuples_noMuonCaloIDTag.txt

MC nut successful, running on farm in condor using 
for i in {0..3}; do condor_submit runchar_pPbMCNo$i.sub;done
in /mnt/nfs19/pebaron/muons_latest/runMC/Characteristics

running Calo Efficiencies:
WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o data_noMuonCaloIDTag.root | tee log_wtph_data.txt
WriteTagProbeHistos -i MC0_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC0_noMuonCaloIDTag.root | tee log_wtph_MC0.txt

plotting:
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC0.py -o ./probe_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC0.py -o ./eff_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 


mail to Tim:
I have checked the ntuples and result is not setisfying, same as at the beggining since I use data overlay riggers.

I tried to run with original code versus modified code (when readMC is forced + runnumber omitted)
And I cut the time and had a look at difference:

less logmc | cut -c 10-200 &> logmc_cut             - here is readMc forced
less logdata | cut -c 10-200 &> logdata_cut        - here is oriinal code

Had a look at difference:
diff logmc_cut logdata_cut &> diff.txt

Could you please have a look at diff.txt? You might have better idea why we are getting zeros in case of forced MC.



run daods on farm
asetup AthDerivation,21.2.108.0,here

asetup AthDerivation,21.2.108.0,here


AODtoDAOD 11:56:47 =====================================================
AODtoDAOD 11:56:47  Message Source              |   Level |    Count
AODtoDAOD 11:56:47 -----------------------------+---------+-------------
AODtoDAOD 11:56:47  DetectorStore               | WARNING |        4
AODtoDAOD 11:56:47  HistogramPersistencySvc     | WARNING |        1
AODtoDAOD 11:56:47  IOVDbSvc                    | WARNING |       11
AODtoDAOD 11:56:47  PixelDetectorManager        | WARNING |        2
AODtoDAOD 11:56:47  PoolSvc                     | WARNING |        2
AODtoDAOD 11:56:47  ToolSvc.MUON1JpsiFinderName.VKalVrtFitterName| WARNING |      136
AODtoDAOD 11:56:47  ToolSvc.MuonTPExtrapolationTool| WARNING |        4
AODtoDAOD 11:56:47  ToolSvc.TrkDepositInCaloTool| WARNING |        1
AODtoDAOD 11:56:47  xAODMaker::EventFormatSvc   | WARNING |        4
AODtoDAOD 11:56:47 =====================================================
AODtoDAOD 11:56:47 Py:Athena            INFO leaving with code 0: "successful run"
AODtoDAOD 11:56:47 CoralApplication Info Delete the COOL CoralApplication...
AODtoDAOD 11:56:47 CoralApplication Info Delete the COOL database service
AODtoDAOD 11:56:47 RalDatabaseSvc Info Delete the RalDatabaseSvc...
AODtoDAOD 11:56:47 RalDatabaseSvc Info Purge the connection pool
AODtoDAOD 11:56:47 RalDatabaseSvc Info Reset the ICS pointer
AODtoDAOD 11:56:47 RalDatabaseSvc Info Delete the RalDatabaseSvc... DONE
AODtoDAOD 11:56:47 CoralApplication Info Delete the CORAL connection service
AODtoDAOD 11:56:47 CoralApplication Info Delete the COOL CoralApplication... DONE
AODtoDAOD 11:56:48 CORAL/Services/ConnectionService Info Deleting the ConnectionPool
PyJobTransforms.trfExe.execute 2021-03-23 11:56:48,557 INFO AODtoDAOD executor returns 0
PyJobTransforms.trfExe.validate 2021-03-23 11:56:49,492 INFO Executor AODtoDAOD validated successfully (return code 0)
PyJobTransforms.trfArgClasses._readMetadata 2021-03-23 11:56:49,497 INFO Metadata generator called to obtain nentries for ('DAOD_MUON1.DAOD_MUON1.root',)
PyJobTransforms.trfValidation.decide 2021-03-23 11:56:49,567 INFO Matched output data type DAOD_MUON1 to DAOD_* by globbing
PyJobTransforms.trfValidation.decide 2021-03-23 11:56:49,567 INFO Event count check for AOD to DAOD_MUON1 passed: found (61 output events selected from 100 processed events)
PyJobTransforms.trfExe.validate 2021-03-23 11:56:49,567 INFO Event counting for substep AODtoDAOD passed
PyJobTransforms.trfExe.validate 2021-03-23 11:56:49,581 INFO Scanning logfile log.AODtoDAOD for errors in substep a2da
PyJobTransforms.trfExe.validate 2021-03-23 11:56:50,081 ERROR Fatal error in athena logfile (level ERROR)
PyJobTransforms.transform.execute 2021-03-23 11:56:50,082 CRITICAL Transform executor raised TransformLogfileErrorException: Fatal error in athena logfile: "Logfile error in log.AODtoDAOD: "Py:TriggerFlags.readLVL1configFromXML   ERROR Cannot find LVL1 xml file LVL1config_MC_HI_v4_tight_mc_prescale_21.2.118.0.xml""
PyJobTransforms.transform.execute 2021-03-23 11:56:53,366 WARNING Transform now exiting early with exit code 68 (Fatal error in athena logfile: "Logfile error in log.AODtoDAOD: "Py:TriggerFlags.readLVL1configFromXML   ERROR Cannot find LVL1 xml file LVL1config_MC_HI_v4_tight_mc_prescale_21.2.118.0.xml"")


running data again with Modified Calo:

from:
return m_selection_tool->passedCaloTagQuality(*mumatch) && mumatch->isAuthor(xAOD::Muon::CaloTag);
to:
return ((mumatch->isAuthor(xAOD::Muon::CaloTag)) || (mumatch->isAuthor(xAOD::Muon::CaloLikelihood)) ) ;

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag
INFO : succeeded. new jediTaskID=24645224
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag
INFO : succeeded. new jediTaskID=24645240

needed to take all muons insted of loose muons
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v2
INFO : succeeded. new jediTaskID=24652070
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v2
INFO : succeeded. new jediTaskID=24652071

changed due to the normalization 
../MuonTPPostProcessing/MuonTPPostProcessing/Root/MetaDataTreeReader.cxx L582


LambdaMulti_just2_R_04_Q_50_gluon_quark_without.pdf
LambdaMulti_just2_R_10_Q_50_gluon_quark_without.pdf
LambdaLha_just2_R_04_Q_50_gluon_quark_without.pdf
LambdaLha_just2_R_10_Q_50_gluon_quark_without.pdf
LambdaMulti_just2_R_04_Q_50_gluon_quark.pdf
LambdaMulti_just2_R_10_Q_50_gluon_quark.pdf
LambdaLha_just2_R_04_Q_50_gluon_quark.pdf
LambdaLha_just2_R_10_Q_50_gluon_quark.pdf
LambdaMultiR_04_Q_50_gluon_quark.pdf
LambdaMultiR_10_Q_50_gluon_quark.pdf
LambdaLHAR_04_Q_50_gluon_quark.pdf
LambdaLHAR_10_Q_50_gluon_quark.pdf


cd /home/pebaron/madgraph_runs/pp2ttbarj_ljets_both_LO_Zp_500
screen -r 23843.pts-9.iga2011
for i in {0..40};do echo Running $i; ./Run_MagGraph.sh ;done
import model /home/pebaron/madgraph_runs/Abelian_Higgs_Model_UFO
generate p p > zp > t t~, t > l+ vl b, t~ > j j b~ @0
add process p p > zp > t t~ j, t > l+ vl b, t~ > j j b~ @1
add process p p > zp > t t~, t > j j b, t~ > l- vl~ b~ @0
add process p p > zp > t t~ j, t > j j b, t~ > l- vl~ b~ @1
launch /home/pebaron/madgraph_runs/pp2ttbarj_ljets_both_LO
shower=Pythia8
detector=Delphes

From https://gitlab.cern.ch/atlas-mcp/MuonPerformanceAnalysis
   b75ecab..701c8f1  master     -> origin/master
 * [new branch]      make_tag_probe_br_config -> origin/make_tag_probe_br_config
 + 5164994...6cf09e7 pebaron    -> origin/pebaron  (forced update)
Updating b75ecab..701c8f1
Fast-forward
 MuonPerformanceAlgs/data/SampleLists/Data_Release22.txt | 10 +++++++++-
 MuonPerformanceAlgs/python/CommonMuonTPConfig.py        |  3 +--
 MuonPerformanceAlgs/python/DYmumuTPMuonAnalysis.py      |  2 +-
 MuonPerformanceAlgs/python/DYmumuTPRecoAnalysis.py      |  2 +-
 MuonPerformanceAlgs/python/HighPtSingleMuonWriter.py    |  2 +-
 MuonPerformanceAlgs/python/JPsiTPAnalysis.py            |  2 +-
 MuonPerformanceAlgs/python/TruthTPRecoAnalysis.py       |  2 +-
 MuonPerformanceAlgs/python/UpsilonTPMuonAnalysis.py     |  2 +-
 MuonPerformanceAlgs/python/ZmumuTPAnalysis.py           |  2 +-
 MuonTPTools/MuonTPTools/MuonTPSelectionTool.h           | 13 +++++++------
 MuonTPTools/MuonTPTools/MuonTPTool.h                    |  1 -
 MuonTPTools/Root/MuonTPSelectionTool.cxx                |  4 ++++
 MuonTPTools/Root/MuonTPTool.cxx                         |  3 +--


changes in updated master:
/mnt/nfs19/pebaron/muon_master/MuonPerformanceAnalysis/MuonTPTools/Root/MuonTPSelectionTool.cxx

11:14:39 Error in <MuonBTaggingHelper()>: Failed to retrieve Btag efficiency SF for jet with pt: 38.88 GeV eta: -0.62  phi: 2.-1.583016

run in master version branch pebaron_v2:
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v3
INFO : succeeded. new jediTaskID=24809451
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v3
INFO : succeeded. new jediTaskID=24809482

run in master version branch pebaron_v2 second try:
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v4
INFO : succeeded. new jediTaskID=24811899
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v4
INFO : succeeded. new jediTaskID=24812000

data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903
data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903


WriteTagProbeHistos -i MC0_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC0_noMuonCaloIDTag.root | tee log_wtph_MC0.txt
WriteTagProbeHistos -i MC1_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC0_noMuonCaloIDTag.root | tee log_wtph_MC1.txt
WriteTagProbeHistos -i MC2_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC0_noMuonCaloIDTag.root | tee log_wtph_MC2.txt
WriteTagProbeHistos -i MC3_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o MC0_noMuonCaloIDTag.root | tee log_wtph_MC3.txt

python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC0.py -o ./probe_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC0.py -o ./eff_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 

root://xcache1.farm.particle.cz:1094//root://atlasxrootd-kit.gridka.de:1094//pnfs/gridka.de/atlas/disk-only/atlasdatadisk/rucio/data17_13TeV/8f/88/data17_13TeV.00331020.physics_MinBias.merge.AOD.f935_m1992._lb0438._0001.1


python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC0.py -o ./probe_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC1.py -o ./probe_reco_pPb_MC1 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC2.py -o ./probe_reco_pPb_MC2 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t ProbePlots --config DSConfigMC3.py -o ./probe_reco_pPb_MC3 --noDDBkg --noIDCorr -a ZmumuTPReco -w 

python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC0.py -o ./eff_reco_pPb_MC0 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC1.py -o ./eff_reco_pPb_MC1 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC2.py -o ./eff_reco_pPb_MC2 --noDDBkg --noIDCorr -a ZmumuTPReco -w 
python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/GeneratePlots.py -t EffPlots --config DSConfigMC3.py -o ./eff_reco_pPb_MC3 --noDDBkg --noIDCorr -a ZmumuTPReco -w 

run in master version branch pebaron_v2 third try:
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5
INFO : succeeded. new jediTaskID=24828824
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903 --outDS user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5
INFO : succeeded. new jediTaskID=24828855

succeeded:
user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0
user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0

rucio list-file-replicas user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_data_periodB_ntuples_v5.txt
rucio list-file-replicas user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_data_periodC_ntuples_v5.txt

WriteTagProbeHistos -i data_2016_B_and_C_grp16_v01_p3903_noMuonCaloIDTag.conf -h ../MuonTPPostProcessing/MuonTPPostProcessing/data/HistoConf/BasicHistosForZmumuReco.conf -r ../MuonTPPostProcessing/MuonTPPostProcessing/data/RunConf/ZReco/ZReco/ZReco_CaloProbes_MediumMuons.conf -o data_noMuonCaloIDTag.root | tee log_wtph_data.txt


do again 
rucio list-file-replicas mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_420068_np_no0.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_361107_e6431_no1.txt
rucio list-file-replicas mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_361107_e6430_no2.txt
rucio list-file-replicas mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 | grep PRAGUELCG2_LOCALGROUPDISK | awk '{ print $12 }' &> list_DAOD_420067_pn_no3.txt

original parameter

WZp = Parameter(name = 'WZp',
                nature = 'external',
                type = 'real',
                value = 0.0008252,
                texname = '\\text{WZp}',
                lhablock = 'DECAY',
                lhacode = [ 1023 ])


files = ["unfolding_0.000000_zp1600_or_width.root", "unfolding_0.050000_zp1600_or_width.root", "unfolding_0.100000_zp1600_or_width.root", "unfolding_0.150000_zp1600_or_width.root", "unfolding_0.200000_zp1600_or_width.root", "unfolding_0.250000_zp1600_or_width.root", "unfolding_0.300000_zp1600_or_width.root", "unfolding_0.400000_zp1600_or_width.root", "unfolding_0.500000_zp1600_or_width.root", "unfolding_0.600000_zp1600_or_width.root", "unfolding_0.700000_zp1600_or_width.root", "unfolding_0.900000_zp1600_or_width.root", "unfolding_1.000000_zp1600_or_width.root"]

114.71075

Truth dict :  114.71075
unfolded:  176.84057869070037
truth:  171.0

Truth dict :  114.71075
unfolded:  176.84057869070037
truth:  171.0

Uprava v 
../build/x86_64-centos7-gcc62-opt/python/PyUtils/FilePeekerTool.py L352

pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root" --inDS mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129534_00 --outDS user.pebaron.mc16_pPb8TeV.420068.PowhegPythia8EvtGen_AZNLOCTEQ6L1_np_Zmumu.MCPntpl_no1_v9
INFO : succeeded. new jediTaskID=24945805
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129536_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.e6431.MCPntpl_no1_v9
INFO : succeeded. new jediTaskID=24945821
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.deriv.DAOD_MUON1.e6430_d1557_r11936_r11932_p4318_tid23129538_00 --outDS user.pebaron.mc16_pPb8TeV.361107.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zmumu.e6430.MCPntpl_no1_v9
INFO : succeeded. new jediTaskID=24945839
pathena --useNewTRF --trf "Reco_tf.py --inputAODFile=%IN --outputNTUP_MCPTPFile %OUT.NTUP.root " --inDS mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.deriv.DAOD_MUON1.e6431_d1558_r11936_r11932_p4318_tid23129540_00 --outDS user.pebaron.mc16_pPb8TeV.420067.PowhegPythia8EvtGen_AZNLOCTEQ6L1_pn_Zmumu.MCPntpl_no1_v9
INFO : succeeded. new jediTaskID=24945843

ewaborsuk123@gmail.com

Questions to Davide:

how to generate / save SF ?
how to generate / save 2D SF ?
Systematics with Calo eff ?
What selection for data driven backgound ?
Submit_to_batch script?


Trying to create scae factors:

python ../build/x86_64-centos7-gcc62-opt/python/MuonTPPostProcessing/CreateSF.py --InCfgDir /mnt/nfs19/pebaron/MuonTPP_modif/run/InputConfDir/ --config DSConfigMC0.py 


setting everything on lxplus from scratch:

rucio download user.pebaron.data16_hip8TeV.periodB.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0/
rucio download user.pebaron.data16_hip8TeV.periodC.physics_Main.PhysCont.DAOD_MUON1.grp16_v01_p3903_ntpl_modifCaloTag_v5_EXT0/